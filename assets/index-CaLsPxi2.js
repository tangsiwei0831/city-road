var vp=Object.defineProperty;var mp=(e,t,n)=>t in e?vp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var N=(e,t,n)=>mp(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ho(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hc={exports:{}},Wo={},pc={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=Symbol.for("react.element"),gp=Symbol.for("react.portal"),yp=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),xp=Symbol.for("react.profiler"),Ep=Symbol.for("react.provider"),Sp=Symbol.for("react.context"),Cp=Symbol.for("react.forward_ref"),kp=Symbol.for("react.suspense"),_p=Symbol.for("react.memo"),Tp=Symbol.for("react.lazy"),hu=Symbol.iterator;function Pp(e){return e===null||typeof e!="object"?null:(e=hu&&e[hu]||e["@@iterator"],typeof e=="function"?e:null)}var vc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mc=Object.assign,gc={};function vr(e,t,n){this.props=e,this.context=t,this.refs=gc,this.updater=n||vc}vr.prototype.isReactComponent={};vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yc(){}yc.prototype=vr.prototype;function os(e,t,n){this.props=e,this.context=t,this.refs=gc,this.updater=n||vc}var ls=os.prototype=new yc;ls.constructor=os;mc(ls,vr.prototype);ls.isPureReactComponent=!0;var pu=Array.isArray,wc=Object.prototype.hasOwnProperty,as={current:null},xc={key:!0,ref:!0,__self:!0,__source:!0};function Ec(e,t,n){var r,i={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)wc.call(t,r)&&!xc.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var s=Array(a),u=0;u<a;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pi,type:e,key:o,ref:l,props:i,_owner:as.current}}function Ap(e,t){return{$$typeof:pi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ss(e){return typeof e=="object"&&e!==null&&e.$$typeof===pi}function Mp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vu=/\/+/g;function vl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mp(""+e.key):t.toString(36)}function Xi(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case pi:case gp:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+vl(l,0):r,pu(i)?(n="",e!=null&&(n=e.replace(vu,"$&/")+"/"),Xi(i,t,n,"",function(u){return u})):i!=null&&(ss(i)&&(i=Ap(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(vu,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",pu(e))for(var a=0;a<e.length;a++){o=e[a];var s=r+vl(o,a);l+=Xi(o,t,n,s,i)}else if(s=Pp(e),typeof s=="function")for(e=s.call(e),a=0;!(o=e.next()).done;)o=o.value,s=r+vl(o,a++),l+=Xi(o,t,n,s,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function xi(e,t,n){if(e==null)return e;var r=[],i=0;return Xi(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Lp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},qi={transition:null},Rp={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:qi,ReactCurrentOwner:as};function Sc(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:xi,forEach:function(e,t,n){xi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xi(e,function(){t++}),t},toArray:function(e){return xi(e,function(t){return t})||[]},only:function(e){if(!ss(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=vr;K.Fragment=yp;K.Profiler=xp;K.PureComponent=os;K.StrictMode=wp;K.Suspense=kp;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rp;K.act=Sc;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mc({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=as.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(s in t)wc.call(t,s)&&!xc.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&a!==void 0?a[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){a=Array(s);for(var u=0;u<s;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:pi,type:e.type,key:i,ref:o,props:r,_owner:l}};K.createContext=function(e){return e={$$typeof:Sp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ep,_context:e},e.Consumer=e};K.createElement=Ec;K.createFactory=function(e){var t=Ec.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:Cp,render:e}};K.isValidElement=ss;K.lazy=function(e){return{$$typeof:Tp,_payload:{_status:-1,_result:e},_init:Lp}};K.memo=function(e,t){return{$$typeof:_p,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=qi.transition;qi.transition={};try{e()}finally{qi.transition=t}};K.unstable_act=Sc;K.useCallback=function(e,t){return Ve.current.useCallback(e,t)};K.useContext=function(e){return Ve.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};K.useEffect=function(e,t){return Ve.current.useEffect(e,t)};K.useId=function(){return Ve.current.useId()};K.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Ve.current.useMemo(e,t)};K.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};K.useRef=function(e){return Ve.current.useRef(e)};K.useState=function(e){return Ve.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return Ve.current.useTransition()};K.version="18.3.1";pc.exports=K;var de=pc.exports;const Np=Ho(de);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip=de,Dp=Symbol.for("react.element"),Fp=Symbol.for("react.fragment"),Op=Object.prototype.hasOwnProperty,zp=Ip.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$p={key:!0,ref:!0,__self:!0,__source:!0};function Cc(e,t,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Op.call(t,r)&&!$p.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Dp,type:e,key:o,ref:l,props:i,_owner:zp.current}}Wo.Fragment=Fp;Wo.jsx=Cc;Wo.jsxs=Cc;hc.exports=Wo;var H=hc.exports,Zl={},kc={exports:{}},lt={},_c={exports:{}},Tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,b){var M=R.length;R.push(b);e:for(;0<M;){var I=M-1>>>1,U=R[I];if(0<i(U,b))R[I]=b,R[M]=U,M=I;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var b=R[0],M=R.pop();if(M!==b){R[0]=M;e:for(var I=0,U=R.length,W=U>>>1;I<W;){var X=2*(I+1)-1,q=R[X],te=X+1,Q=R[te];if(0>i(q,M))te<U&&0>i(Q,q)?(R[I]=Q,R[te]=M,I=te):(R[I]=q,R[X]=M,I=X);else if(te<U&&0>i(Q,M))R[I]=Q,R[te]=M,I=te;else break e}}return b}function i(R,b){var M=R.sortIndex-b.sortIndex;return M!==0?M:R.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var s=[],u=[],f=1,c=null,d=3,p=!1,g=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var b=n(u);b!==null;){if(b.callback===null)r(u);else if(b.startTime<=R)r(u),b.sortIndex=b.expirationTime,t(s,b);else break;b=n(u)}}function x(R){if(w=!1,v(R),!g)if(n(s)!==null)g=!0,L(S);else{var b=n(u);b!==null&&B(x,b.startTime-R)}}function S(R,b){g=!1,w&&(w=!1,m(k),k=-1),p=!0;var M=d;try{for(v(b),c=n(s);c!==null&&(!(c.expirationTime>b)||R&&!A());){var I=c.callback;if(typeof I=="function"){c.callback=null,d=c.priorityLevel;var U=I(c.expirationTime<=b);b=e.unstable_now(),typeof U=="function"?c.callback=U:c===n(s)&&r(s),v(b)}else r(s);c=n(s)}if(c!==null)var W=!0;else{var X=n(u);X!==null&&B(x,X.startTime-b),W=!1}return W}finally{c=null,d=M,p=!1}}var y=!1,C=null,k=-1,P=5,_=-1;function A(){return!(e.unstable_now()-_<P)}function D(){if(C!==null){var R=e.unstable_now();_=R;var b=!0;try{b=C(!0,R)}finally{b?F():(y=!1,C=null)}}else y=!1}var F;if(typeof h=="function")F=function(){h(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,T=z.port2;z.port1.onmessage=D,F=function(){T.postMessage(null)}}else F=function(){E(D,0)};function L(R){C=R,y||(y=!0,F())}function B(R,b){k=E(function(){R(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,L(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(R){switch(d){case 1:case 2:case 3:var b=3;break;default:b=d}var M=d;d=b;try{return R()}finally{d=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,b){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var M=d;d=R;try{return b()}finally{d=M}},e.unstable_scheduleCallback=function(R,b,M){var I=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?I+M:I):M=I,R){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=M+U,R={id:f++,callback:b,priorityLevel:R,startTime:M,expirationTime:U,sortIndex:-1},M>I?(R.sortIndex=M,t(u,R),n(s)===null&&R===n(u)&&(w?(m(k),k=-1):w=!0,B(x,M-I))):(R.sortIndex=U,t(s,R),g||p||(g=!0,L(S))),R},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(R){var b=d;return function(){var M=d;d=b;try{return R.apply(this,arguments)}finally{d=M}}}})(Tc);_c.exports=Tc;var Bp=_c.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=de,ot=Bp;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pc=new Set,Yr={};function In(e,t){or(e,t),or(e+"Capture",t)}function or(e,t){for(Yr[e]=t,e=0;e<t.length;e++)Pc.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jl=Object.prototype.hasOwnProperty,Up=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mu={},gu={};function jp(e){return Jl.call(gu,e)?!0:Jl.call(mu,e)?!1:Up.test(e)?gu[e]=!0:(mu[e]=!0,!1)}function Vp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hp(e,t,n,r){if(t===null||typeof t>"u"||Vp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,r,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var us=/[\-:]([a-z])/g;function fs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(us,fs);Ie[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(us,fs);Ie[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(us,fs);Ie[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function cs(e,t,n,r){var i=Ie.hasOwnProperty(t)?Ie[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hp(t,n,i,r)&&(n=null),r||i===null?jp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Wt=bp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ei=Symbol.for("react.element"),Un=Symbol.for("react.portal"),jn=Symbol.for("react.fragment"),ds=Symbol.for("react.strict_mode"),ea=Symbol.for("react.profiler"),Ac=Symbol.for("react.provider"),Mc=Symbol.for("react.context"),hs=Symbol.for("react.forward_ref"),ta=Symbol.for("react.suspense"),na=Symbol.for("react.suspense_list"),ps=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),Lc=Symbol.for("react.offscreen"),yu=Symbol.iterator;function yr(e){return e===null||typeof e!="object"?null:(e=yu&&e[yu]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,ml;function Pr(e){if(ml===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ml=t&&t[1]||""}return`
`+ml+e}var gl=!1;function yl(e,t){if(!e||gl)return"";gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,a=o.length-1;1<=l&&0<=a&&i[l]!==o[a];)a--;for(;1<=l&&0<=a;l--,a--)if(i[l]!==o[a]){if(l!==1||a!==1)do if(l--,a--,0>a||i[l]!==o[a]){var s=`
`+i[l].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=l&&0<=a);break}}}finally{gl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Pr(e):""}function Wp(e){switch(e.tag){case 5:return Pr(e.type);case 16:return Pr("Lazy");case 13:return Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 2:case 15:return e=yl(e.type,!1),e;case 11:return e=yl(e.type.render,!1),e;case 1:return e=yl(e.type,!0),e;default:return""}}function ra(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jn:return"Fragment";case Un:return"Portal";case ea:return"Profiler";case ds:return"StrictMode";case ta:return"Suspense";case na:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mc:return(e.displayName||"Context")+".Consumer";case Ac:return(e._context.displayName||"Context")+".Provider";case hs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ps:return t=e.displayName||null,t!==null?t:ra(e.type)||"Memo";case Yt:t=e._payload,e=e._init;try{return ra(e(t))}catch{}}return null}function Gp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ra(t);case 8:return t===ds?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yp(e){var t=Rc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Si(e){e._valueTracker||(e._valueTracker=Yp(e))}function Nc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Rc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function uo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ia(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ic(e,t){t=t.checked,t!=null&&cs(e,"checked",t,!1)}function oa(e,t){Ic(e,t);var n=dn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?la(e,t.type,n):t.hasOwnProperty("defaultValue")&&la(e,t.type,dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function la(e,t,n){(t!=="number"||uo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ar=Array.isArray;function Jn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function aa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(Ar(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dn(n)}}function Dc(e,t){var n=dn(t.value),r=dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Su(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ci,Oc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ci=Ci||document.createElement("div"),Ci.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ci.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xp=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(e){Xp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fr[t]=Fr[e]})});function zc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fr.hasOwnProperty(e)&&Fr[e]?(""+t).trim():t+"px"}function $c(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var qp=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ua(e,t){if(t){if(qp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function fa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ca=null;function vs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var da=null,er=null,tr=null;function Cu(e){if(e=gi(e)){if(typeof da!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Qo(t),da(e.stateNode,e.type,t))}}function Bc(e){er?tr?tr.push(e):tr=[e]:er=e}function bc(){if(er){var e=er,t=tr;if(tr=er=null,Cu(e),t)for(e=0;e<t.length;e++)Cu(t[e])}}function Uc(e,t){return e(t)}function jc(){}var wl=!1;function Vc(e,t,n){if(wl)return e(t,n);wl=!0;try{return Uc(e,t,n)}finally{wl=!1,(er!==null||tr!==null)&&(jc(),bc())}}function qr(e,t){var n=e.stateNode;if(n===null)return null;var r=Qo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var ha=!1;if(Ut)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){ha=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{ha=!1}function Qp(e,t,n,r,i,o,l,a,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Or=!1,fo=null,co=!1,pa=null,Kp={onError:function(e){Or=!0,fo=e}};function Zp(e,t,n,r,i,o,l,a,s){Or=!1,fo=null,Qp.apply(Kp,arguments)}function Jp(e,t,n,r,i,o,l,a,s){if(Zp.apply(this,arguments),Or){if(Or){var u=fo;Or=!1,fo=null}else throw Error(O(198));co||(co=!0,pa=u)}}function Dn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ku(e){if(Dn(e)!==e)throw Error(O(188))}function e0(e){var t=e.alternate;if(!t){if(t=Dn(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ku(i),e;if(o===r)return ku(i),t;o=o.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,a=i.child;a;){if(a===n){l=!0,n=i,r=o;break}if(a===r){l=!0,r=i,n=o;break}a=a.sibling}if(!l){for(a=o.child;a;){if(a===n){l=!0,n=o,r=i;break}if(a===r){l=!0,r=o,n=i;break}a=a.sibling}if(!l)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function Wc(e){return e=e0(e),e!==null?Gc(e):null}function Gc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gc(e);if(t!==null)return t;e=e.sibling}return null}var Yc=ot.unstable_scheduleCallback,_u=ot.unstable_cancelCallback,t0=ot.unstable_shouldYield,n0=ot.unstable_requestPaint,xe=ot.unstable_now,r0=ot.unstable_getCurrentPriorityLevel,ms=ot.unstable_ImmediatePriority,Xc=ot.unstable_UserBlockingPriority,ho=ot.unstable_NormalPriority,i0=ot.unstable_LowPriority,qc=ot.unstable_IdlePriority,Go=null,Nt=null;function o0(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Go,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:s0,l0=Math.log,a0=Math.LN2;function s0(e){return e>>>=0,e===0?32:31-(l0(e)/a0|0)|0}var ki=64,_i=4194304;function Mr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function po(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var a=l&~i;a!==0?r=Mr(a):(o&=l,o!==0&&(r=Mr(o)))}else l=n&~i,l!==0?r=Mr(l):o!==0&&(r=Mr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kt(t),i=1<<n,r|=e[n],t&=~i;return r}function u0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-kt(o),a=1<<l,s=i[l];s===-1?(!(a&n)||a&r)&&(i[l]=u0(a,t)):s<=t&&(e.expiredLanes|=a),o&=~a}}function va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qc(){var e=ki;return ki<<=1,!(ki&4194240)&&(ki=64),e}function xl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=n}function c0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-kt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function gs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var re=0;function Kc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zc,ys,Jc,ed,td,ma=!1,Ti=[],nn=null,rn=null,on=null,Qr=new Map,Kr=new Map,Kt=[],d0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tu(e,t){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":Qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(t.pointerId)}}function xr(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=gi(t),t!==null&&ys(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function h0(e,t,n,r,i){switch(t){case"focusin":return nn=xr(nn,e,t,n,r,i),!0;case"dragenter":return rn=xr(rn,e,t,n,r,i),!0;case"mouseover":return on=xr(on,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Qr.set(o,xr(Qr.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Kr.set(o,xr(Kr.get(o)||null,e,t,n,r,i)),!0}return!1}function nd(e){var t=Cn(e.target);if(t!==null){var n=Dn(t);if(n!==null){if(t=n.tag,t===13){if(t=Hc(n),t!==null){e.blockedOn=t,td(e.priority,function(){Jc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ga(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ca=r,n.target.dispatchEvent(r),ca=null}else return t=gi(n),t!==null&&ys(t),e.blockedOn=n,!1;t.shift()}return!0}function Pu(e,t,n){Qi(e)&&n.delete(t)}function p0(){ma=!1,nn!==null&&Qi(nn)&&(nn=null),rn!==null&&Qi(rn)&&(rn=null),on!==null&&Qi(on)&&(on=null),Qr.forEach(Pu),Kr.forEach(Pu)}function Er(e,t){e.blockedOn===t&&(e.blockedOn=null,ma||(ma=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,p0)))}function Zr(e){function t(i){return Er(i,e)}if(0<Ti.length){Er(Ti[0],e);for(var n=1;n<Ti.length;n++){var r=Ti[n];r.blockedOn===e&&(r.blockedOn=null)}}for(nn!==null&&Er(nn,e),rn!==null&&Er(rn,e),on!==null&&Er(on,e),Qr.forEach(t),Kr.forEach(t),n=0;n<Kt.length;n++)r=Kt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kt.length&&(n=Kt[0],n.blockedOn===null);)nd(n),n.blockedOn===null&&Kt.shift()}var nr=Wt.ReactCurrentBatchConfig,vo=!0;function v0(e,t,n,r){var i=re,o=nr.transition;nr.transition=null;try{re=1,ws(e,t,n,r)}finally{re=i,nr.transition=o}}function m0(e,t,n,r){var i=re,o=nr.transition;nr.transition=null;try{re=4,ws(e,t,n,r)}finally{re=i,nr.transition=o}}function ws(e,t,n,r){if(vo){var i=ga(e,t,n,r);if(i===null)Ll(e,t,r,mo,n),Tu(e,r);else if(h0(i,e,t,n,r))r.stopPropagation();else if(Tu(e,r),t&4&&-1<d0.indexOf(e)){for(;i!==null;){var o=gi(i);if(o!==null&&Zc(o),o=ga(e,t,n,r),o===null&&Ll(e,t,r,mo,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ll(e,t,r,null,n)}}var mo=null;function ga(e,t,n,r){if(mo=null,e=vs(r),e=Cn(e),e!==null)if(t=Dn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mo=e,null}function rd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r0()){case ms:return 1;case Xc:return 4;case ho:case i0:return 16;case qc:return 536870912;default:return 16}default:return 16}}var en=null,xs=null,Ki=null;function id(){if(Ki)return Ki;var e,t=xs,n=t.length,r,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[o-r];r++);return Ki=i.slice(e,1<r?1-r:void 0)}function Zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Au(){return!1}function at(e){function t(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pi:Au,this.isPropagationStopped=Au,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),t}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Es=at(mr),mi=ge({},mr,{view:0,detail:0}),g0=at(mi),El,Sl,Sr,Yo=ge({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sr&&(Sr&&e.type==="mousemove"?(El=e.screenX-Sr.screenX,Sl=e.screenY-Sr.screenY):Sl=El=0,Sr=e),El)},movementY:function(e){return"movementY"in e?e.movementY:Sl}}),Mu=at(Yo),y0=ge({},Yo,{dataTransfer:0}),w0=at(y0),x0=ge({},mi,{relatedTarget:0}),Cl=at(x0),E0=ge({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),S0=at(E0),C0=ge({},mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),k0=at(C0),_0=ge({},mr,{data:0}),Lu=at(_0),T0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A0[e])?!!t[e]:!1}function Ss(){return M0}var L0=ge({},mi,{key:function(e){if(e.key){var t=T0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?P0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(e){return e.type==="keypress"?Zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R0=at(L0),N0=ge({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=at(N0),I0=ge({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),D0=at(I0),F0=ge({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),O0=at(F0),z0=ge({},Yo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$0=at(z0),B0=[9,13,27,32],Cs=Ut&&"CompositionEvent"in window,zr=null;Ut&&"documentMode"in document&&(zr=document.documentMode);var b0=Ut&&"TextEvent"in window&&!zr,od=Ut&&(!Cs||zr&&8<zr&&11>=zr),Nu=" ",Iu=!1;function ld(e,t){switch(e){case"keyup":return B0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ad(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vn=!1;function U0(e,t){switch(e){case"compositionend":return ad(t);case"keypress":return t.which!==32?null:(Iu=!0,Nu);case"textInput":return e=t.data,e===Nu&&Iu?null:e;default:return null}}function j0(e,t){if(Vn)return e==="compositionend"||!Cs&&ld(e,t)?(e=id(),Ki=xs=en=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return od&&t.locale!=="ko"?null:t.data;default:return null}}var V0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!V0[e.type]:t==="textarea"}function sd(e,t,n,r){Bc(r),t=go(t,"onChange"),0<t.length&&(n=new Es("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $r=null,Jr=null;function H0(e){wd(e,0)}function Xo(e){var t=Gn(e);if(Nc(t))return e}function W0(e,t){if(e==="change")return t}var ud=!1;if(Ut){var kl;if(Ut){var _l="oninput"in document;if(!_l){var Fu=document.createElement("div");Fu.setAttribute("oninput","return;"),_l=typeof Fu.oninput=="function"}kl=_l}else kl=!1;ud=kl&&(!document.documentMode||9<document.documentMode)}function Ou(){$r&&($r.detachEvent("onpropertychange",fd),Jr=$r=null)}function fd(e){if(e.propertyName==="value"&&Xo(Jr)){var t=[];sd(t,Jr,e,vs(e)),Vc(H0,t)}}function G0(e,t,n){e==="focusin"?(Ou(),$r=t,Jr=n,$r.attachEvent("onpropertychange",fd)):e==="focusout"&&Ou()}function Y0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xo(Jr)}function X0(e,t){if(e==="click")return Xo(t)}function q0(e,t){if(e==="input"||e==="change")return Xo(t)}function Q0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Q0;function ei(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jl.call(t,i)||!Tt(e[i],t[i]))return!1}return!0}function zu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $u(e,t){var n=zu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zu(n)}}function cd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dd(){for(var e=window,t=uo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uo(e.document)}return t}function ks(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K0(e){var t=dd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cd(n.ownerDocument.documentElement,n)){if(r!==null&&ks(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=$u(n,o);var l=$u(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Z0=Ut&&"documentMode"in document&&11>=document.documentMode,Hn=null,ya=null,Br=null,wa=!1;function Bu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wa||Hn==null||Hn!==uo(r)||(r=Hn,"selectionStart"in r&&ks(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Br&&ei(Br,r)||(Br=r,r=go(ya,"onSelect"),0<r.length&&(t=new Es("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hn)))}function Ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wn={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionend:Ai("Transition","TransitionEnd")},Tl={},hd={};Ut&&(hd=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function qo(e){if(Tl[e])return Tl[e];if(!Wn[e])return e;var t=Wn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hd)return Tl[e]=t[n];return e}var pd=qo("animationend"),vd=qo("animationiteration"),md=qo("animationstart"),gd=qo("transitionend"),yd=new Map,bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(e,t){yd.set(e,t),In(t,[e])}for(var Pl=0;Pl<bu.length;Pl++){var Al=bu[Pl],J0=Al.toLowerCase(),ev=Al[0].toUpperCase()+Al.slice(1);pn(J0,"on"+ev)}pn(pd,"onAnimationEnd");pn(vd,"onAnimationIteration");pn(md,"onAnimationStart");pn("dblclick","onDoubleClick");pn("focusin","onFocus");pn("focusout","onBlur");pn(gd,"onTransitionEnd");or("onMouseEnter",["mouseout","mouseover"]);or("onMouseLeave",["mouseout","mouseover"]);or("onPointerEnter",["pointerout","pointerover"]);or("onPointerLeave",["pointerout","pointerover"]);In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));In("onBeforeInput",["compositionend","keypress","textInput","paste"]);In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Uu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Jp(r,t,void 0,e),e.currentTarget=null}function wd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var a=r[l],s=a.instance,u=a.currentTarget;if(a=a.listener,s!==o&&i.isPropagationStopped())break e;Uu(i,a,u),o=s}else for(l=0;l<r.length;l++){if(a=r[l],s=a.instance,u=a.currentTarget,a=a.listener,s!==o&&i.isPropagationStopped())break e;Uu(i,a,u),o=s}}}if(co)throw e=pa,co=!1,pa=null,e}function ue(e,t){var n=t[ka];n===void 0&&(n=t[ka]=new Set);var r=e+"__bubble";n.has(r)||(xd(t,e,2,!1),n.add(r))}function Ml(e,t,n){var r=0;t&&(r|=4),xd(n,e,r,t)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function ti(e){if(!e[Mi]){e[Mi]=!0,Pc.forEach(function(n){n!=="selectionchange"&&(tv.has(n)||Ml(n,!1,e),Ml(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mi]||(t[Mi]=!0,Ml("selectionchange",!1,t))}}function xd(e,t,n,r){switch(rd(t)){case 1:var i=v0;break;case 4:i=m0;break;default:i=ws}n=i.bind(null,t,n,e),i=void 0,!ha||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ll(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var s=l.tag;if((s===3||s===4)&&(s=l.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;l=l.return}for(;a!==null;){if(l=Cn(a),l===null)return;if(s=l.tag,s===5||s===6){r=o=l;continue e}a=a.parentNode}}r=r.return}Vc(function(){var u=o,f=vs(n),c=[];e:{var d=yd.get(e);if(d!==void 0){var p=Es,g=e;switch(e){case"keypress":if(Zi(n)===0)break e;case"keydown":case"keyup":p=R0;break;case"focusin":g="focus",p=Cl;break;case"focusout":g="blur",p=Cl;break;case"beforeblur":case"afterblur":p=Cl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=w0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=D0;break;case pd:case vd:case md:p=S0;break;case gd:p=O0;break;case"scroll":p=g0;break;case"wheel":p=$0;break;case"copy":case"cut":case"paste":p=k0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ru}var w=(t&4)!==0,E=!w&&e==="scroll",m=w?d!==null?d+"Capture":null:d;w=[];for(var h=u,v;h!==null;){v=h;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,m!==null&&(x=qr(h,m),x!=null&&w.push(ni(h,x,v)))),E)break;h=h.return}0<w.length&&(d=new p(d,g,null,n,f),c.push({event:d,listeners:w}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==ca&&(g=n.relatedTarget||n.fromElement)&&(Cn(g)||g[jt]))break e;if((p||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Cn(g):null,g!==null&&(E=Dn(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(w=Mu,x="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ru,x="onPointerLeave",m="onPointerEnter",h="pointer"),E=p==null?d:Gn(p),v=g==null?d:Gn(g),d=new w(x,h+"leave",p,n,f),d.target=E,d.relatedTarget=v,x=null,Cn(f)===u&&(w=new w(m,h+"enter",g,n,f),w.target=v,w.relatedTarget=E,x=w),E=x,p&&g)t:{for(w=p,m=g,h=0,v=w;v;v=bn(v))h++;for(v=0,x=m;x;x=bn(x))v++;for(;0<h-v;)w=bn(w),h--;for(;0<v-h;)m=bn(m),v--;for(;h--;){if(w===m||m!==null&&w===m.alternate)break t;w=bn(w),m=bn(m)}w=null}else w=null;p!==null&&ju(c,d,p,w,!1),g!==null&&E!==null&&ju(c,E,g,w,!0)}}e:{if(d=u?Gn(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=W0;else if(Du(d))if(ud)S=q0;else{S=Y0;var y=G0}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=X0);if(S&&(S=S(e,u))){sd(c,S,n,f);break e}y&&y(e,d,u),e==="focusout"&&(y=d._wrapperState)&&y.controlled&&d.type==="number"&&la(d,"number",d.value)}switch(y=u?Gn(u):window,e){case"focusin":(Du(y)||y.contentEditable==="true")&&(Hn=y,ya=u,Br=null);break;case"focusout":Br=ya=Hn=null;break;case"mousedown":wa=!0;break;case"contextmenu":case"mouseup":case"dragend":wa=!1,Bu(c,n,f);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":Bu(c,n,f)}var C;if(Cs)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vn?ld(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(od&&n.locale!=="ko"&&(Vn||k!=="onCompositionStart"?k==="onCompositionEnd"&&Vn&&(C=id()):(en=f,xs="value"in en?en.value:en.textContent,Vn=!0)),y=go(u,k),0<y.length&&(k=new Lu(k,e,null,n,f),c.push({event:k,listeners:y}),C?k.data=C:(C=ad(n),C!==null&&(k.data=C)))),(C=b0?U0(e,n):j0(e,n))&&(u=go(u,"onBeforeInput"),0<u.length&&(f=new Lu("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=C))}wd(c,t)})}function ni(e,t,n){return{instance:e,listener:t,currentTarget:n}}function go(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qr(e,n),o!=null&&r.unshift(ni(e,o,i)),o=qr(e,t),o!=null&&r.push(ni(e,o,i))),e=e.return}return r}function bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ju(e,t,n,r,i){for(var o=t._reactName,l=[];n!==null&&n!==r;){var a=n,s=a.alternate,u=a.stateNode;if(s!==null&&s===r)break;a.tag===5&&u!==null&&(a=u,i?(s=qr(n,o),s!=null&&l.unshift(ni(n,s,a))):i||(s=qr(n,o),s!=null&&l.push(ni(n,s,a)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var nv=/\r\n?/g,rv=/\u0000|\uFFFD/g;function Vu(e){return(typeof e=="string"?e:""+e).replace(nv,`
`).replace(rv,"")}function Li(e,t,n){if(t=Vu(t),Vu(e)!==t&&n)throw Error(O(425))}function yo(){}var xa=null,Ea=null;function Sa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ca=typeof setTimeout=="function"?setTimeout:void 0,iv=typeof clearTimeout=="function"?clearTimeout:void 0,Hu=typeof Promise=="function"?Promise:void 0,ov=typeof queueMicrotask=="function"?queueMicrotask:typeof Hu<"u"?function(e){return Hu.resolve(null).then(e).catch(lv)}:Ca;function lv(e){setTimeout(function(){throw e})}function Rl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Zr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zr(t)}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+gr,ri="__reactProps$"+gr,jt="__reactContainer$"+gr,ka="__reactEvents$"+gr,av="__reactListeners$"+gr,sv="__reactHandles$"+gr;function Cn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wu(e);e!==null;){if(n=e[Rt])return n;e=Wu(e)}return t}e=n,n=e.parentNode}return null}function gi(e){return e=e[Rt]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Qo(e){return e[ri]||null}var _a=[],Yn=-1;function vn(e){return{current:e}}function fe(e){0>Yn||(e.current=_a[Yn],_a[Yn]=null,Yn--)}function le(e,t){Yn++,_a[Yn]=e.current,e.current=t}var hn={},be=vn(hn),qe=vn(!1),An=hn;function lr(e,t){var n=e.type.contextTypes;if(!n)return hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Qe(e){return e=e.childContextTypes,e!=null}function wo(){fe(qe),fe(be)}function Gu(e,t,n){if(be.current!==hn)throw Error(O(168));le(be,t),le(qe,n)}function Ed(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(O(108,Gp(e)||"Unknown",i));return ge({},n,r)}function xo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,An=be.current,le(be,e),le(qe,qe.current),!0}function Yu(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=Ed(e,t,An),r.__reactInternalMemoizedMergedChildContext=e,fe(qe),fe(be),le(be,e)):fe(qe),le(qe,n)}var Ot=null,Ko=!1,Nl=!1;function Sd(e){Ot===null?Ot=[e]:Ot.push(e)}function uv(e){Ko=!0,Sd(e)}function mn(){if(!Nl&&Ot!==null){Nl=!0;var e=0,t=re;try{var n=Ot;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ot=null,Ko=!1}catch(i){throw Ot!==null&&(Ot=Ot.slice(e+1)),Yc(ms,mn),i}finally{re=t,Nl=!1}}return null}var Xn=[],qn=0,Eo=null,So=0,ut=[],ft=0,Mn=null,zt=1,$t="";function En(e,t){Xn[qn++]=So,Xn[qn++]=Eo,Eo=e,So=t}function Cd(e,t,n){ut[ft++]=zt,ut[ft++]=$t,ut[ft++]=Mn,Mn=e;var r=zt;e=$t;var i=32-kt(r)-1;r&=~(1<<i),n+=1;var o=32-kt(t)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,zt=1<<32-kt(t)+i|n<<i|r,$t=o+e}else zt=1<<o|n<<i|r,$t=e}function _s(e){e.return!==null&&(En(e,1),Cd(e,1,0))}function Ts(e){for(;e===Eo;)Eo=Xn[--qn],Xn[qn]=null,So=Xn[--qn],Xn[qn]=null;for(;e===Mn;)Mn=ut[--ft],ut[ft]=null,$t=ut[--ft],ut[ft]=null,zt=ut[--ft],ut[ft]=null}var it=null,rt=null,pe=!1,Et=null;function kd(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,rt=ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mn!==null?{id:zt,overflow:$t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,it=e,rt=null,!0):!1;default:return!1}}function Ta(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pa(e){if(pe){var t=rt;if(t){var n=t;if(!Xu(e,t)){if(Ta(e))throw Error(O(418));t=ln(n.nextSibling);var r=it;t&&Xu(e,t)?kd(r,n):(e.flags=e.flags&-4097|2,pe=!1,it=e)}}else{if(Ta(e))throw Error(O(418));e.flags=e.flags&-4097|2,pe=!1,it=e}}}function qu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function Ri(e){if(e!==it)return!1;if(!pe)return qu(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sa(e.type,e.memoizedProps)),t&&(t=rt)){if(Ta(e))throw _d(),Error(O(418));for(;t;)kd(e,t),t=ln(t.nextSibling)}if(qu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=it?ln(e.stateNode.nextSibling):null;return!0}function _d(){for(var e=rt;e;)e=ln(e.nextSibling)}function ar(){rt=it=null,pe=!1}function Ps(e){Et===null?Et=[e]:Et.push(e)}var fv=Wt.ReactCurrentBatchConfig;function Cr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var a=i.refs;l===null?delete a[o]:a[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function Ni(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qu(e){var t=e._init;return t(e._payload)}function Td(e){function t(m,h){if(e){var v=m.deletions;v===null?(m.deletions=[h],m.flags|=16):v.push(h)}}function n(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=fn(m,h),m.index=0,m.sibling=null,m}function o(m,h,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<h?(m.flags|=2,h):v):(m.flags|=2,h)):(m.flags|=1048576,h)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,h,v,x){return h===null||h.tag!==6?(h=Bl(v,m.mode,x),h.return=m,h):(h=i(h,v),h.return=m,h)}function s(m,h,v,x){var S=v.type;return S===jn?f(m,h,v.props.children,x,v.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Yt&&Qu(S)===h.type)?(x=i(h,v.props),x.ref=Cr(m,h,v),x.return=m,x):(x=oo(v.type,v.key,v.props,null,m.mode,x),x.ref=Cr(m,h,v),x.return=m,x)}function u(m,h,v,x){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=bl(v,m.mode,x),h.return=m,h):(h=i(h,v.children||[]),h.return=m,h)}function f(m,h,v,x,S){return h===null||h.tag!==7?(h=Pn(v,m.mode,x,S),h.return=m,h):(h=i(h,v),h.return=m,h)}function c(m,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Bl(""+h,m.mode,v),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ei:return v=oo(h.type,h.key,h.props,null,m.mode,v),v.ref=Cr(m,null,h),v.return=m,v;case Un:return h=bl(h,m.mode,v),h.return=m,h;case Yt:var x=h._init;return c(m,x(h._payload),v)}if(Ar(h)||yr(h))return h=Pn(h,m.mode,v,null),h.return=m,h;Ni(m,h)}return null}function d(m,h,v,x){var S=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(m,h,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ei:return v.key===S?s(m,h,v,x):null;case Un:return v.key===S?u(m,h,v,x):null;case Yt:return S=v._init,d(m,h,S(v._payload),x)}if(Ar(v)||yr(v))return S!==null?null:f(m,h,v,x,null);Ni(m,v)}return null}function p(m,h,v,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(v)||null,a(h,m,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ei:return m=m.get(x.key===null?v:x.key)||null,s(h,m,x,S);case Un:return m=m.get(x.key===null?v:x.key)||null,u(h,m,x,S);case Yt:var y=x._init;return p(m,h,v,y(x._payload),S)}if(Ar(x)||yr(x))return m=m.get(v)||null,f(h,m,x,S,null);Ni(h,x)}return null}function g(m,h,v,x){for(var S=null,y=null,C=h,k=h=0,P=null;C!==null&&k<v.length;k++){C.index>k?(P=C,C=null):P=C.sibling;var _=d(m,C,v[k],x);if(_===null){C===null&&(C=P);break}e&&C&&_.alternate===null&&t(m,C),h=o(_,h,k),y===null?S=_:y.sibling=_,y=_,C=P}if(k===v.length)return n(m,C),pe&&En(m,k),S;if(C===null){for(;k<v.length;k++)C=c(m,v[k],x),C!==null&&(h=o(C,h,k),y===null?S=C:y.sibling=C,y=C);return pe&&En(m,k),S}for(C=r(m,C);k<v.length;k++)P=p(C,m,k,v[k],x),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?k:P.key),h=o(P,h,k),y===null?S=P:y.sibling=P,y=P);return e&&C.forEach(function(A){return t(m,A)}),pe&&En(m,k),S}function w(m,h,v,x){var S=yr(v);if(typeof S!="function")throw Error(O(150));if(v=S.call(v),v==null)throw Error(O(151));for(var y=S=null,C=h,k=h=0,P=null,_=v.next();C!==null&&!_.done;k++,_=v.next()){C.index>k?(P=C,C=null):P=C.sibling;var A=d(m,C,_.value,x);if(A===null){C===null&&(C=P);break}e&&C&&A.alternate===null&&t(m,C),h=o(A,h,k),y===null?S=A:y.sibling=A,y=A,C=P}if(_.done)return n(m,C),pe&&En(m,k),S;if(C===null){for(;!_.done;k++,_=v.next())_=c(m,_.value,x),_!==null&&(h=o(_,h,k),y===null?S=_:y.sibling=_,y=_);return pe&&En(m,k),S}for(C=r(m,C);!_.done;k++,_=v.next())_=p(C,m,k,_.value,x),_!==null&&(e&&_.alternate!==null&&C.delete(_.key===null?k:_.key),h=o(_,h,k),y===null?S=_:y.sibling=_,y=_);return e&&C.forEach(function(D){return t(m,D)}),pe&&En(m,k),S}function E(m,h,v,x){if(typeof v=="object"&&v!==null&&v.type===jn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ei:e:{for(var S=v.key,y=h;y!==null;){if(y.key===S){if(S=v.type,S===jn){if(y.tag===7){n(m,y.sibling),h=i(y,v.props.children),h.return=m,m=h;break e}}else if(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Yt&&Qu(S)===y.type){n(m,y.sibling),h=i(y,v.props),h.ref=Cr(m,y,v),h.return=m,m=h;break e}n(m,y);break}else t(m,y);y=y.sibling}v.type===jn?(h=Pn(v.props.children,m.mode,x,v.key),h.return=m,m=h):(x=oo(v.type,v.key,v.props,null,m.mode,x),x.ref=Cr(m,h,v),x.return=m,m=x)}return l(m);case Un:e:{for(y=v.key;h!==null;){if(h.key===y)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(m,h.sibling),h=i(h,v.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else t(m,h);h=h.sibling}h=bl(v,m.mode,x),h.return=m,m=h}return l(m);case Yt:return y=v._init,E(m,h,y(v._payload),x)}if(Ar(v))return g(m,h,v,x);if(yr(v))return w(m,h,v,x);Ni(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,v),h.return=m,m=h):(n(m,h),h=Bl(v,m.mode,x),h.return=m,m=h),l(m)):n(m,h)}return E}var sr=Td(!0),Pd=Td(!1),Co=vn(null),ko=null,Qn=null,As=null;function Ms(){As=Qn=ko=null}function Ls(e){var t=Co.current;fe(Co),e._currentValue=t}function Aa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rr(e,t){ko=e,As=Qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(As!==e)if(e={context:e,memoizedValue:t,next:null},Qn===null){if(ko===null)throw Error(O(308));Qn=e,ko.dependencies={lanes:0,firstContext:e}}else Qn=Qn.next=e;return t}var kn=null;function Rs(e){kn===null?kn=[e]:kn.push(e)}function Ad(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Rs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vt(e,r)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xt=!1;function Ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Md(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vt(e,n)}return i=r.interleaved,i===null?(t.next=t,Rs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vt(e,n)}function Ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gs(e,n)}}function Ku(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _o(e,t,n,r){var i=e.updateQueue;Xt=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var s=a,u=s.next;s.next=null,l===null?o=u:l.next=u,l=s;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==l&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=s))}if(o!==null){var c=i.baseState;l=0,f=u=s=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,w=a;switch(d=t,p=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){c=g.call(p,c,d);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,d=typeof g=="function"?g.call(p,c,d):g,d==null)break e;c=ge({},c,d);break e;case 2:Xt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=p,s=c):f=f.next=p,l|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(s=c),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Rn|=l,e.lanes=l,e.memoizedState=c}}function Zu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var yi={},It=vn(yi),ii=vn(yi),oi=vn(yi);function _n(e){if(e===yi)throw Error(O(174));return e}function Is(e,t){switch(le(oi,t),le(ii,e),le(It,yi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sa(t,e)}fe(It),le(It,t)}function ur(){fe(It),fe(ii),fe(oi)}function Ld(e){_n(oi.current);var t=_n(It.current),n=sa(t,e.type);t!==n&&(le(ii,e),le(It,n))}function Ds(e){ii.current===e&&(fe(It),fe(ii))}var ve=vn(0);function To(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Il=[];function Fs(){for(var e=0;e<Il.length;e++)Il[e]._workInProgressVersionPrimary=null;Il.length=0}var eo=Wt.ReactCurrentDispatcher,Dl=Wt.ReactCurrentBatchConfig,Ln=0,me=null,_e=null,Pe=null,Po=!1,br=!1,li=0,cv=0;function ze(){throw Error(O(321))}function Os(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function zs(e,t,n,r,i,o){if(Ln=o,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,eo.current=e===null||e.memoizedState===null?vv:mv,e=n(r,i),br){o=0;do{if(br=!1,li=0,25<=o)throw Error(O(301));o+=1,Pe=_e=null,t.updateQueue=null,eo.current=gv,e=n(r,i)}while(br)}if(eo.current=Ao,t=_e!==null&&_e.next!==null,Ln=0,Pe=_e=me=null,Po=!1,t)throw Error(O(300));return e}function $s(){var e=li!==0;return li=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?me.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function pt(){if(_e===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Pe===null?me.memoizedState:Pe.next;if(t!==null)Pe=t,_e=e;else{if(e===null)throw Error(O(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Pe===null?me.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function ai(e,t){return typeof t=="function"?t(e):t}function Fl(e){var t=pt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=_e,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=l=null,s=null,u=o;do{var f=u.lane;if((Ln&f)===f)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(a=s=c,l=r):s=s.next=c,me.lanes|=f,Rn|=f}u=u.next}while(u!==null&&u!==o);s===null?l=r:s.next=a,Tt(r,t.memoizedState)||(Ye=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,me.lanes|=o,Rn|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ol(e){var t=pt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);Tt(o,t.memoizedState)||(Ye=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Rd(){}function Nd(e,t){var n=me,r=pt(),i=t(),o=!Tt(r.memoizedState,i);if(o&&(r.memoizedState=i,Ye=!0),r=r.queue,Bs(Fd.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,si(9,Dd.bind(null,n,r,i,t),void 0,null),Ae===null)throw Error(O(349));Ln&30||Id(n,t,i)}return i}function Id(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dd(e,t,n,r){t.value=n,t.getSnapshot=r,Od(t)&&zd(e)}function Fd(e,t,n){return n(function(){Od(t)&&zd(e)})}function Od(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function zd(e){var t=Vt(e,1);t!==null&&_t(t,e,1,-1)}function Ju(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:e},t.queue=e,e=e.dispatch=pv.bind(null,me,e),[t.memoizedState,e]}function si(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $d(){return pt().memoizedState}function to(e,t,n,r){var i=Lt();me.flags|=e,i.memoizedState=si(1|t,n,void 0,r===void 0?null:r)}function Zo(e,t,n,r){var i=pt();r=r===void 0?null:r;var o=void 0;if(_e!==null){var l=_e.memoizedState;if(o=l.destroy,r!==null&&Os(r,l.deps)){i.memoizedState=si(t,n,o,r);return}}me.flags|=e,i.memoizedState=si(1|t,n,o,r)}function ef(e,t){return to(8390656,8,e,t)}function Bs(e,t){return Zo(2048,8,e,t)}function Bd(e,t){return Zo(4,2,e,t)}function bd(e,t){return Zo(4,4,e,t)}function Ud(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jd(e,t,n){return n=n!=null?n.concat([e]):null,Zo(4,4,Ud.bind(null,t,e),n)}function bs(){}function Vd(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Os(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hd(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Os(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wd(e,t,n){return Ln&21?(Tt(n,t)||(n=Qc(),me.lanes|=n,Rn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=n)}function dv(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=Dl.transition;Dl.transition={};try{e(!1),t()}finally{re=n,Dl.transition=r}}function Gd(){return pt().memoizedState}function hv(e,t,n){var r=un(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yd(e))Xd(t,n);else if(n=Ad(e,t,n,r),n!==null){var i=je();_t(n,e,r,i),qd(n,t,r)}}function pv(e,t,n){var r=un(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yd(e))Xd(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,a=o(l,n);if(i.hasEagerState=!0,i.eagerState=a,Tt(a,l)){var s=t.interleaved;s===null?(i.next=i,Rs(t)):(i.next=s.next,s.next=i),t.interleaved=i;return}}catch{}finally{}n=Ad(e,t,i,r),n!==null&&(i=je(),_t(n,e,r,i),qd(n,t,r))}}function Yd(e){var t=e.alternate;return e===me||t!==null&&t===me}function Xd(e,t){br=Po=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gs(e,n)}}var Ao={readContext:ht,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},vv={readContext:ht,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:ef,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,to(4194308,4,Ud.bind(null,t,e),n)},useLayoutEffect:function(e,t){return to(4194308,4,e,t)},useInsertionEffect:function(e,t){return to(4,2,e,t)},useMemo:function(e,t){var n=Lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hv.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:Ju,useDebugValue:bs,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=Ju(!1),t=e[0];return e=dv.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=me,i=Lt();if(pe){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),Ae===null)throw Error(O(349));Ln&30||Id(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,ef(Fd.bind(null,r,o,e),[e]),r.flags|=2048,si(9,Dd.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Lt(),t=Ae.identifierPrefix;if(pe){var n=$t,r=zt;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=li++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mv={readContext:ht,useCallback:Vd,useContext:ht,useEffect:Bs,useImperativeHandle:jd,useInsertionEffect:Bd,useLayoutEffect:bd,useMemo:Hd,useReducer:Fl,useRef:$d,useState:function(){return Fl(ai)},useDebugValue:bs,useDeferredValue:function(e){var t=pt();return Wd(t,_e.memoizedState,e)},useTransition:function(){var e=Fl(ai)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Rd,useSyncExternalStore:Nd,useId:Gd,unstable_isNewReconciler:!1},gv={readContext:ht,useCallback:Vd,useContext:ht,useEffect:Bs,useImperativeHandle:jd,useInsertionEffect:Bd,useLayoutEffect:bd,useMemo:Hd,useReducer:Ol,useRef:$d,useState:function(){return Ol(ai)},useDebugValue:bs,useDeferredValue:function(e){var t=pt();return _e===null?t.memoizedState=e:Wd(t,_e.memoizedState,e)},useTransition:function(){var e=Ol(ai)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Rd,useSyncExternalStore:Nd,useId:Gd,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ma(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Jo={isMounted:function(e){return(e=e._reactInternals)?Dn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=je(),i=un(e),o=Bt(r,i);o.payload=t,n!=null&&(o.callback=n),t=an(e,o,i),t!==null&&(_t(t,e,i,r),Ji(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=je(),i=un(e),o=Bt(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=an(e,o,i),t!==null&&(_t(t,e,i,r),Ji(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=je(),r=un(e),i=Bt(n,r);i.tag=2,t!=null&&(i.callback=t),t=an(e,i,r),t!==null&&(_t(t,e,r,n),Ji(t,e,r))}};function tf(e,t,n,r,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!ei(n,r)||!ei(i,o):!0}function Qd(e,t,n){var r=!1,i=hn,o=t.contextType;return typeof o=="object"&&o!==null?o=ht(o):(i=Qe(t)?An:be.current,r=t.contextTypes,o=(r=r!=null)?lr(e,i):hn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function nf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Jo.enqueueReplaceState(t,t.state,null)}function La(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ns(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ht(o):(o=Qe(t)?An:be.current,i.context=lr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ma(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Jo.enqueueReplaceState(i,i.state,null),_o(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function fr(e,t){try{var n="",r=t;do n+=Wp(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function zl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ra(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yv=typeof WeakMap=="function"?WeakMap:Map;function Kd(e,t,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lo||(Lo=!0,Ua=r),Ra(e,t)},n}function Zd(e,t,n){n=Bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ra(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ra(e,t),typeof r!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function rf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yv;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Nv.bind(null,e,t,n),t.then(e,e))}function of(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bt(-1,1),t.tag=2,an(n,t,1))),n.lanes|=1),e)}var wv=Wt.ReactCurrentOwner,Ye=!1;function Ue(e,t,n,r){t.child=e===null?Pd(t,null,n,r):sr(t,e.child,n,r)}function af(e,t,n,r,i){n=n.render;var o=t.ref;return rr(t,i),r=zs(e,t,n,r,o,i),n=$s(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ht(e,t,i)):(pe&&n&&_s(t),t.flags|=1,Ue(e,t,r,i),t.child)}function sf(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Xs(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Jd(e,t,o,r,i)):(e=oo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:ei,n(l,r)&&e.ref===t.ref)return Ht(e,t,i)}return t.flags|=1,e=fn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Jd(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ei(o,r)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,Ht(e,t,i)}return Na(e,t,n,r,i)}function eh(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Zn,nt),nt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Zn,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,le(Zn,nt),nt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,le(Zn,nt),nt|=r;return Ue(e,t,i,n),t.child}function th(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Na(e,t,n,r,i){var o=Qe(n)?An:be.current;return o=lr(t,o),rr(t,i),n=zs(e,t,n,r,o,i),r=$s(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ht(e,t,i)):(pe&&r&&_s(t),t.flags|=1,Ue(e,t,n,i),t.child)}function uf(e,t,n,r,i){if(Qe(n)){var o=!0;xo(t)}else o=!1;if(rr(t,i),t.stateNode===null)no(e,t),Qd(t,n,r),La(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,a=t.memoizedProps;l.props=a;var s=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Qe(n)?An:be.current,u=lr(t,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";c||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||s!==u)&&nf(t,l,r,u),Xt=!1;var d=t.memoizedState;l.state=d,_o(t,r,l,i),s=t.memoizedState,a!==r||d!==s||qe.current||Xt?(typeof f=="function"&&(Ma(t,n,f,r),s=t.memoizedState),(a=Xt||tf(t,n,a,r,d,s,u))?(c||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),l.props=r,l.state=s,l.context=u,r=a):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Md(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:wt(t.type,a),l.props=u,c=t.pendingProps,d=l.context,s=n.contextType,typeof s=="object"&&s!==null?s=ht(s):(s=Qe(n)?An:be.current,s=lr(t,s));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==c||d!==s)&&nf(t,l,r,s),Xt=!1,d=t.memoizedState,l.state=d,_o(t,r,l,i);var g=t.memoizedState;a!==c||d!==g||qe.current||Xt?(typeof p=="function"&&(Ma(t,n,p,r),g=t.memoizedState),(u=Xt||tf(t,n,u,r,d,g,s)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,g,s),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,g,s)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),l.props=r,l.state=g,l.context=s,r=u):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,o,i)}function Ia(e,t,n,r,i,o){th(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&Yu(t,n,!1),Ht(e,t,o);r=t.stateNode,wv.current=t;var a=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=sr(t,e.child,null,o),t.child=sr(t,null,a,o)):Ue(e,t,a,o),t.memoizedState=r.state,i&&Yu(t,n,!0),t.child}function nh(e){var t=e.stateNode;t.pendingContext?Gu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gu(e,t.context,!1),Is(e,t.containerInfo)}function ff(e,t,n,r,i){return ar(),Ps(i),t.flags|=256,Ue(e,t,n,r),t.child}var Da={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function rh(e,t,n){var r=t.pendingProps,i=ve.current,o=!1,l=(t.flags&128)!==0,a;if((a=l)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),le(ve,i&1),e===null)return Pa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=nl(l,r,0,null),e=Pn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fa(n),t.memoizedState=Da,e):Us(t,l));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xv(e,t,l,r,a,i,n);if(o){o=r.fallback,l=t.mode,i=e.child,a=i.sibling;var s={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=fn(i,s),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=fn(a,o):(o=Pn(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Da,r}return o=e.child,e=o.sibling,r=fn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Us(e,t){return t=nl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ii(e,t,n,r){return r!==null&&Ps(r),sr(t,e.child,null,n),e=Us(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xv(e,t,n,r,i,o,l){if(n)return t.flags&256?(t.flags&=-257,r=zl(Error(O(422))),Ii(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=nl({mode:"visible",children:r.children},i,0,null),o=Pn(o,i,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&sr(t,e.child,null,l),t.child.memoizedState=Fa(l),t.memoizedState=Da,o);if(!(t.mode&1))return Ii(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(O(419)),r=zl(o,r,void 0),Ii(e,t,l,r)}if(a=(l&e.childLanes)!==0,Ye||a){if(r=Ae,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Vt(e,i),_t(r,e,i,-1))}return Ys(),r=zl(Error(O(421))),Ii(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Iv.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rt=ln(i.nextSibling),it=t,pe=!0,Et=null,e!==null&&(ut[ft++]=zt,ut[ft++]=$t,ut[ft++]=Mn,zt=e.id,$t=e.overflow,Mn=t),t=Us(t,r.children),t.flags|=4096,t)}function cf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Aa(e.return,t,n)}function $l(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ih(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ue(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cf(e,n,t);else if(e.tag===19)cf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(ve,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&To(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$l(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&To(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$l(t,!0,n,null,o);break;case"together":$l(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function no(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ev(e,t,n){switch(t.tag){case 3:nh(t),ar();break;case 5:Ld(t);break;case 1:Qe(t.type)&&xo(t);break;case 4:Is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;le(Co,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?rh(e,t,n):(le(ve,ve.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);le(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ih(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,eh(e,t,n)}return Ht(e,t,n)}var oh,Oa,lh,ah;oh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Oa=function(){};lh=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,_n(It.current);var o=null;switch(n){case"input":i=ia(e,i),r=ia(e,r),o=[];break;case"select":i=ge({},i,{value:void 0}),r=ge({},r,{value:void 0}),o=[];break;case"textarea":i=aa(e,i),r=aa(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yo)}ua(n,r);var l;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yr.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var s=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&s!==a&&(s!=null||a!=null))if(u==="style")if(a){for(l in a)!a.hasOwnProperty(l)||s&&s.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in s)s.hasOwnProperty(l)&&a[l]!==s[l]&&(n||(n={}),n[l]=s[l])}else n||(o||(o=[]),o.push(u,n)),n=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,a=a?a.__html:void 0,s!=null&&a!==s&&(o=o||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(o=o||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yr.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&ue("scroll",e),o||a===s||(o=[])):(o=o||[]).push(u,s))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};ah=function(e,t,n,r){n!==r&&(t.flags|=4)};function kr(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Sv(e,t,n){var r=t.pendingProps;switch(Ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return Qe(t.type)&&wo(),$e(t),null;case 3:return r=t.stateNode,ur(),fe(qe),fe(be),Fs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(Ha(Et),Et=null))),Oa(e,t),$e(t),null;case 5:Ds(t);var i=_n(oi.current);if(n=t.type,e!==null&&t.stateNode!=null)lh(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return $e(t),null}if(e=_n(It.current),Ri(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Rt]=t,r[ri]=o,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)ue(Lr[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":wu(r,o),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ue("invalid",r);break;case"textarea":Eu(r,o),ue("invalid",r)}ua(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var a=o[l];l==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Li(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Li(r.textContent,a,e),i=["children",""+a]):Yr.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&ue("scroll",r)}switch(n){case"input":Si(r),xu(r,o,!0);break;case"textarea":Si(r),Su(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=yo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Rt]=t,e[ri]=r,oh(e,t,!1,!1),t.stateNode=e;e:{switch(l=fa(n,r),n){case"dialog":ue("cancel",e),ue("close",e),i=r;break;case"iframe":case"object":case"embed":ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)ue(Lr[i],e);i=r;break;case"source":ue("error",e),i=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),i=r;break;case"details":ue("toggle",e),i=r;break;case"input":wu(e,r),i=ia(e,r),ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ge({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Eu(e,r),i=aa(e,r),ue("invalid",e);break;default:i=r}ua(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="style"?$c(e,s):o==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&Oc(e,s)):o==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&Xr(e,s):typeof s=="number"&&Xr(e,""+s):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Yr.hasOwnProperty(o)?s!=null&&o==="onScroll"&&ue("scroll",e):s!=null&&cs(e,o,s,l))}switch(n){case"input":Si(e),xu(e,r,!1);break;case"textarea":Si(e),Su(e);break;case"option":r.value!=null&&e.setAttribute("value",""+dn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Jn(e,!!r.multiple,o,!1):r.defaultValue!=null&&Jn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=yo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)ah(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=_n(oi.current),_n(It.current),Ri(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(o=r.nodeValue!==n)&&(e=it,e!==null))switch(e.tag){case 3:Li(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Li(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return $e(t),null;case 13:if(fe(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&rt!==null&&t.mode&1&&!(t.flags&128))_d(),ar(),t.flags|=98560,o=!1;else if(o=Ri(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(O(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[Rt]=t}else ar(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),o=!1}else Et!==null&&(Ha(Et),Et=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Te===0&&(Te=3):Ys())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return ur(),Oa(e,t),e===null&&ti(t.stateNode.containerInfo),$e(t),null;case 10:return Ls(t.type._context),$e(t),null;case 17:return Qe(t.type)&&wo(),$e(t),null;case 19:if(fe(ve),o=t.memoizedState,o===null)return $e(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)kr(o,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=To(e),l!==null){for(t.flags|=128,kr(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(ve,ve.current&1|2),t.child}e=e.sibling}o.tail!==null&&xe()>cr&&(t.flags|=128,r=!0,kr(o,!1),t.lanes=4194304)}else{if(!r)if(e=To(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),kr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!pe)return $e(t),null}else 2*xe()-o.renderingStartTime>cr&&n!==1073741824&&(t.flags|=128,r=!0,kr(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=xe(),t.sibling=null,n=ve.current,le(ve,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return Gs(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Cv(e,t){switch(Ts(t),t.tag){case 1:return Qe(t.type)&&wo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ur(),fe(qe),fe(be),Fs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ds(t),null;case 13:if(fe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ve),null;case 4:return ur(),null;case 10:return Ls(t.type._context),null;case 22:case 23:return Gs(),null;case 24:return null;default:return null}}var Di=!1,Be=!1,kv=typeof WeakSet=="function"?WeakSet:Set,j=null;function Kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function za(e,t,n){try{n()}catch(r){ye(e,t,r)}}var df=!1;function _v(e,t){if(xa=vo,e=dd(),ks(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,a=-1,s=-1,u=0,f=0,c=e,d=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(a=l+i),c!==o||r!==0&&c.nodeType!==3||(s=l+r),c.nodeType===3&&(l+=c.nodeValue.length),(p=c.firstChild)!==null;)d=c,c=p;for(;;){if(c===e)break t;if(d===n&&++u===i&&(a=l),d===o&&++f===r&&(s=l),(p=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=p}n=a===-1||s===-1?null:{start:a,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ea={focusedElem:e,selectionRange:n},vo=!1,j=t;j!==null;)if(t=j,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,E=g.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:wt(t.type,w),E);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(x){ye(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return g=df,df=!1,g}function Ur(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&za(t,n,o)}i=i.next}while(i!==r)}}function el(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $a(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sh(e){var t=e.alternate;t!==null&&(e.alternate=null,sh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[ri],delete t[ka],delete t[av],delete t[sv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uh(e){return e.tag===5||e.tag===3||e.tag===4}function hf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ba(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yo));else if(r!==4&&(e=e.child,e!==null))for(Ba(e,t,n),e=e.sibling;e!==null;)Ba(e,t,n),e=e.sibling}function ba(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ba(e,t,n),e=e.sibling;e!==null;)ba(e,t,n),e=e.sibling}var Le=null,xt=!1;function Gt(e,t,n){for(n=n.child;n!==null;)fh(e,t,n),n=n.sibling}function fh(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Go,n)}catch{}switch(n.tag){case 5:Be||Kn(n,t);case 6:var r=Le,i=xt;Le=null,Gt(e,t,n),Le=r,xt=i,Le!==null&&(xt?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(xt?(e=Le,n=n.stateNode,e.nodeType===8?Rl(e.parentNode,n):e.nodeType===1&&Rl(e,n),Zr(e)):Rl(Le,n.stateNode));break;case 4:r=Le,i=xt,Le=n.stateNode.containerInfo,xt=!0,Gt(e,t,n),Le=r,xt=i;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&za(n,t,l),i=i.next}while(i!==r)}Gt(e,t,n);break;case 1:if(!Be&&(Kn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,t,a)}Gt(e,t,n);break;case 21:Gt(e,t,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,Gt(e,t,n),Be=r):Gt(e,t,n);break;default:Gt(e,t,n)}}function pf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kv),t.forEach(function(r){var i=Dv.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,a=l;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,xt=!1;break e;case 3:Le=a.stateNode.containerInfo,xt=!0;break e;case 4:Le=a.stateNode.containerInfo,xt=!0;break e}a=a.return}if(Le===null)throw Error(O(160));fh(o,l,i),Le=null,xt=!1;var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(u){ye(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ch(t,e),t=t.sibling}function ch(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),At(e),r&4){try{Ur(3,e,e.return),el(3,e)}catch(w){ye(e,e.return,w)}try{Ur(5,e,e.return)}catch(w){ye(e,e.return,w)}}break;case 1:mt(t,e),At(e),r&512&&n!==null&&Kn(n,n.return);break;case 5:if(mt(t,e),At(e),r&512&&n!==null&&Kn(n,n.return),e.flags&32){var i=e.stateNode;try{Xr(i,"")}catch(w){ye(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,a=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Ic(i,o),fa(a,l);var u=fa(a,o);for(l=0;l<s.length;l+=2){var f=s[l],c=s[l+1];f==="style"?$c(i,c):f==="dangerouslySetInnerHTML"?Oc(i,c):f==="children"?Xr(i,c):cs(i,f,c,u)}switch(a){case"input":oa(i,o);break;case"textarea":Dc(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Jn(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Jn(i,!!o.multiple,o.defaultValue,!0):Jn(i,!!o.multiple,o.multiple?[]:"",!1))}i[ri]=o}catch(w){ye(e,e.return,w)}}break;case 6:if(mt(t,e),At(e),r&4){if(e.stateNode===null)throw Error(O(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(w){ye(e,e.return,w)}}break;case 3:if(mt(t,e),At(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zr(t.containerInfo)}catch(w){ye(e,e.return,w)}break;case 4:mt(t,e),At(e);break;case 13:mt(t,e),At(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Hs=xe())),r&4&&pf(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Be=(u=Be)||f,mt(t,e),Be=u):mt(t,e),At(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(j=e,f=e.child;f!==null;){for(c=j=f;j!==null;){switch(d=j,p=d.child,d.tag){case 0:case 11:case 14:case 15:Ur(4,d,d.return);break;case 1:Kn(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){ye(r,n,w)}}break;case 5:Kn(d,d.return);break;case 22:if(d.memoizedState!==null){mf(c);continue}}p!==null?(p.return=d,j=p):mf(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=c.stateNode,s=c.memoizedProps.style,l=s!=null&&s.hasOwnProperty("display")?s.display:null,a.style.display=zc("display",l))}catch(w){ye(e,e.return,w)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(w){ye(e,e.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:mt(t,e),At(e),r&4&&pf(e);break;case 21:break;default:mt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uh(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xr(i,""),r.flags&=-33);var o=hf(e);ba(e,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,a=hf(e);Ba(e,a,l);break;default:throw Error(O(161))}}catch(s){ye(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tv(e,t,n){j=e,dh(e)}function dh(e,t,n){for(var r=(e.mode&1)!==0;j!==null;){var i=j,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Di;if(!l){var a=i.alternate,s=a!==null&&a.memoizedState!==null||Be;a=Di;var u=Be;if(Di=l,(Be=s)&&!u)for(j=i;j!==null;)l=j,s=l.child,l.tag===22&&l.memoizedState!==null?gf(i):s!==null?(s.return=l,j=s):gf(i);for(;o!==null;)j=o,dh(o),o=o.sibling;j=i,Di=a,Be=u}vf(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,j=o):vf(e)}}function vf(e){for(;j!==null;){var t=j;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||el(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Be)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:wt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Zu(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zu(t,l,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Zr(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Be||t.flags&512&&$a(t)}catch(d){ye(t,t.return,d)}}if(t===e){j=null;break}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}}function mf(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var n=t.sibling;if(n!==null){n.return=t.return,j=n;break}j=t.return}}function gf(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{el(4,t)}catch(s){ye(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(s){ye(t,i,s)}}var o=t.return;try{$a(t)}catch(s){ye(t,o,s)}break;case 5:var l=t.return;try{$a(t)}catch(s){ye(t,l,s)}}}catch(s){ye(t,t.return,s)}if(t===e){j=null;break}var a=t.sibling;if(a!==null){a.return=t.return,j=a;break}j=t.return}}var Pv=Math.ceil,Mo=Wt.ReactCurrentDispatcher,js=Wt.ReactCurrentOwner,dt=Wt.ReactCurrentBatchConfig,ee=0,Ae=null,ke=null,Ne=0,nt=0,Zn=vn(0),Te=0,ui=null,Rn=0,tl=0,Vs=0,jr=null,Ge=null,Hs=0,cr=1/0,Ft=null,Lo=!1,Ua=null,sn=null,Fi=!1,tn=null,Ro=0,Vr=0,ja=null,ro=-1,io=0;function je(){return ee&6?xe():ro!==-1?ro:ro=xe()}function un(e){return e.mode&1?ee&2&&Ne!==0?Ne&-Ne:fv.transition!==null?(io===0&&(io=Qc()),io):(e=re,e!==0||(e=window.event,e=e===void 0?16:rd(e.type)),e):1}function _t(e,t,n,r){if(50<Vr)throw Vr=0,ja=null,Error(O(185));vi(e,n,r),(!(ee&2)||e!==Ae)&&(e===Ae&&(!(ee&2)&&(tl|=n),Te===4&&Zt(e,Ne)),Ke(e,r),n===1&&ee===0&&!(t.mode&1)&&(cr=xe()+500,Ko&&mn()))}function Ke(e,t){var n=e.callbackNode;f0(e,t);var r=po(e,e===Ae?Ne:0);if(r===0)n!==null&&_u(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_u(n),t===1)e.tag===0?uv(yf.bind(null,e)):Sd(yf.bind(null,e)),ov(function(){!(ee&6)&&mn()}),n=null;else{switch(Kc(r)){case 1:n=ms;break;case 4:n=Xc;break;case 16:n=ho;break;case 536870912:n=qc;break;default:n=ho}n=xh(n,hh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hh(e,t){if(ro=-1,io=0,ee&6)throw Error(O(327));var n=e.callbackNode;if(ir()&&e.callbackNode!==n)return null;var r=po(e,e===Ae?Ne:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=No(e,r);else{t=r;var i=ee;ee|=2;var o=vh();(Ae!==e||Ne!==t)&&(Ft=null,cr=xe()+500,Tn(e,t));do try{Lv();break}catch(a){ph(e,a)}while(!0);Ms(),Mo.current=o,ee=i,ke!==null?t=0:(Ae=null,Ne=0,t=Te)}if(t!==0){if(t===2&&(i=va(e),i!==0&&(r=i,t=Va(e,i))),t===1)throw n=ui,Tn(e,0),Zt(e,r),Ke(e,xe()),n;if(t===6)Zt(e,r);else{if(i=e.current.alternate,!(r&30)&&!Av(i)&&(t=No(e,r),t===2&&(o=va(e),o!==0&&(r=o,t=Va(e,o))),t===1))throw n=ui,Tn(e,0),Zt(e,r),Ke(e,xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:Sn(e,Ge,Ft);break;case 3:if(Zt(e,r),(r&130023424)===r&&(t=Hs+500-xe(),10<t)){if(po(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){je(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ca(Sn.bind(null,e,Ge,Ft),t);break}Sn(e,Ge,Ft);break;case 4:if(Zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-kt(r);o=1<<l,l=t[l],l>i&&(i=l),r&=~o}if(r=i,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pv(r/1960))-r,10<r){e.timeoutHandle=Ca(Sn.bind(null,e,Ge,Ft),r);break}Sn(e,Ge,Ft);break;case 5:Sn(e,Ge,Ft);break;default:throw Error(O(329))}}}return Ke(e,xe()),e.callbackNode===n?hh.bind(null,e):null}function Va(e,t){var n=jr;return e.current.memoizedState.isDehydrated&&(Tn(e,t).flags|=256),e=No(e,t),e!==2&&(t=Ge,Ge=n,t!==null&&Ha(t)),e}function Ha(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function Av(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Tt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~Vs,t&=~tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kt(t),r=1<<n;e[n]=-1,t&=~r}}function yf(e){if(ee&6)throw Error(O(327));ir();var t=po(e,0);if(!(t&1))return Ke(e,xe()),null;var n=No(e,t);if(e.tag!==0&&n===2){var r=va(e);r!==0&&(t=r,n=Va(e,r))}if(n===1)throw n=ui,Tn(e,0),Zt(e,t),Ke(e,xe()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sn(e,Ge,Ft),Ke(e,xe()),null}function Ws(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(cr=xe()+500,Ko&&mn())}}function Nn(e){tn!==null&&tn.tag===0&&!(ee&6)&&ir();var t=ee;ee|=1;var n=dt.transition,r=re;try{if(dt.transition=null,re=1,e)return e()}finally{re=r,dt.transition=n,ee=t,!(ee&6)&&mn()}}function Gs(){nt=Zn.current,fe(Zn)}function Tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iv(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(Ts(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wo();break;case 3:ur(),fe(qe),fe(be),Fs();break;case 5:Ds(r);break;case 4:ur();break;case 13:fe(ve);break;case 19:fe(ve);break;case 10:Ls(r.type._context);break;case 22:case 23:Gs()}n=n.return}if(Ae=e,ke=e=fn(e.current,null),Ne=nt=t,Te=0,ui=null,Vs=tl=Rn=0,Ge=jr=null,kn!==null){for(t=0;t<kn.length;t++)if(n=kn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}kn=null}return e}function ph(e,t){do{var n=ke;try{if(Ms(),eo.current=Ao,Po){for(var r=me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Po=!1}if(Ln=0,Pe=_e=me=null,br=!1,li=0,js.current=null,n===null||n.return===null){Te=1,ui=t,ke=null;break}e:{var o=e,l=n.return,a=n,s=t;if(t=Ne,a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,f=a,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=of(l);if(p!==null){p.flags&=-257,lf(p,l,a,o,t),p.mode&1&&rf(o,u,t),t=p,s=u;var g=t.updateQueue;if(g===null){var w=new Set;w.add(s),t.updateQueue=w}else g.add(s);break e}else{if(!(t&1)){rf(o,u,t),Ys();break e}s=Error(O(426))}}else if(pe&&a.mode&1){var E=of(l);if(E!==null){!(E.flags&65536)&&(E.flags|=256),lf(E,l,a,o,t),Ps(fr(s,a));break e}}o=s=fr(s,a),Te!==4&&(Te=2),jr===null?jr=[o]:jr.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Kd(o,s,t);Ku(o,m);break e;case 1:a=s;var h=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(sn===null||!sn.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=Zd(o,a,t);Ku(o,x);break e}}o=o.return}while(o!==null)}gh(n)}catch(S){t=S,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function vh(){var e=Mo.current;return Mo.current=Ao,e===null?Ao:e}function Ys(){(Te===0||Te===3||Te===2)&&(Te=4),Ae===null||!(Rn&268435455)&&!(tl&268435455)||Zt(Ae,Ne)}function No(e,t){var n=ee;ee|=2;var r=vh();(Ae!==e||Ne!==t)&&(Ft=null,Tn(e,t));do try{Mv();break}catch(i){ph(e,i)}while(!0);if(Ms(),ee=n,Mo.current=r,ke!==null)throw Error(O(261));return Ae=null,Ne=0,Te}function Mv(){for(;ke!==null;)mh(ke)}function Lv(){for(;ke!==null&&!t0();)mh(ke)}function mh(e){var t=wh(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?gh(e):ke=t,js.current=null}function gh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Cv(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,ke=null;return}}else if(n=Sv(n,t,nt),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Te===0&&(Te=5)}function Sn(e,t,n){var r=re,i=dt.transition;try{dt.transition=null,re=1,Rv(e,t,n,r)}finally{dt.transition=i,re=r}return null}function Rv(e,t,n,r){do ir();while(tn!==null);if(ee&6)throw Error(O(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(c0(e,o),e===Ae&&(ke=Ae=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fi||(Fi=!0,xh(ho,function(){return ir(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=dt.transition,dt.transition=null;var l=re;re=1;var a=ee;ee|=4,js.current=null,_v(e,n),ch(n,e),K0(Ea),vo=!!xa,Ea=xa=null,e.current=n,Tv(n),n0(),ee=a,re=l,dt.transition=o}else e.current=n;if(Fi&&(Fi=!1,tn=e,Ro=i),o=e.pendingLanes,o===0&&(sn=null),o0(n.stateNode),Ke(e,xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lo)throw Lo=!1,e=Ua,Ua=null,e;return Ro&1&&e.tag!==0&&ir(),o=e.pendingLanes,o&1?e===ja?Vr++:(Vr=0,ja=e):Vr=0,mn(),null}function ir(){if(tn!==null){var e=Kc(Ro),t=dt.transition,n=re;try{if(dt.transition=null,re=16>e?16:e,tn===null)var r=!1;else{if(e=tn,tn=null,Ro=0,ee&6)throw Error(O(331));var i=ee;for(ee|=4,j=e.current;j!==null;){var o=j,l=o.child;if(j.flags&16){var a=o.deletions;if(a!==null){for(var s=0;s<a.length;s++){var u=a[s];for(j=u;j!==null;){var f=j;switch(f.tag){case 0:case 11:case 15:Ur(8,f,o)}var c=f.child;if(c!==null)c.return=f,j=c;else for(;j!==null;){f=j;var d=f.sibling,p=f.return;if(sh(f),f===u){j=null;break}if(d!==null){d.return=p,j=d;break}j=p}}}var g=o.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}j=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,j=l;else e:for(;j!==null;){if(o=j,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ur(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,j=m;break e}j=o.return}}var h=e.current;for(j=h;j!==null;){l=j;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,j=v;else e:for(l=h;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:el(9,a)}}catch(S){ye(a,a.return,S)}if(a===l){j=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,j=x;break e}j=a.return}}if(ee=i,mn(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Go,e)}catch{}r=!0}return r}finally{re=n,dt.transition=t}}return!1}function wf(e,t,n){t=fr(n,t),t=Kd(e,t,1),e=an(e,t,1),t=je(),e!==null&&(vi(e,1,t),Ke(e,t))}function ye(e,t,n){if(e.tag===3)wf(e,e,n);else for(;t!==null;){if(t.tag===3){wf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sn===null||!sn.has(r))){e=fr(n,e),e=Zd(t,e,1),t=an(t,e,1),e=je(),t!==null&&(vi(t,1,e),Ke(t,e));break}}t=t.return}}function Nv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=je(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(Ne&n)===n&&(Te===4||Te===3&&(Ne&130023424)===Ne&&500>xe()-Hs?Tn(e,0):Vs|=n),Ke(e,t)}function yh(e,t){t===0&&(e.mode&1?(t=_i,_i<<=1,!(_i&130023424)&&(_i=4194304)):t=1);var n=je();e=Vt(e,t),e!==null&&(vi(e,t,n),Ke(e,n))}function Iv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yh(e,n)}function Dv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),yh(e,n)}var wh;wh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)Ye=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ye=!1,Ev(e,t,n);Ye=!!(e.flags&131072)}else Ye=!1,pe&&t.flags&1048576&&Cd(t,So,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;no(e,t),e=t.pendingProps;var i=lr(t,be.current);rr(t,n),i=zs(null,t,r,e,i,n);var o=$s();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(r)?(o=!0,xo(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ns(t),i.updater=Jo,t.stateNode=i,i._reactInternals=t,La(t,r,e,n),t=Ia(null,t,r,!0,o,n)):(t.tag=0,pe&&o&&_s(t),Ue(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(no(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Ov(r),e=wt(r,e),i){case 0:t=Na(null,t,r,e,n);break e;case 1:t=uf(null,t,r,e,n);break e;case 11:t=af(null,t,r,e,n);break e;case 14:t=sf(null,t,r,wt(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wt(r,i),Na(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wt(r,i),uf(e,t,r,i,n);case 3:e:{if(nh(t),e===null)throw Error(O(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Md(e,t),_o(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=fr(Error(O(423)),t),t=ff(e,t,r,n,i);break e}else if(r!==i){i=fr(Error(O(424)),t),t=ff(e,t,r,n,i);break e}else for(rt=ln(t.stateNode.containerInfo.firstChild),it=t,pe=!0,Et=null,n=Pd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ar(),r===i){t=Ht(e,t,n);break e}Ue(e,t,r,n)}t=t.child}return t;case 5:return Ld(t),e===null&&Pa(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,Sa(r,i)?l=null:o!==null&&Sa(r,o)&&(t.flags|=32),th(e,t),Ue(e,t,l,n),t.child;case 6:return e===null&&Pa(t),null;case 13:return rh(e,t,n);case 4:return Is(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=sr(t,null,r,n):Ue(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wt(r,i),af(e,t,r,i,n);case 7:return Ue(e,t,t.pendingProps,n),t.child;case 8:return Ue(e,t,t.pendingProps.children,n),t.child;case 12:return Ue(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,le(Co,r._currentValue),r._currentValue=l,o!==null)if(Tt(o.value,l)){if(o.children===i.children&&!qe.current){t=Ht(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){l=o.child;for(var s=a.firstContext;s!==null;){if(s.context===r){if(o.tag===1){s=Bt(-1,n&-n),s.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s}}o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Aa(o.return,n,t),a.lanes|=n;break}s=s.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(O(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Aa(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Ue(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,rr(t,n),i=ht(i),r=r(i),t.flags|=1,Ue(e,t,r,n),t.child;case 14:return r=t.type,i=wt(r,t.pendingProps),i=wt(r.type,i),sf(e,t,r,i,n);case 15:return Jd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wt(r,i),no(e,t),t.tag=1,Qe(r)?(e=!0,xo(t)):e=!1,rr(t,n),Qd(t,r,i),La(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return ih(e,t,n);case 22:return eh(e,t,n)}throw Error(O(156,t.tag))};function xh(e,t){return Yc(e,t)}function Fv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,r){return new Fv(e,t,n,r)}function Xs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ov(e){if(typeof e=="function")return Xs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hs)return 11;if(e===ps)return 14}return 2}function fn(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function oo(e,t,n,r,i,o){var l=2;if(r=e,typeof e=="function")Xs(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case jn:return Pn(n.children,i,o,t);case ds:l=8,i|=8;break;case ea:return e=ct(12,n,t,i|2),e.elementType=ea,e.lanes=o,e;case ta:return e=ct(13,n,t,i),e.elementType=ta,e.lanes=o,e;case na:return e=ct(19,n,t,i),e.elementType=na,e.lanes=o,e;case Lc:return nl(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ac:l=10;break e;case Mc:l=9;break e;case hs:l=11;break e;case ps:l=14;break e;case Yt:l=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=ct(l,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Pn(e,t,n,r){return e=ct(7,e,r,t),e.lanes=n,e}function nl(e,t,n,r){return e=ct(22,e,r,t),e.elementType=Lc,e.lanes=n,e.stateNode={isHidden:!1},e}function Bl(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function bl(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zv(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xl(0),this.expirationTimes=xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qs(e,t,n,r,i,o,l,a,s){return e=new zv(e,t,n,a,s),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ct(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ns(o),e}function $v(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Eh(e){if(!e)return hn;e=e._reactInternals;e:{if(Dn(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(Qe(n))return Ed(e,n,t)}return t}function Sh(e,t,n,r,i,o,l,a,s){return e=qs(n,r,!0,e,i,o,l,a,s),e.context=Eh(null),n=e.current,r=je(),i=un(n),o=Bt(r,i),o.callback=t??null,an(n,o,i),e.current.lanes=i,vi(e,i,r),Ke(e,r),e}function rl(e,t,n,r){var i=t.current,o=je(),l=un(i);return n=Eh(n),t.context===null?t.context=n:t.pendingContext=n,t=Bt(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=an(i,t,l),e!==null&&(_t(e,i,l,o),Ji(e,i,l)),l}function Io(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qs(e,t){xf(e,t),(e=e.alternate)&&xf(e,t)}function Bv(){return null}var Ch=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ks(e){this._internalRoot=e}il.prototype.render=Ks.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));rl(e,t,null,null)};il.prototype.unmount=Ks.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nn(function(){rl(null,e,null,null)}),t[jt]=null}};function il(e){this._internalRoot=e}il.prototype.unstable_scheduleHydration=function(e){if(e){var t=ed();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kt.length&&t!==0&&t<Kt[n].priority;n++);Kt.splice(n,0,e),n===0&&nd(e)}};function Zs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ef(){}function bv(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Io(l);o.call(u)}}var l=Sh(t,r,e,0,null,!1,!1,"",Ef);return e._reactRootContainer=l,e[jt]=l.current,ti(e.nodeType===8?e.parentNode:e),Nn(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Io(s);a.call(u)}}var s=qs(e,0,!1,null,null,!1,!1,"",Ef);return e._reactRootContainer=s,e[jt]=s.current,ti(e.nodeType===8?e.parentNode:e),Nn(function(){rl(t,s,n,r)}),s}function ll(e,t,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var a=i;i=function(){var s=Io(l);a.call(s)}}rl(t,l,e,i)}else l=bv(n,t,e,i,r);return Io(l)}Zc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mr(t.pendingLanes);n!==0&&(gs(t,n|1),Ke(t,xe()),!(ee&6)&&(cr=xe()+500,mn()))}break;case 13:Nn(function(){var r=Vt(e,1);if(r!==null){var i=je();_t(r,e,1,i)}}),Qs(e,1)}};ys=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=je();_t(t,e,134217728,n)}Qs(e,134217728)}};Jc=function(e){if(e.tag===13){var t=un(e),n=Vt(e,t);if(n!==null){var r=je();_t(n,e,t,r)}Qs(e,t)}};ed=function(){return re};td=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};da=function(e,t,n){switch(t){case"input":if(oa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Qo(r);if(!i)throw Error(O(90));Nc(r),oa(r,i)}}}break;case"textarea":Dc(e,n);break;case"select":t=n.value,t!=null&&Jn(e,!!n.multiple,t,!1)}};Uc=Ws;jc=Nn;var Uv={usingClientEntryPoint:!1,Events:[gi,Gn,Qo,Bc,bc,Ws]},_r={findFiberByHostInstance:Cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jv={bundleType:_r.bundleType,version:_r.version,rendererPackageName:_r.rendererPackageName,rendererConfig:_r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wc(e),e===null?null:e.stateNode},findFiberByHostInstance:_r.findFiberByHostInstance||Bv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oi.isDisabled&&Oi.supportsFiber)try{Go=Oi.inject(jv),Nt=Oi}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uv;lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zs(t))throw Error(O(200));return $v(e,t,null,n)};lt.createRoot=function(e,t){if(!Zs(e))throw Error(O(299));var n=!1,r="",i=Ch;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=qs(e,1,!1,null,null,n,!1,r,i),e[jt]=t.current,ti(e.nodeType===8?e.parentNode:e),new Ks(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Wc(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return Nn(e)};lt.hydrate=function(e,t,n){if(!ol(t))throw Error(O(200));return ll(null,e,t,!0,n)};lt.hydrateRoot=function(e,t,n){if(!Zs(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=Ch;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Sh(t,null,e,1,n??null,i,!1,o,l),e[jt]=t.current,ti(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new il(t)};lt.render=function(e,t,n){if(!ol(t))throw Error(O(200));return ll(null,e,t,!1,n)};lt.unmountComponentAtNode=function(e){if(!ol(e))throw Error(O(40));return e._reactRootContainer?(Nn(function(){ll(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};lt.unstable_batchedUpdates=Ws;lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ol(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return ll(e,t,n,!1,r)};lt.version="18.3.1-next-f1338f8080-20240426";function kh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kh)}catch(e){console.error(e)}}kh(),kc.exports=lt;var Vv=kc.exports,Sf=Vv;Zl.createRoot=Sf.createRoot,Zl.hydrateRoot=Sf.hydrateRoot;var Hv=function(t){Gv(t);var n=Wv(t);return t.on=n.on,t.off=n.off,t.fire=n.fire,t};function Wv(e){var t=Object.create(null);return{on:function(n,r,i){if(typeof r!="function")throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:i}),e},off:function(n,r){var i=typeof n>"u";if(i)return t=Object.create(null),e;if(t[n]){var o=typeof r!="function";if(o)delete t[n];else for(var l=t[n],a=0;a<l.length;++a)l[a].callback===r&&l.splice(a,1)}return e},fire:function(n){var r=t[n];if(!r)return e;var i;arguments.length>1&&(i=Array.prototype.splice.call(arguments,1));for(var o=0;o<r.length;++o){var l=r[o];l.callback.apply(l.ctx,i)}return e}}}function Gv(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}const Js=Ho(Hv);class eu{constructor(t){Js(this),this.callback=t||Function.prototype}cancel(){this.isCancelled=!0,this.fire("cancel")}notify(t){this.isCancelled||this.callback(t)}onCancel(t){this.on("cancel",t,this)}offCancel(t){this.off("cancel",t)}}function _h(e,t){t||(t={});let n,r=t.progress||new eu;return r.on&&r.onCancel(i),new Promise(o);function i(){n&&n.abort()}function o(l,a){n=new XMLHttpRequest,typeof r.notify=="function"&&n.addEventListener("progress",s,!1),n.addEventListener("load",u,!1),n.addEventListener("error",f,!1),n.addEventListener("abort",c,!1),n.open(t.method||"GET",e),t.responseType&&(n.responseType=t.responseType),t.headers&&Object.keys(t.headers).forEach(d=>{n.setRequestHeader(d,t.headers[d])}),t.method==="POST"?n.send(t.body):n.send(null);function s(d){d.lengthComputable?r.notify({loaded:d.loaded,total:d.total,percent:d.loaded/d.total,lengthComputable:!0}):r.notify({loaded:d.loaded,lengthComputable:!1})}function u(){if(r.offCancel(i),!r.isCancelled){if(n.status!==200){a({statusError:n.status,message:`Unexpected status code ${n.status} when calling ${e}`});return}var d=n.response;t.responseType==="json"&&typeof d=="string"&&(d=JSON.parse(d)),setTimeout(()=>l(d),0)}}function f(){a(`Failed to download ${e}`)}function c(){a({cancelled:!0,message:`Cancelled download of ${e}`})}}}let Cf=new Map;function tu(e){let t=Cf.get(e);if(t)return Promise.resolve(t);let n=encodeURIComponent(e);return _h(`https://nominatim.openstreetmap.org/search?format=json&q=${n}`,{responseType:"json"}).then(Yv).then(r=>(Cf.set(e,r),r))}function Yv(e){return e.map(n=>{let r,i;return n.osm_type==="relation"?r=n.osm_id+36e8:n.osm_type==="way"&&(r=n.osm_id+24e8),n.boundingbox&&(i=[Number.parseFloat(n.boundingbox[0]),Number.parseFloat(n.boundingbox[2]),Number.parseFloat(n.boundingbox[1]),Number.parseFloat(n.boundingbox[3])]),{areaId:r,bbox:i,lat:n.lat,lon:n.lon,osmId:n.osm_id,osmType:n.osm_type,name:n.display_name,type:n.type}})}const Xv=()=>{};var Th={exports:{}},qv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Qv=qv,Kv=Qv;function Ph(){}function Ah(){}Ah.resetWarningCache=Ph;var Zv=function(){function e(r,i,o,l,a,s){if(s!==Kv){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ah,resetWarningCache:Ph};return n.PropTypes=n,n};Th.exports=Zv();var Jv=Th.exports;const em=Ho(Jv);class al{static parse(t,n,r){let i=new al;if(typeof r=="string"&&(i.place=r),n&&(i.wayFilter=n),!r)return i;Object.assign(i,r);let o=tm(t,r.layer);if(o){i.projector=o.getGridProjector();let l=o.getQueryBounds();l&&!i.place&&!i.areaId&&!i.bbox&&(i.place=l.place,i.areaId=l.areaId,i.bbox=l.bbox)}return r.projector&&(i.projector=r.projector),i}constructor(t){this.place=void 0,this.projector=void 0,this.wayFilter=void 0,this.timeout=900,this.maxHeapByteSize=1073741824,this.outputMethod="skel",Object.assign(this,t)}getQueryTemplate(){if(this.raw)return Promise.resolve({queryString:this.raw});if(!this.wayFilter)throw new Error("Way filter is required");return this.getBounds().then(t=>{let n;if(t.areaId)n=`[timeout:${this.timeout}][maxsize:${this.maxHeapByteSize}][out:json];
area(${t.areaId});
(._; )->.area;
(${this.wayFilter}(area.area); node(w););
out ${this.outputMethod};`;else if(t.bbox){let r=nm(t.bbox);n=`[timeout:${this.timeout}][maxsize:${this.maxHeapByteSize}][bbox:${r}][out:json];
(${this.wayFilter}; node(w););
out ${this.outputMethod};`}return{bounds:t,queryString:n}})}getBounds(){if(this.place)return tu(this.place).then(t=>t&&t[0]);if(this.areaId)return Promise.resolve({areaId:this.areaId});if(this.bbox)return Promise.resolve({bbox:this.bbox});throw new Error("Please specify bounding area for the query (place|areaId|bbox)")}}function tm(e,t){if(t!==void 0)return typeof t=="number"?e.queryLayerAll()[t]:typeof t=="string"?e.queryLayer(t):t}function nm(e){return e&&e.join(",")}let Ul=["https://overpass.kumi.systems/api/interpreter","https://overpass-api.de/api/interpreter","https://overpass.openstreetmap.ru/cgi/interpreter"];function rm(e,t){t=t||new eu;const n={method:"POST",responseType:"json",progress:t,headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"data="+encodeURIComponent(e)};let r=0;return i(Ul[r]);function i(l){return _h(l,n).catch(o)}function o(l){if(l.cancelled||r>=Ul.length-1)throw l;return l.statusError&&t.notify({loaded:-1}),r+=1,i(Ul[r])}}class im{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}growBy(t){this.minX-=t,this.minY-=t,this.maxX+=t,this.maxY+=t}get left(){return this.minX}get top(){return this.minY}get right(){return this.maxX}get bottom(){return this.maxY}get width(){return this.maxX-this.minX}get height(){return this.maxY-this.minY}get cx(){return(this.minX+this.maxX)/2}get cy(){return(this.minY+this.maxY)/2}addPoint(t,n){if(t===void 0)throw new Error("Point is not defined");let r=t,i=n;i===void 0&&(r=t.x,i=t.y),r<this.minX&&(this.minX=r),r>this.maxX&&(this.maxX=r),i<this.minY&&(this.minY=i),i>this.maxY&&(this.maxY=i)}addRect(t){if(!t)throw new Error("rect is not defined");this.addPoint(t.left,t.top),this.addPoint(t.right,t.top),this.addPoint(t.left,t.bottom),this.addPoint(t.right,t.bottom)}merge(t){t.minX<this.minX&&(this.minX=t.minX),t.minY<this.minY&&(this.minY=t.minY),t.maxX>this.maxX&&(this.maxX=t.maxX),t.maxY>this.maxY&&(this.maxY=t.maxY)}}class om{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],l=t+o,a=Math.abs(t)<Math.abs(o)?t-(l-o):o-(l-t);a&&(n[r++]=a),t=l}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,l=0;if(n>0){for(l=t[--n];n>0&&(r=l,i=t[--n],l=r+i,o=i-(l-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=l+i,i==r-l&&(l=r))}return l}}function*lm(e){for(const t of e)yield*t}function Mh(e){return Array.from(lm(e))}var ae=1e-6,am=1e-12,J=Math.PI,Xe=J/2,kf=J/4,vt=J*2,tt=180/J,Ce=J/180,we=Math.abs,Lh=Math.atan,fi=Math.atan2,Ee=Math.cos,sm=Math.exp,um=Math.log,Se=Math.sin,fm=Math.sign||function(e){return e>0?1:e<0?-1:0},sl=Math.sqrt,cm=Math.tan;function dm(e){return e>1?0:e<-1?J:Math.acos(e)}function ci(e){return e>1?Xe:e<-1?-Xe:Math.asin(e)}function Rr(){}function Do(e,t){e&&Tf.hasOwnProperty(e.type)&&Tf[e.type](e,t)}var _f={Feature:function(e,t){Do(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Do(n[r].geometry,t)}},Tf={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Wa(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Wa(n[r],t,0)},Polygon:function(e,t){Pf(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Pf(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Do(n[r],t)}};function Wa(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function Pf(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Wa(e[n],t,1);t.polygonEnd()}function hm(e,t){e&&_f.hasOwnProperty(e.type)?_f[e.type](e,t):Do(e,t)}function Ga(e){return[fi(e[1],e[0]),ci(e[2])]}function dr(e){var t=e[0],n=e[1],r=Ee(n);return[r*Ee(t),r*Se(t),Se(n)]}function zi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Fo(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function jl(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function $i(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ya(e){var t=sl(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Xa(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function qa(e,t){return we(e)>J&&(e-=Math.round(e/vt)*vt),[e,t]}qa.invert=qa;function Rh(e,t,n){return(e%=vt)?t||n?Xa(Mf(e),Lf(t,n)):Mf(e):t||n?Lf(t,n):qa}function Af(e){return function(t,n){return t+=e,we(t)>J&&(t-=Math.round(t/vt)*vt),[t,n]}}function Mf(e){var t=Af(e);return t.invert=Af(-e),t}function Lf(e,t){var n=Ee(e),r=Se(e),i=Ee(t),o=Se(t);function l(a,s){var u=Ee(s),f=Ee(a)*u,c=Se(a)*u,d=Se(s),p=d*n+f*r;return[fi(c*i-p*o,f*n-d*r),ci(p*i+c*o)]}return l.invert=function(a,s){var u=Ee(s),f=Ee(a)*u,c=Se(a)*u,d=Se(s),p=d*i-c*o;return[fi(c*i+d*o,f*n+p*r),ci(p*n-f*r)]},l}function pm(e){e=Rh(e[0]*Ce,e[1]*Ce,e.length>2?e[2]*Ce:0);function t(n){return n=e(n[0]*Ce,n[1]*Ce),n[0]*=tt,n[1]*=tt,n}return t.invert=function(n){return n=e.invert(n[0]*Ce,n[1]*Ce),n[0]*=tt,n[1]*=tt,n},t}function vm(e,t,n,r,i,o){if(n){var l=Ee(t),a=Se(t),s=r*n;i==null?(i=t+r*vt,o=t-s/2):(i=Rf(l,i),o=Rf(l,o),(r>0?i<o:i>o)&&(i+=r*vt));for(var u,f=i;r>0?f>o:f<o;f-=s)u=Ga([l,-a*Ee(f),-a*Se(f)]),e.point(u[0],u[1])}}function Rf(e,t){t=dr(t),t[0]-=e,Ya(t);var n=dm(-t[1]);return((-t[2]<0?-n:n)+vt-ae)%vt}function Nh(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Rr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function lo(e,t){return we(e[0]-t[0])<ae&&we(e[1]-t[1])<ae}function Bi(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ih(e,t,n,r,i){var o=[],l=[],a,s;if(e.forEach(function(g){if(!((w=g.length-1)<=0)){var w,E=g[0],m=g[w],h;if(lo(E,m)){if(!E[2]&&!m[2]){for(i.lineStart(),a=0;a<w;++a)i.point((E=g[a])[0],E[1]);i.lineEnd();return}m[0]+=2*ae}o.push(h=new Bi(E,g,null,!0)),l.push(h.o=new Bi(E,null,h,!1)),o.push(h=new Bi(m,g,null,!1)),l.push(h.o=new Bi(m,null,h,!0))}}),!!o.length){for(l.sort(t),Nf(o),Nf(l),a=0,s=l.length;a<s;++a)l[a].e=n=!n;for(var u=o[0],f,c;;){for(var d=u,p=!0;d.v;)if((d=d.n)===u)return;f=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(a=0,s=f.length;a<s;++a)i.point((c=f[a])[0],c[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(f=d.p.z,a=f.length-1;a>=0;--a)i.point((c=f[a])[0],c[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,f=d.z,p=!p}while(!d.v);i.lineEnd()}}}function Nf(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Vl(e){return we(e[0])<=J?e[0]:fm(e[0])*((we(e[0])+J)%vt-J)}function mm(e,t){var n=Vl(t),r=t[1],i=Se(r),o=[Se(n),-Ee(n),0],l=0,a=0,s=new om;i===1?r=Xe+ae:i===-1&&(r=-Xe-ae);for(var u=0,f=e.length;u<f;++u)if(d=(c=e[u]).length)for(var c,d,p=c[d-1],g=Vl(p),w=p[1]/2+kf,E=Se(w),m=Ee(w),h=0;h<d;++h,g=x,E=y,m=C,p=v){var v=c[h],x=Vl(v),S=v[1]/2+kf,y=Se(S),C=Ee(S),k=x-g,P=k>=0?1:-1,_=P*k,A=_>J,D=E*y;if(s.add(fi(D*P*Se(_),m*C+D*Ee(_))),l+=A?k+P*vt:k,A^g>=n^x>=n){var F=Fo(dr(p),dr(v));Ya(F);var z=Fo(o,F);Ya(z);var T=(A^k>=0?-1:1)*ci(z[2]);(r>T||r===T&&(F[0]||F[1]))&&(a+=A^k>=0?1:-1)}}return(l<-ae||l<ae&&s<-am)^a&1}function Dh(e,t,n,r){return function(i){var o=t(i),l=Nh(),a=t(l),s=!1,u,f,c,d={point:p,lineStart:w,lineEnd:E,polygonStart:function(){d.point=m,d.lineStart=h,d.lineEnd=v,f=[],u=[]},polygonEnd:function(){d.point=p,d.lineStart=w,d.lineEnd=E,f=Mh(f);var x=mm(u,r);f.length?(s||(i.polygonStart(),s=!0),Ih(f,ym,x,n,i)):x&&(s||(i.polygonStart(),s=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),f=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(x,S){e(x,S)&&i.point(x,S)}function g(x,S){o.point(x,S)}function w(){d.point=g,o.lineStart()}function E(){d.point=p,o.lineEnd()}function m(x,S){c.push([x,S]),a.point(x,S)}function h(){a.lineStart(),c=[]}function v(){m(c[0][0],c[0][1]),a.lineEnd();var x=a.clean(),S=l.result(),y,C=S.length,k,P,_;if(c.pop(),u.push(c),c=null,!!C){if(x&1){if(P=S[0],(k=P.length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),y=0;y<k;++y)i.point((_=P[y])[0],_[1]);i.lineEnd()}return}C>1&&x&2&&S.push(S.pop().concat(S.shift())),f.push(S.filter(gm))}}return d}}function gm(e){return e.length>1}function ym(e,t){return((e=e.x)[0]<0?e[1]-Xe-ae:Xe-e[1])-((t=t.x)[0]<0?t[1]-Xe-ae:Xe-t[1])}const If=Dh(function(){return!0},wm,Em,[-J,-Xe]);function wm(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,l){var a=o>0?J:-J,s=we(o-t);we(s-J)<ae?(e.point(t,n=(n+l)/2>0?Xe:-Xe),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&s>=J&&(we(t-r)<ae&&(t-=r*ae),we(o-a)<ae&&(o-=a*ae),n=xm(t,n,o,l),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=l),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function xm(e,t,n,r){var i,o,l=Se(e-n);return we(l)>ae?Lh((Se(t)*(o=Ee(r))*Se(n)-Se(r)*(i=Ee(t))*Se(e))/(i*o*l)):(t+r)/2}function Em(e,t,n,r){var i;if(e==null)i=n*Xe,r.point(-J,i),r.point(0,i),r.point(J,i),r.point(J,0),r.point(J,-i),r.point(0,-i),r.point(-J,-i),r.point(-J,0),r.point(-J,i);else if(we(e[0]-t[0])>ae){var o=e[0]<t[0]?J:-J;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Sm(e){var t=Ee(e),n=2*Ce,r=t>0,i=we(t)>ae;function o(f,c,d,p){vm(p,e,n,d,f,c)}function l(f,c){return Ee(f)*Ee(c)>t}function a(f){var c,d,p,g,w;return{lineStart:function(){g=p=!1,w=1},point:function(E,m){var h=[E,m],v,x=l(E,m),S=r?x?0:u(E,m):x?u(E+(E<0?J:-J),m):0;if(!c&&(g=p=x)&&f.lineStart(),x!==p&&(v=s(c,h),(!v||lo(c,v)||lo(h,v))&&(h[2]=1)),x!==p)w=0,x?(f.lineStart(),v=s(h,c),f.point(v[0],v[1])):(v=s(c,h),f.point(v[0],v[1],2),f.lineEnd()),c=v;else if(i&&c&&r^x){var y;!(S&d)&&(y=s(h,c,!0))&&(w=0,r?(f.lineStart(),f.point(y[0][0],y[0][1]),f.point(y[1][0],y[1][1]),f.lineEnd()):(f.point(y[1][0],y[1][1]),f.lineEnd(),f.lineStart(),f.point(y[0][0],y[0][1],3)))}x&&(!c||!lo(c,h))&&f.point(h[0],h[1]),c=h,p=x,d=S},lineEnd:function(){p&&f.lineEnd(),c=null},clean:function(){return w|(g&&p)<<1}}}function s(f,c,d){var p=dr(f),g=dr(c),w=[1,0,0],E=Fo(p,g),m=zi(E,E),h=E[0],v=m-h*h;if(!v)return!d&&f;var x=t*m/v,S=-t*h/v,y=Fo(w,E),C=$i(w,x),k=$i(E,S);jl(C,k);var P=y,_=zi(C,P),A=zi(P,P),D=_*_-A*(zi(C,C)-1);if(!(D<0)){var F=sl(D),z=$i(P,(-_-F)/A);if(jl(z,C),z=Ga(z),!d)return z;var T=f[0],L=c[0],B=f[1],R=c[1],b;L<T&&(b=T,T=L,L=b);var M=L-T,I=we(M-J)<ae,U=I||M<ae;if(!I&&R<B&&(b=B,B=R,R=b),U?I?B+R>0^z[1]<(we(z[0]-T)<ae?B:R):B<=z[1]&&z[1]<=R:M>J^(T<=z[0]&&z[0]<=L)){var W=$i(P,(-_+F)/A);return jl(W,C),[z,Ga(W)]}}}function u(f,c){var d=r?e:J-e,p=0;return f<-d?p|=1:f>d&&(p|=2),c<-d?p|=4:c>d&&(p|=8),p}return Dh(l,a,o,r?[0,-e]:[-J,e-J])}function Cm(e,t,n,r,i,o){var l=e[0],a=e[1],s=t[0],u=t[1],f=0,c=1,d=s-l,p=u-a,g;if(g=n-l,!(!d&&g>0)){if(g/=d,d<0){if(g<f)return;g<c&&(c=g)}else if(d>0){if(g>c)return;g>f&&(f=g)}if(g=i-l,!(!d&&g<0)){if(g/=d,d<0){if(g>c)return;g>f&&(f=g)}else if(d>0){if(g<f)return;g<c&&(c=g)}if(g=r-a,!(!p&&g>0)){if(g/=p,p<0){if(g<f)return;g<c&&(c=g)}else if(p>0){if(g>c)return;g>f&&(f=g)}if(g=o-a,!(!p&&g<0)){if(g/=p,p<0){if(g>c)return;g>f&&(f=g)}else if(p>0){if(g<f)return;g<c&&(c=g)}return f>0&&(e[0]=l+f*d,e[1]=a+f*p),c<1&&(t[0]=l+c*d,t[1]=a+c*p),!0}}}}}var Nr=1e9,bi=-Nr;function km(e,t,n,r){function i(u,f){return e<=u&&u<=n&&t<=f&&f<=r}function o(u,f,c,d){var p=0,g=0;if(u==null||(p=l(u,c))!==(g=l(f,c))||s(u,f)<0^c>0)do d.point(p===0||p===3?e:n,p>1?r:t);while((p=(p+c+4)%4)!==g);else d.point(f[0],f[1])}function l(u,f){return we(u[0]-e)<ae?f>0?0:3:we(u[0]-n)<ae?f>0?2:1:we(u[1]-t)<ae?f>0?1:0:f>0?3:2}function a(u,f){return s(u.x,f.x)}function s(u,f){var c=l(u,1),d=l(f,1);return c!==d?c-d:c===0?f[1]-u[1]:c===1?u[0]-f[0]:c===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,c=Nh(),d,p,g,w,E,m,h,v,x,S,y,C={point:k,lineStart:D,lineEnd:F,polygonStart:_,polygonEnd:A};function k(T,L){i(T,L)&&f.point(T,L)}function P(){for(var T=0,L=0,B=p.length;L<B;++L)for(var R=p[L],b=1,M=R.length,I=R[0],U,W,X=I[0],q=I[1];b<M;++b)U=X,W=q,I=R[b],X=I[0],q=I[1],W<=r?q>r&&(X-U)*(r-W)>(q-W)*(e-U)&&++T:q<=r&&(X-U)*(r-W)<(q-W)*(e-U)&&--T;return T}function _(){f=c,d=[],p=[],y=!0}function A(){var T=P(),L=y&&T,B=(d=Mh(d)).length;(L||B)&&(u.polygonStart(),L&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),B&&Ih(d,a,T,o,u),u.polygonEnd()),f=u,d=p=g=null}function D(){C.point=z,p&&p.push(g=[]),S=!0,x=!1,h=v=NaN}function F(){d&&(z(w,E),m&&x&&c.rejoin(),d.push(c.result())),C.point=k,x&&f.lineEnd()}function z(T,L){var B=i(T,L);if(p&&g.push([T,L]),S)w=T,E=L,m=B,S=!1,B&&(f.lineStart(),f.point(T,L));else if(B&&x)f.point(T,L);else{var R=[h=Math.max(bi,Math.min(Nr,h)),v=Math.max(bi,Math.min(Nr,v))],b=[T=Math.max(bi,Math.min(Nr,T)),L=Math.max(bi,Math.min(Nr,L))];Cm(R,b,e,t,n,r)?(x||(f.lineStart(),f.point(R[0],R[1])),f.point(b[0],b[1]),B||f.lineEnd(),y=!1):B&&(f.lineStart(),f.point(T,L),y=!1)}h=T,v=L,x=B}return C}}const Df=e=>e;var hr=1/0,Oo=hr,di=-hr,zo=di,Ff={point:_m,lineStart:Rr,lineEnd:Rr,polygonStart:Rr,polygonEnd:Rr,result:function(){var e=[[hr,Oo],[di,zo]];return di=zo=-(Oo=hr=1/0),e}};function _m(e,t){e<hr&&(hr=e),e>di&&(di=e),t<Oo&&(Oo=t),t>zo&&(zo=t)}function nu(e){return function(t){var n=new Qa;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Qa(){}Qa.prototype={constructor:Qa,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ru(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),hm(n,e.stream(Ff)),t(Ff.result()),r!=null&&e.clipExtent(r),e}function Fh(e,t,n){return ru(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],l=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-l*(r[1][0]+r[0][0]))/2,s=+t[0][1]+(o-l*(r[1][1]+r[0][1]))/2;e.scale(150*l).translate([a,s])},n)}function Tm(e,t,n){return Fh(e,[[0,0],t],n)}function Pm(e,t,n){return ru(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),l=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([l,a])},n)}function Am(e,t,n){return ru(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),l=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([l,a])},n)}var Of=16,Mm=Ee(30*Ce);function zf(e,t){return+t?Rm(e,t):Lm(e)}function Lm(e){return nu({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Rm(e,t){function n(r,i,o,l,a,s,u,f,c,d,p,g,w,E){var m=u-r,h=f-i,v=m*m+h*h;if(v>4*t&&w--){var x=l+d,S=a+p,y=s+g,C=sl(x*x+S*S+y*y),k=ci(y/=C),P=we(we(y)-1)<ae||we(o-c)<ae?(o+c)/2:fi(S,x),_=e(P,k),A=_[0],D=_[1],F=A-r,z=D-i,T=h*F-m*z;(T*T/v>t||we((m*F+h*z)/v-.5)>.3||l*d+a*p+s*g<Mm)&&(n(r,i,o,l,a,s,A,D,P,x/=C,S/=C,y,w,E),E.point(A,D),n(A,D,P,x,S,y,u,f,c,d,p,g,w,E))}}return function(r){var i,o,l,a,s,u,f,c,d,p,g,w,E={point:m,lineStart:h,lineEnd:x,polygonStart:function(){r.polygonStart(),E.lineStart=S},polygonEnd:function(){r.polygonEnd(),E.lineStart=h}};function m(k,P){k=e(k,P),r.point(k[0],k[1])}function h(){c=NaN,E.point=v,r.lineStart()}function v(k,P){var _=dr([k,P]),A=e(k,P);n(c,d,f,p,g,w,c=A[0],d=A[1],f=k,p=_[0],g=_[1],w=_[2],Of,r),r.point(c,d)}function x(){E.point=m,r.lineEnd()}function S(){h(),E.point=y,E.lineEnd=C}function y(k,P){v(i=k,P),o=c,l=d,a=p,s=g,u=w,E.point=v}function C(){n(c,d,f,p,g,w,o,l,i,a,s,u,Of,r),E.lineEnd=x,x()}return E}}var Nm=nu({point:function(e,t){this.stream.point(e*Ce,t*Ce)}});function Im(e){return nu({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Dm(e,t,n,r,i){function o(l,a){return l*=r,a*=i,[t+e*l,n-e*a]}return o.invert=function(l,a){return[(l-t)/e*r,(n-a)/e*i]},o}function $f(e,t,n,r,i,o){if(!o)return Dm(e,t,n,r,i);var l=Ee(o),a=Se(o),s=l*e,u=a*e,f=l/e,c=a/e,d=(a*n-l*t)/e,p=(a*t+l*n)/e;function g(w,E){return w*=r,E*=i,[s*w-u*E+t,n-u*w-s*E]}return g.invert=function(w,E){return[r*(f*w-c*E+d),i*(p-c*w-f*E)]},g}function Fm(e){return Om(function(){return e})()}function Om(e){var t,n=150,r=480,i=250,o=0,l=0,a=0,s=0,u=0,f,c=0,d=1,p=1,g=null,w=If,E=null,m,h,v,x=Df,S=.5,y,C,k,P,_;function A(T){return k(T[0]*Ce,T[1]*Ce)}function D(T){return T=k.invert(T[0],T[1]),T&&[T[0]*tt,T[1]*tt]}A.stream=function(T){return P&&_===T?P:P=Nm(Im(f)(w(y(x(_=T)))))},A.preclip=function(T){return arguments.length?(w=T,g=void 0,z()):w},A.postclip=function(T){return arguments.length?(x=T,E=m=h=v=null,z()):x},A.clipAngle=function(T){return arguments.length?(w=+T?Sm(g=T*Ce):(g=null,If),z()):g*tt},A.clipExtent=function(T){return arguments.length?(x=T==null?(E=m=h=v=null,Df):km(E=+T[0][0],m=+T[0][1],h=+T[1][0],v=+T[1][1]),z()):E==null?null:[[E,m],[h,v]]},A.scale=function(T){return arguments.length?(n=+T,F()):n},A.translate=function(T){return arguments.length?(r=+T[0],i=+T[1],F()):[r,i]},A.center=function(T){return arguments.length?(o=T[0]%360*Ce,l=T[1]%360*Ce,F()):[o*tt,l*tt]},A.rotate=function(T){return arguments.length?(a=T[0]%360*Ce,s=T[1]%360*Ce,u=T.length>2?T[2]%360*Ce:0,F()):[a*tt,s*tt,u*tt]},A.angle=function(T){return arguments.length?(c=T%360*Ce,F()):c*tt},A.reflectX=function(T){return arguments.length?(d=T?-1:1,F()):d<0},A.reflectY=function(T){return arguments.length?(p=T?-1:1,F()):p<0},A.precision=function(T){return arguments.length?(y=zf(C,S=T*T),z()):sl(S)},A.fitExtent=function(T,L){return Fh(A,T,L)},A.fitSize=function(T,L){return Tm(A,T,L)},A.fitWidth=function(T,L){return Pm(A,T,L)},A.fitHeight=function(T,L){return Am(A,T,L)};function F(){var T=$f(n,0,0,d,p,c).apply(null,t(o,l)),L=$f(n,r-T[0],i-T[1],d,p,c);return f=Rh(a,s,u),C=Xa(t,L),k=Xa(f,C),y=zf(C,S),z()}function z(){return P=_=null,A}return function(){return t=e.apply(this,arguments),A.invert=t.invert&&D,F()}}function iu(e,t){return[e,um(cm((Xe+t)/2))]}iu.invert=function(e,t){return[e,2*Lh(sm(t))-Xe]};function zm(){return $m(iu).scale(961/vt)}function $m(e){var t=Fm(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,l=null,a,s,u;t.scale=function(c){return arguments.length?(r(c),f()):r()},t.translate=function(c){return arguments.length?(i(c),f()):i()},t.center=function(c){return arguments.length?(n(c),f()):n()},t.clipExtent=function(c){return arguments.length?(c==null?l=a=s=u=null:(l=+c[0][0],a=+c[0][1],s=+c[1][0],u=+c[1][1]),f()):l==null?null:[[l,a],[s,u]]};function f(){var c=J*r(),d=t(pm(t.rotate()).invert([0,0]));return o(l==null?[[d[0]-c,d[1]-c],[d[0]+c,d[1]+c]]:e===iu?[[Math.max(d[0]-c,l),a],[Math.min(d[0]+c,s),u]]:[[l,Math.max(d[1]-c,a)],[s,Math.min(d[1]+c,u)]])}return f()}class $o{constructor(){this.elements=[],this.bounds=new im,this.nodes=new Map,this.wayPointCount=0,this.id=0,this.name="",this.isArea=!0,this.projector=void 0}setName(t){this.name=t}setId(t){this.id=t}setIsArea(t){this.isArea=t}setBBox(t){this.bboxString=t}hasRoads(){return this.wayPointCount>0}setProjector(t){this.projector=t}static fromPBF(t){if(t.version!==1)throw new Error("Unknown version "+t.version);let n=[];t.nodes.forEach(i=>{i.type="node",n.push(i)}),t.ways.forEach(i=>{i.type="way",n.push(i)});const r=$o.fromOSMResponse(n);return r.setName(t.name),r.setId(t.id),r}static fromOSMResponse(t){let n=new $o,r=n.nodes,i=n.bounds,o=0;return t.forEach(l=>{l.type==="node"?(r.set(l.id,l),i.addPoint(l.lon,l.lat)):l.type==="way"&&(o+=l.nodes.length)}),n.elements=t,n.wayPointCount=o,n}getProjectedRect(){let t=this.bounds,n=this.getProjector(),r=n({lon:t.left,lat:t.bottom}),i=n({lon:t.right,lat:t.top}),o=r.x,l=r.y,a=i.y,s=i.x;return{left:o,top:l,right:s,bottom:a,width:s-o,height:Math.abs(a-l)}}forEachElement(t){this.elements.forEach(t)}forEachWay(t,n,r){let i=this.nodes,o=this.getProjector();this.elements.forEach(l=>{if(l.type!=="way")return;let a=l.nodes,s=i.get(a[0]);if(!s)return;let u=o(s);n&&n(l);for(let f=1;f<a.length;++f){if(s=i.get(a[f]),!s)continue;let c=o(s);t(u,c),u=c}r&&r(l)})}getProjector(){let t=[0,0];this.projector||(this.projector=zm(),this.projector.center([this.bounds.cx,this.bounds.cy]).scale(6371393));let n=this.projector;return r;function r({lon:i,lat:o}){t[0]=i,t[1]=o;let l=n(t);return{x:l[0],y:-l[1]}}}}const Qt=class Qt{static runFromOptions(t,n){return t.getQueryTemplate().then(r=>new Qt(r,n).run())}constructor(t,n){this.queryBounds=t.bounds,this.queryString=t.queryString,this.progress=n,this.promise=null}run(){if(this.promise)return this.promise;let t=Um(this.queryString);return this.promise=Bm(t).then(n=>rm(n,this.progress)).then(n=>{let r=$o.fromOSMResponse(n.elements);return r.queryBounds=this.queryBounds,r}),this.promise}};N(Qt,"All","way"),N(Qt,"Building","way[building]"),N(Qt,"Road","way[highway]"),N(Qt,"RoadBasic",'way[highway~"^(motorway|primary|secondary|tertiary)|residential"]'),N(Qt,"RoadStrict",'way[highway~"^(((motorway|trunk|primary|secondary|tertiary)(_link)?)|unclassified|residential|living_street|pedestrian|service|track)$"][area!=yes]');let hi=Qt;function Bm(e){let t=0;return r().then(n);function n(){return e.map(i=>{if(typeof i=="string")return i;if(i.geoType==="Area")return`area(${i.areaId})`;if(i.geoType==="Coords")return i.lat+","+i.lon;if(i.geoType==="Id")return`${i.osmType}(${i.osmId})`;if(i.geoType==="Bbox")return i.bbox.join(",")}).join("")}function r(){if(t>=e.length)return Promise.resolve();let i=e[t];return t+=1,typeof i=="string"?r():tu(i.name).then(bm).then(o=>{if(!o)throw new Error("No areas found for request "+i.name);Object.assign(i,o)}).then(jm(1e3)).then(r)}}function bm(e){if(e.length>0)return e[0]}function Um(e){let t=/{{geocode(.+?):(.+?)}}/,n,r=[];for(;n=e.match(t);)r.push(e.substr(0,n.index)),r.push({geoType:n[1],name:n[2]}),e=e.substr(n.index+n[0].length);return r.push(e),r}function jm(e){return function(t){return new Promise(n=>{setTimeout(()=>n(t),e)})}}function Oh({onLoaded:e}){const[t,n]=de.useState(""),[r,i]=de.useState(!0),[o,l]=de.useState(null),[a,s]=de.useState(!1),[u,f]=de.useState(!1),[c,d]=de.useState([]),[p,g]=de.useState(null),[w,E]=de.useState(!1),[m,h]=de.useState(null),[v,x]=de.useState(0),S=de.useRef(null);let y=de.useRef(null),C=null;de.useEffect(()=>{S.current.focus()},[]);const k=()=>{d([]),E(!1),l("Searching cities that match your query..."),tu(t).then(L=>{l(null),s(L&&L.length),console.log(L&&L.length),r?(i(!1),setTimeout(()=>{f(!0),d(L)},50)):(f(!0),d(L))})},P=()=>{m&&D(m)},_=()=>{let L=encodeURIComponent("OSM Error"),B="";return p&&(B="Hello, an error occurred on he website: \n\n ```\n"+p.toString()+"\n ```\n\n Can you please help?"),`https://github.com/tangsiwei0831/city-road/issues/new?title=${L}&body=${encodeURIComponent(B)}`},A=()=>{clearInterval(y),x(0),y=setInterval(()=>{x(L=>L+1)},1e4)},D=L=>{h(L),g(!1),F(L)},F=L=>{l("Connecting to OpenStreetMap..."),A(),hi.runFromOptions(new al({wayFilter:hi.Road,areaId:L.areaId,bbox:L.bbox}),T()).then(B=>{l(null),B.hasRoads()?(B.setName(L.name),B.setId(L.areaId||L.osm_id),B.setIsArea(L.areaId),B.setBBox(Vm(L.bbox)),e(B)):E(!0)}).catch(B=>{if(B.cancelled){l(null);return}console.error(B),g(B),l(null),d([])}).finally(()=>{clearInterval(y),x(0)})},z=L=>{if(x(0),clearInterval(y),L.loaded<0){l("Trying a different server"),A();return}L.percent!==void 0?l("Loaded "+Math.round(100*L.percent)+"% ("+Bf(L.loaded)+" bytes)..."):l("Loaded "+Bf(L.loaded)+" bytes...")},T=()=>(C&&(C.cancel(),C=null),C=new eu(z),C);return H.jsxs("div",{className:`find-place ${r?"centered":""}`,children:[r&&H.jsxs(H.Fragment,{children:[H.jsx("h3",{className:"site-header",children:"city roads"}),H.jsx("p",{className:"description",children:"This website renders every single road within a city"})]}),H.jsxs("form",{className:"search-box",onSubmit:L=>{L.preventDefault(),k()},children:[H.jsx("input",{type:"text",className:"query-input",placeholder:"Ener a city name to start",value:t,onChange:L=>{n(L.target.value),s(!1)},ref:S}),t&&!a&&H.jsx("a",{type:"submit",className:"search-submit",href:"#",onClick:L=>{L.preventDefault(),k()},children:"Find City Bounds"})]}),H.jsxs("div",{className:"results",children:[u&&c.length>0&&H.jsxs("div",{className:"suggestions shadow",children:[H.jsxs("div",{className:"prompt messsage",children:[H.jsx("div",{children:"Select boundries below to download all roads within"}),H.jsx("div",{className:"note",children:"large cities may require 200MB+ of data transfer and a pwoerful device"})]}),H.jsx("ul",{children:c.map((L,B)=>H.jsx("li",{children:H.jsx("a",{onClick:R=>{R.preventDefault(),D(L)},className:"suggestion",href:"#",children:H.jsxs("span",{children:[L.name," ",H.jsxs("small",{children:["(",L.type,")"]})]})})},B))})]}),u&&c.length===0&&!o&&!p&&H.jsx("div",{className:"no-results message shadow",children:"Didn't find matching cities. Try a different query?"}),w&&H.jsx("div",{className:"no-results message shadow",children:"Didn't find any roads. Try a different query?"})]}),p&&H.jsxs("div",{className:"error message below",children:[H.jsxs("div",{children:["Sorry, we were not able to download data from the OpenStreetMap. It could be very busy at the moment processing other requests. ",H.jsx("br",{}),H.jsx("br",{})," Please bookmark this website and ",H.jsx("a",{href:"#",onClick:L=>{L.preventDefault(),P()},children:"try again"})," later?"]}),H.jsxs("div",{className:"error-links",children:[H.jsx("a",{href:"https://twitter.com/anvaka/status/1218971717734789120",title:"see what it supposed to do",target:"_blank",children:"see how it should have worked"}),H.jsx("a",{href:_(),title:"report error:  + {error}",target:"_blank",children:"report this bug"})]})]}),o&&H.jsxs("div",{className:"loading message shadow",children:[H.jsx(Xv,{}),H.jsx("span",{children:o}),H.jsx("a",{href:"#",className:"cancel-request",children:"cancel"}),v>0&&H.jsx("div",{className:"load-padding",children:"Still loading ..."}),v>1&&H.jsx("div",{className:"load-padding",children:"Sorry it takes so long!"})]})]})}Oh.propTypes={onLoaded:em.func.isRequired};function Bf(e){return Number.isFinite(e)?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"N/A"}function Vm(e){return e&&e.join(",")}var Hm=function(e){Gm(e);var t=Wm(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e};function Wm(e){var t=Object.create(null);return{on:function(n,r,i){if(typeof r!="function")throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:i}),e},off:function(n,r){var i=typeof n>"u";if(i)return t=Object.create(null),e;if(t[n]){var o=typeof r!="function";if(o)delete t[n];else for(var l=t[n],a=0;a<l.length;++a)l[a].callback===r&&l.splice(a,1)}return e},fire:function(n){var r=t[n];if(!r)return e;var i;arguments.length>1&&(i=Array.prototype.splice.call(arguments,1));for(var o=0;o<r.length;++o){var l=r[o];l.callback.apply(l.ctx,i)}return e}}}function Gm(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}var Ym=Xm;function Xm(e){var t=[],n=e;return{dispose:o,onChanged:l,set:i,get:r};function r(){return n}function i(s){n=s,setTimeout(function(){a(s)},0)}function o(){t=[]}function l(s){if(typeof s!="function")throw new Error("changeCallback should be a function");t.push(s)}function a(s){t.forEach(function(u){u(s)})}}var qm={parse:Km,stringify:Qm};function Qm(e){if(!e)return"";return Object.keys(e).map(t).join("&");function t(n){var r=e[n],i=zh(n);return r!==void 0&&(i+="="+Zm(r)),i}}function Km(e){var t=Object.create(null);if(!e)return t;return e.split("&").forEach(n),t;function n(r){if(r){var i=r.split("=");t[decodeURIComponent(i[0])]=e1(i[1])}}}function Zm(e){e instanceof Date&&(e=e.toISOString());var t=zh(e);return t}function zh(e){var t=encodeURIComponent(e);return t.replace(/[()]/g,Jm)}function Jm(e){return e===")"?"%29":e==="("?"%28":e}function e1(e){return e=decodeURIComponent(e),e===""?e:isNaN(e)?t1(e)?e==="true":n1(e)?new Date(e):e:parseFloat(e)}function t1(e){return e==="true"||e==="false"}function n1(e){return e&&e.match(/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/)}var r1=o1,i1=Ym,Ui=qm;function o1(e,t){if(typeof window>"u")return i1(e);var n=[],r=t&&t.useSearch,i=r?"?":"#?";return t.rewriteHashToSearch&&l(),o(),{onChanged:s,dispose:u,set:a,get:d,rewriteHashToSearch:l};function o(){var p=d(),g=!1;typeof e=="object"&&e&&Object.keys(e).forEach(function(w){w in p||(p[w]=e[w],g=!0)}),g&&a(p)}function l(){var p=Object.create(null),g=window.location.search;g&&(p=Object.assign(p,Ui.parse(g.substr(1))));var w=window.location.hash;w&&(p=Object.assign(p,Ui.parse(w.substr(2)))),a(p)}function a(p){var g=i+Ui.stringify(p);r&&window.location.hash&&(g+=window.location.hash),window.history?window.history.replaceState(void 0,void 0,g):window.location.replace(g)}function s(p){if(typeof p!="function")throw new Error("changeCallback needs to be a function");n.length===0&&window.addEventListener("hashchange",f,!1),n.push(p)}function u(){n.length!==0&&(n=[],window.removeEventListener("hashchange",f,!1))}function f(){var p=d();c(p)}function c(p){for(var g=0;g<n.length;++g){var w=n[g];w(p)}}function d(){var p=r?window.location.search:window.location.hash,g=(p||i).substr(i.length);return Ui.parse(g)}}var l1=ou,a1=Hm,s1=r1;ou.instance=u1;var ji;function ou(e,t){t=t||{};var n=t.history||s1(e,t);f1(n),n.onChanged(p);var r=n.get()||Object.create(null),i={get:f,set:c,unset:d,setIfEmpty:g,dispose:u,onChange:l,offChange:a,getHistoryObject:s},o=a1({});return i;function l(w,E){o.on("change",w,E)}function a(w,E){o.off("change",w,E)}function s(){return n}function u(){n.dispose(),o.off()}function f(w){return w===void 0?r:r[w]}function c(w,E){var m=typeof w;return m==="object"?Object.keys(w).forEach(function(h){r[h]=w[h]}):m==="string"&&(r[w]=E),n.set(r),i}function d(w){if(w in r)return delete r[w],n.set(r),i}function p(w){r=w,o.fire("change",r)}function g(w,E){if(typeof w=="object"&&Object.keys(w).forEach(function(m){m in r||(r[m]=w[m])}),!(w in r))return r[w]=E,n.set(r),i}}function u1(e,t){return ji?e&&ji.setIfEmpty(e):ji=ou(e,t),ji}function f1(e){if(!e)throw new Error("history is required");if(typeof e.dispose!="function")throw new Error("dispose is required");if(typeof e.onChanged!="function")throw new Error("onChanged is required")}const c1=Ho(l1),gt=c1({},{useSearch:!0}),Mt={isCacheEnabled(){return gt.get("cache")!=0},enableCache(){return gt.unset("cache")},get(){return gt.get.apply(gt,arguments)},set(){return gt.set.apply(gt,arguments)},unset(){return gt.unset.apply(gt,arguments)},unsetPlace(){gt.unset("areaId"),gt.unset("osm_id"),gt.unset("bbox")}};var ul=function(t){h1(t);var n=d1(t);return t.on=n.on,t.off=n.off,t.fire=n.fire,t};function d1(e){var t=Object.create(null);return{on:function(n,r,i){if(typeof r!="function")throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:i}),e},off:function(n,r){var i=typeof n>"u";if(i)return t=Object.create(null),e;if(t[n]){var o=typeof r!="function";if(o)delete t[n];else for(var l=t[n],a=0;a<l.length;++a)l[a].callback===r&&l.splice(a,1)}return e},fire:function(n){var r=t[n];if(!r)return e;var i;arguments.length>1&&(i=Array.prototype.splice.call(arguments,1));for(var o=0;o<r.length;++o){var l=r[o];l.callback.apply(l.ctx,i)}return e}}}function h1(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}var $h=1e-6,De=typeof Float32Array<"u"?Float32Array:Array;function p1(e){De=e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function v1(){var e=new De(9);return De!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function bt(){var e=new De(16);return De!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function m1(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Hr(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],l=t[4],a=t[5],s=t[6],u=t[7],f=t[8],c=t[9],d=t[10],p=t[11],g=t[12],w=t[13],E=t[14],m=t[15],h=n*a-r*l,v=n*s-i*l,x=n*u-o*l,S=r*s-i*a,y=r*u-o*a,C=i*u-o*s,k=f*w-c*g,P=f*E-d*g,_=f*m-p*g,A=c*E-d*w,D=c*m-p*w,F=d*m-p*E,z=h*F-v*D+x*A+S*_-y*P+C*k;return z?(z=1/z,e[0]=(a*F-s*D+u*A)*z,e[1]=(i*D-r*F-o*A)*z,e[2]=(w*C-E*y+m*S)*z,e[3]=(d*y-c*C-p*S)*z,e[4]=(s*_-l*F-u*P)*z,e[5]=(n*F-i*_+o*P)*z,e[6]=(E*x-g*C-m*v)*z,e[7]=(f*C-d*x+p*v)*z,e[8]=(l*D-a*_+u*k)*z,e[9]=(r*_-n*D-o*k)*z,e[10]=(g*y-w*x+m*h)*z,e[11]=(c*x-f*y-p*h)*z,e[12]=(a*P-l*A-s*k)*z,e[13]=(n*A-r*P+i*k)*z,e[14]=(w*v-g*S-E*h)*z,e[15]=(f*S-c*v+d*h)*z,e):null}function cn(e,t,n){var r=t[0],i=t[1],o=t[2],l=t[3],a=t[4],s=t[5],u=t[6],f=t[7],c=t[8],d=t[9],p=t[10],g=t[11],w=t[12],E=t[13],m=t[14],h=t[15],v=n[0],x=n[1],S=n[2],y=n[3];return e[0]=v*r+x*a+S*c+y*w,e[1]=v*i+x*s+S*d+y*E,e[2]=v*o+x*u+S*p+y*m,e[3]=v*l+x*f+S*g+y*h,v=n[4],x=n[5],S=n[6],y=n[7],e[4]=v*r+x*a+S*c+y*w,e[5]=v*i+x*s+S*d+y*E,e[6]=v*o+x*u+S*p+y*m,e[7]=v*l+x*f+S*g+y*h,v=n[8],x=n[9],S=n[10],y=n[11],e[8]=v*r+x*a+S*c+y*w,e[9]=v*i+x*s+S*d+y*E,e[10]=v*o+x*u+S*p+y*m,e[11]=v*l+x*f+S*g+y*h,v=n[12],x=n[13],S=n[14],y=n[15],e[12]=v*r+x*a+S*c+y*w,e[13]=v*i+x*s+S*d+y*E,e[14]=v*o+x*u+S*p+y*m,e[15]=v*l+x*f+S*g+y*h,e}function g1(e,t,n){var r=n[0],i=n[1],o=n[2],l,a,s,u,f,c,d,p,g,w,E,m;return t===e?(e[12]=t[0]*r+t[4]*i+t[8]*o+t[12],e[13]=t[1]*r+t[5]*i+t[9]*o+t[13],e[14]=t[2]*r+t[6]*i+t[10]*o+t[14],e[15]=t[3]*r+t[7]*i+t[11]*o+t[15]):(l=t[0],a=t[1],s=t[2],u=t[3],f=t[4],c=t[5],d=t[6],p=t[7],g=t[8],w=t[9],E=t[10],m=t[11],e[0]=l,e[1]=a,e[2]=s,e[3]=u,e[4]=f,e[5]=c,e[6]=d,e[7]=p,e[8]=g,e[9]=w,e[10]=E,e[11]=m,e[12]=l*r+f*i+g*o+t[12],e[13]=a*r+c*i+w*o+t[13],e[14]=s*r+d*i+E*o+t[14],e[15]=u*r+p*i+m*o+t[15]),e}function y1(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function w1(e,t,n,r){var i=r[0],o=r[1],l=r[2],a=Math.hypot(i,o,l),s,u,f,c,d,p,g,w,E,m,h,v,x,S,y,C,k,P,_,A,D,F,z,T;return a<$h?null:(a=1/a,i*=a,o*=a,l*=a,s=Math.sin(n),u=Math.cos(n),f=1-u,c=t[0],d=t[1],p=t[2],g=t[3],w=t[4],E=t[5],m=t[6],h=t[7],v=t[8],x=t[9],S=t[10],y=t[11],C=i*i*f+u,k=o*i*f+l*s,P=l*i*f-o*s,_=i*o*f-l*s,A=o*o*f+u,D=l*o*f+i*s,F=i*l*f+o*s,z=o*l*f-i*s,T=l*l*f+u,e[0]=c*C+w*k+v*P,e[1]=d*C+E*k+x*P,e[2]=p*C+m*k+S*P,e[3]=g*C+h*k+y*P,e[4]=c*_+w*A+v*D,e[5]=d*_+E*A+x*D,e[6]=p*_+m*A+S*D,e[7]=g*_+h*A+y*D,e[8]=c*F+w*z+v*T,e[9]=d*F+E*z+x*T,e[10]=p*F+m*z+S*T,e[11]=g*F+h*z+y*T,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function x1(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],l=t[5],a=t[6],s=t[7],u=t[8],f=t[9],c=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=l*i+f*r,e[6]=a*i+c*r,e[7]=s*i+d*r,e[8]=u*i-o*r,e[9]=f*i-l*r,e[10]=c*i-a*r,e[11]=d*i-s*r,e}function E1(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],l=t[1],a=t[2],s=t[3],u=t[8],f=t[9],c=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*r,e[1]=l*i-f*r,e[2]=a*i-c*r,e[3]=s*i-d*r,e[8]=o*r+u*i,e[9]=l*r+f*i,e[10]=a*r+c*i,e[11]=s*r+d*i,e}function S1(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],l=t[1],a=t[2],s=t[3],u=t[4],f=t[5],c=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=l*i+f*r,e[2]=a*i+c*r,e[3]=s*i+d*r,e[4]=u*i-o*r,e[5]=f*i-l*r,e[6]=c*i-a*r,e[7]=d*i-s*r,e}function C1(e,t,n){var r=t[0],i=t[1],o=t[2],l=t[3],a=r+r,s=i+i,u=o+o,f=r*a,c=r*s,d=r*u,p=i*s,g=i*u,w=o*u,E=l*a,m=l*s,h=l*u;return e[0]=1-(p+w),e[1]=c+h,e[2]=d-m,e[3]=0,e[4]=c-h,e[5]=1-(f+w),e[6]=g+E,e[7]=0,e[8]=d+m,e[9]=g-E,e[10]=1-(f+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function k1(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function _1(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],l=t[5],a=t[6],s=t[8],u=t[9],f=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,l,a),e[2]=Math.hypot(s,u,f),e}function lu(e,t){var n=new De(3);_1(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],l=t[0]*r,a=t[1]*i,s=t[2]*o,u=t[4]*r,f=t[5]*i,c=t[6]*o,d=t[8]*r,p=t[9]*i,g=t[10]*o,w=l+f+g,E=0;return w>0?(E=Math.sqrt(w+1)*2,e[3]=.25*E,e[0]=(c-p)/E,e[1]=(d-s)/E,e[2]=(a-u)/E):l>f&&l>g?(E=Math.sqrt(1+l-f-g)*2,e[3]=(c-p)/E,e[0]=.25*E,e[1]=(a+u)/E,e[2]=(d+s)/E):f>g?(E=Math.sqrt(1+f-l-g)*2,e[3]=(d-s)/E,e[0]=(a+u)/E,e[1]=.25*E,e[2]=(c+p)/E):(E=Math.sqrt(1+g-l-f)*2,e[3]=(a-u)/E,e[0]=(d+s)/E,e[1]=(c+p)/E,e[2]=.25*E),e}function T1(e,t,n,r,i){var o=1/Math.tan(t/2),l;return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(l=1/(r-i),e[10]=(i+r)*l,e[14]=2*i*r*l):(e[10]=-1,e[14]=-2*r),e}var P1=T1;function au(e,t,n,r){var i=t[0],o=t[1],l=t[2],a=r[0],s=r[1],u=r[2],f=i-n[0],c=o-n[1],d=l-n[2],p=f*f+c*c+d*d;p>0&&(p=1/Math.sqrt(p),f*=p,c*=p,d*=p);var g=s*d-u*c,w=u*f-a*d,E=a*c-s*f;return p=g*g+w*w+E*E,p>0&&(p=1/Math.sqrt(p),g*=p,w*=p,E*=p),e[0]=g,e[1]=w,e[2]=E,e[3]=0,e[4]=c*E-d*w,e[5]=d*g-f*E,e[6]=f*w-c*g,e[7]=0,e[8]=f,e[9]=c,e[10]=d,e[11]=0,e[12]=i,e[13]=o,e[14]=l,e[15]=1,e}var A1=cn;function Bh(){var e=new De(3);return De!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function M1(e){var t=new De(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function L1(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function bf(e,t,n){var r=new De(3);return r[0]=e,r[1]=t,r[2]=n,r}function Bo(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function R1(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function N1(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function su(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function fl(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function Ka(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Hl(e,t,n){var r=t[0],i=t[1],o=t[2],l=n[0],a=n[1],s=n[2];return e[0]=i*s-o*a,e[1]=o*l-r*s,e[2]=r*a-i*l,e}function pr(e,t,n){var r=t[0],i=t[1],o=t[2],l=n[3]*r+n[7]*i+n[11]*o+n[15];return l=l||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/l,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/l,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/l,e}function bo(e,t,n){var r=n[0],i=n[1],o=n[2],l=n[3],a=t[0],s=t[1],u=t[2],f=i*u-o*s,c=o*a-r*u,d=r*s-i*a,p=i*d-o*c,g=o*f-r*d,w=r*c-i*f,E=l*2;return f*=E,c*=E,d*=E,p*=2,g*=2,w*=2,e[0]=a+f+p,e[1]=s+c+g,e[2]=u+d+w,e}var Wr=N1,I1=L1;(function(){var e=Bh();return function(t,n,r,i,o,l){var a,s;for(n||(n=3),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,a=r;a<s;a+=n)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],o(e,e,l),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2];return t}})();function D1(){var e=new De(4);return De!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function F1(e){var t=new De(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function O1(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function z1(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],l=n*n+r*r+i*i+o*o;return l>0&&(l=1/Math.sqrt(l)),e[0]=n*l,e[1]=r*l,e[2]=i*l,e[3]=o*l,e}function bh(e,t,n){var r=t[0],i=t[1],o=t[2],l=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*l,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*l,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*l,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*l,e}(function(){var e=D1();return function(t,n,r,i,o,l){var a,s;for(n||(n=4),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,a=r;a<s;a+=n)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],e[3]=t[a+3],o(e,e,l),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2],t[a+3]=e[3];return t}})();function Uf(){var e=new De(4);return De!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Za(e,t,n){n=n*.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function $1(e,t,n){var r=t[0],i=t[1],o=t[2],l=t[3],a=n[0],s=n[1],u=n[2],f=n[3];return e[0]=r*f+l*a+i*u-o*s,e[1]=i*f+l*s+o*a-r*u,e[2]=o*f+l*u+r*s-i*a,e[3]=l*f-r*a-i*s-o*u,e}function ao(e,t,n,r){var i=t[0],o=t[1],l=t[2],a=t[3],s=n[0],u=n[1],f=n[2],c=n[3],d,p,g,w,E;return p=i*s+o*u+l*f+a*c,p<0&&(p=-p,s=-s,u=-u,f=-f,c=-c),1-p>$h?(d=Math.acos(p),g=Math.sin(d),w=Math.sin((1-r)*d)/g,E=Math.sin(r*d)/g):(w=1-r,E=r),e[0]=w*i+E*s,e[1]=w*o+E*u,e[2]=w*l+E*f,e[3]=w*a+E*c,e}function B1(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);var o=(i+1)%3,l=(i+2)%3;r=Math.sqrt(t[i*3+i]-t[o*3+o]-t[l*3+l]+1),e[i]=.5*r,r=.5/r,e[3]=(t[o*3+l]-t[l*3+o])*r,e[o]=(t[o*3+i]+t[i*3+o])*r,e[l]=(t[l*3+i]+t[i*3+l])*r}return e}var jf=F1,Uh=O1,Uo=$1,jh=z1;(function(){var e=Bh(),t=bf(1,0,0),n=bf(0,1,0);return function(r,i,o){var l=Ka(i,o);return l<-.999999?(Hl(e,t,i),I1(e)<1e-6&&Hl(e,n,i),fl(e,e),Za(r,e,Math.PI),r):l>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Hl(e,i,o),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+l,jh(r,r))}})();(function(){var e=Uf(),t=Uf();return function(n,r,i,o,l,a){return ao(e,r,l,a),ao(t,i,o,a),ao(n,e,t,2*a*(1-a)),n}})();(function(){var e=v1();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],jh(t,B1(t,e))}})();function b1(){var e=new De(2);return De!=Float32Array&&(e[0]=0,e[1]=0),e}(function(){var e=b1();return function(t,n,r,i,o,l){var a,s;for(n||(n=2),r||(r=0),i?s=Math.min(i*n+r,t.length):s=t.length,a=r;a<s;a+=n)e[0]=t[a],e[1]=t[a+1],o(e,e,l),t[a]=e[0],t[a+1]=e[1];return t}})();class gn{constructor(){N(this,"children");N(this,"parent");N(this,"model");N(this,"worldModel");N(this,"modelViewProjection");N(this,"worldTransformNeedsUpdate");N(this,"modelViewProjectionNeedsUpdate");N(this,"type");N(this,"scene");this.children=[],this.model=bt(),this.worldModel=bt(),this.modelViewProjection=bt(),this.worldTransformNeedsUpdate=!0,this.modelViewProjectionNeedsUpdate=!0,this.type="Element",this.scene=null,this.parent=null}appendChild(t,n=!1){t.parent=this,n?this.children.unshift(t):this.children.push(t),t.bindScene&&t.bindScene(this.scene),this.scene&&this.scene.renderFrame()}insertChildAfter(t,n){t.parent=this;let r=this.children.indexOf(n);if(r<0)throw new Error("Could not find element to insert after");this.children.splice(r+1,0,t),t.bindScene&&t.bindScene(this.scene),this.scene&&this.scene.renderFrame()}bindScene(t){this.scene=t,this.worldTransformNeedsUpdate=!0,this.modelViewProjectionNeedsUpdate=!0}traverse(t,n){t(this);for(var r=0;r<this.children.length;++r){var i=this.children[r];i.traverse(t,n)}n&&n(this)}rotate(t,n){return w1(this.model,this.model,t,n),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this}rotateX(t){return x1(this.model,this.model,t),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this}rotateY(t){return E1(this.model,this.model,t),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this}rotateZ(t){return S1(this.model,this.model,t),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this}scale(t){return y1(this.model,this.model,t),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this}translate(t){return g1(this.model,this.model,t),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this}removeChild(t){let n=this.children.indexOf(t);n>-1&&(this.children.splice(n,1),t.bindScene(null)),this.scene&&this.scene.renderFrame()}updateWorldTransform(t=!1){(this.worldTransformNeedsUpdate||t)&&(this.parent?cn(this.worldModel,this.parent.worldModel,this.model):m1(this.worldModel,this.model),this.modelViewProjectionNeedsUpdate=!0,this.worldTransformNeedsUpdate=!1,t=!0);let n=t;for(var r=this.children,i=0;i<r.length;i++)n=r[i].updateWorldTransform(t)||n;return n}scheduleMVPUpdate(){this.modelViewProjectionNeedsUpdate=!0;let t=this.children;for(var n=0;n<t.length;n++)t[n].scheduleMVPUpdate()}updateModelViewProjection(t,n){this.modelViewProjectionNeedsUpdate&&(cn(this.modelViewProjection,t,n),cn(this.modelViewProjection,this.modelViewProjection,this.worldModel),this.modelViewProjectionNeedsUpdate=!1)}draw(t,n){for(var r=0;r<this.children.length;++r){let i=this.children[r];i.updateModelViewProjection(n.projection,n.view.matrix),i.draw(t,n)}}dispose(){for(var t=0;t<this.children.length;++t){var n=this.children[t];n.dispose()}}}const Vf={maxSingleTouchTime:300,singleTapDistanceSquared:25};function U1(e,t,n){var r=Date.now();let i;return e.addEventListener("click",s,{passive:!1}),e.addEventListener("touchend",l,{passive:!1}),e.addEventListener("touchstart",o,{passive:!1}),a;function o(u){var f=u.touches;f.length===1&&(r=Date.now(),i={x:u.touches[0].pageX,y:u.touches[0].pageY})}function l(u){if(u.touches.length>1)return;var f=Date.now()-r;if(f>Vf.maxSingleTouchTime)return;let c=u.changedTouches[0];var d=c.pageX-i.x,p=c.pageY-i.y;d*d+p*p<Vf.singleTapDistanceSquared&&s(c)}function a(){e.removeEventListener("click",s),e.removeEventListener("touchend",l),e.removeEventListener("touchstart",o)}function s(u){t.call(n,u)}}let j1=[0,0,0];const V1=[1,0,0],H1=[0,1,0],W1=[0,0,1];class G1{constructor(t){N(this,"matrix");N(this,"cameraWorld");N(this,"position");N(this,"orientation");N(this,"center");this.matrix=t||bt(),this.cameraWorld=Hr(bt(),this.matrix),this.position=[0,0,0],this.orientation=[0,0,0,1],this.center=[0,0,0],this.deconstructPositionRotation()}lookAt(t,n,r){return au(this.cameraWorld,t,n,r),Hr(this.matrix,this.cameraWorld),this.deconstructPositionRotation(),this}update(){return C1(this.cameraWorld,this.orientation,this.position),Hr(this.matrix,this.cameraWorld),this}deconstructPositionRotation(){k1(this.position,this.cameraWorld),lu(this.orientation,this.cameraWorld)}translateOnAxis(t,n){let r=bo(j1,t,this.orientation);return su(this.position,this.position,r,n),this}translateX(t){return this.translateOnAxis(V1,t)}translateY(t){return this.translateOnAxis(H1,t)}translateZ(t){return this.translateOnAxis(W1,t)}}var cl={exports:{}},Y1=4,X1=.001,q1=1e-7,Q1=10,Ir=11,Vi=1/(Ir-1),K1=typeof Float32Array=="function";function Vh(e,t){return 1-3*t+3*e}function Hh(e,t){return 3*t-6*e}function Wh(e){return 3*e}function jo(e,t,n){return((Vh(t,n)*e+Hh(t,n))*e+Wh(t))*e}function Gh(e,t,n){return 3*Vh(t,n)*e*e+2*Hh(t,n)*e+Wh(t)}function Z1(e,t,n,r,i){var o,l,a=0;do l=t+(n-t)/2,o=jo(l,r,i)-e,o>0?n=l:t=l;while(Math.abs(o)>q1&&++a<Q1);return l}function J1(e,t,n,r){for(var i=0;i<Y1;++i){var o=Gh(t,n,r);if(o===0)return t;var l=jo(t,n,r)-e;t-=l/o}return t}function eg(e){return e}var tg=function(t,n,r,i){if(!(0<=t&&t<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&r===i)return eg;for(var o=K1?new Float32Array(Ir):new Array(Ir),l=0;l<Ir;++l)o[l]=jo(l*Vi,t,r);function a(s){for(var u=0,f=1,c=Ir-1;f!==c&&o[f]<=s;++f)u+=Vi;--f;var d=(s-o[f])/(o[f+1]-o[f]),p=u+d*Vi,g=Gh(p,t,r);return g>=X1?J1(s,p,t,r):g===0?p:Z1(s,u,u+Vi,t,r)}return function(u){return u===0?0:u===1?1:jo(a(u),n,i)}},Tr=tg,Hf={ease:Tr(.25,.1,.25,1),easeIn:Tr(.42,0,1,1),easeOut:Tr(0,0,.58,1),easeInOut:Tr(.42,0,.58,1),linear:Tr(0,0,1,1)};cl.exports=ng;cl.exports.makeAggregateRaf=Yh;cl.exports.sharedScheduler=Yh();function ng(e,t,n){var r=Object.create(null),i=Object.create(null);n=n||{};var o=typeof n.easing=="function"?n.easing:Hf[n.easing];o||(n.easing&&console.warn("Unknown easing function in amator: "+n.easing),o=Hf.ease);var l=typeof n.step=="function"?n.step:Wf,a=typeof n.done=="function"?n.done:Wf,s=rg(n.scheduler),u=Object.keys(t);u.forEach(function(m){r[m]=e[m],i[m]=t[m]-e[m]});var f=typeof n.duration=="number"?n.duration:400,c=Math.max(1,f*.06),d,p=0;return d=s.next(w),{cancel:g};function g(){s.cancel(d),d=0}function w(){var m=o(p/c);p+=1,E(m),p<=c?(d=s.next(w),l(e)):(d=0,setTimeout(function(){a(e)},0))}function E(m){u.forEach(function(h){e[h]=i[h]*m+r[h]})}}function Wf(){}function rg(e){if(!e){var t=typeof window<"u"&&window.requestAnimationFrame;return t?ig():og()}if(typeof e.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof e.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return e}function ig(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function og(){return{next:function(e){return setTimeout(e,1e3/60)},cancel:function(e){return clearTimeout(e)}}}function Yh(){var e=new Set,t=new Set,n=0;return{next:i,cancel:i,clearAll:r};function r(){e.clear(),t.clear(),cancelAnimationFrame(n),n=0}function i(a){t.add(a),o()}function o(){n||(n=requestAnimationFrame(l))}function l(){n=0;var a=t;t=e,e=a,e.forEach(function(s){s()}),e.clear()}}function Gf(e,t,n){typeof n!="object"&&(n={});let r=.001,i=typeof n.minVelocity=="number"?n.minVelocity:r,o=typeof n.amplitude=="number"?n.amplitude:.01,l=typeof n.cancelAnimationFrame=="function"?n.cancelAnimationFrame:lg(),a=typeof n.requestAnimationFrame=="function"?n.requestAnimationFrame:ag(),s,u,f=342,c,d,p,g,w,E,m,h;return{start:y,setAmplitude:v,getAmplitude:x,stop:k,impulse:P,cancel:S};function v(A){o=A}function x(){return o}function S(){l(c),l(h)}function y(){s=e(),p=w=d=g=E=0,u=new Date,l(c),l(h),c=a(C)}function C(){var A=Date.now(),D=A-u;u=A;var F=e(),z=F.x-s.x,T=F.y-s.y,L=(F.z||0)-s.z;s=F;var B=1e3/(1+D);d=.8*z*B+.2*d,g=.8*T*B+.2*g,E=.8*L*B+.2*E,c=a(C)}function k(){c&&(l(c),c=0,l(h),h=0,P(d,g,E))}function P(A,D,F){u=Date.now(),(A<-i||A>i)&&(p=o*A),(D<-i||D>i)&&(w=o*D),(F<-i||F>i)&&(m=o*F),h=a(_)}function _(){var A=Date.now()-u,D=!1,F=0,z=0,T=0;let L=Math.exp(-A/f);if(p&&(F=p*L,F>r||F<-r?D=!0:F=p=0),w&&(z=w*L,z>r||z<-r?D=!0:z=w=0),m&&(T=m*L,T>r||T<-r?D=!0:T=m=0),D){let B=e();t(B.x+F,B.y+z,B.z+T),h=a(_)}}}function lg(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function ag(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(e){return setTimeout(e,16)}}class sg{constructor(t){N(this,"x");N(this,"y");N(this,"lastX");N(this,"lastY");N(this,"id");N(this,"createdAt");this.x=t.clientX,this.y=t.clientY,this.lastX=this.x,this.lastY=this.y,this.id=t.identifier,this.createdAt=Date.now()}move(t){this.lastX=this.x,this.lastY=this.y,this.x=t.clientX,this.y=t.clientY}}const Hi=0,ug=1,fg=2,cg=3;class dg{constructor(t){N(this,"allowRotation");N(this,"state");N(this,"canRotate");N(this,"canScale");N(this,"canIncline");N(this,"first");N(this,"second");N(this,"stateChanged");this.allowRotation=t,this.state=Hi,this.canRotate=!1,this.canScale=!1,this.canIncline=!1,this.first=void 0,this.second=void 0,this.stateChanged=!1}reset(){this.state=Hi,this.canRotate=!1,this.canScale=!1,this.canIncline=!1,this.first=void 0,this.second=void 0}isUnknown(){return this.state===Hi}track(t,n){if(this.stateChanged=!1,this.state!==Hi)return;if(!(this.first&&this.second)){this.first={id:t.id,x:t.x,y:t.y},this.second={id:n.id,x:n.x,y:n.y};return}let r=this.first,i=this.second;if(t.id===i.id&&n.id===r.id){let g=r;r=i,i=g}let o=r.y-i.y,l=r.x-i.x,a=t.y-n.y,s=t.x-n.x,u=Math.abs(Math.hypot(o,l)-Math.hypot(a,s)),f=Math.atan2(o,l),c=Math.abs(f-Math.atan2(a,s));f=Math.abs(f)*180/Math.PI;let d=60;if((f<d||180-f<d)&&this.allowRotation&&Math.abs(t.createdAt-n.createdAt)<100){let g=t.x-r.x+n.x-i.x,w=t.y-r.y+n.y-i.y;Math.abs(g)<10&&Math.abs(w)>42&&(this.canIncline=!0)}this.canIncline?(this.canRotate=!1,this.canScale=!1,this.canIncline=!0,this.state=cg):c>.1&&this.allowRotation?(this.canRotate=!0,this.canScale=!0,this.canIncline=!1,this.state=fg):u>15&&(this.canRotate=!1,this.canScale=!0,this.canIncline=!1,this.state=ug),this.stateChanged=!0}}function hg(e,t){let n=!1,r=new Map,{allowRotation:i,allowPinchRotation:o,panAnimation:l,rotateAnimation:a}=t,s=new dg(o&&i),u,f=Date.now(),c=f;return p(),{dispose:d};function d(){e.removeEventListener("touchstart",g,{passive:!1}),h()}function p(){e.addEventListener("touchstart",g,{passive:!1})}function g(v){n||(m(),n=!0),l.cancel(),a.cancel(),v.touches.length===1&&l.start();for(let x=0;x<v.touches.length;++x){let S=v.touches[x];r.has(S.identifier)||r.set(S.identifier,new sg(S))}v.stopPropagation(),v.preventDefault()}function w(v){let x=Date.now(),S=0,y=0,C=0,k=0,P,_,A=!1,D=v.touches;for(let L=0;L<D.length;++L){let B=D[L],R=r.get(B.identifier);R&&(R.move(B),C+=R.x,k+=R.y,S+=R.x-R.lastX,y+=R.y-R.lastY,P?_||(_=R):P=R)}let F=D.length;if(S/=F,y/=F,C/=F,k/=F,_||s.reset(),P&&_){c=x;let L=_.x-P.x,B=_.y-P.y,R=_.lastX-P.lastX,b=_.lastY-P.lastY,M=Math.hypot(L,B)/Math.hypot(R,b)-1,I=Math.atan2(B,L)-Math.atan2(b,R);if(s.track(P,_),s.stateChanged&&(a.start(),l.cancel()),s.canScale&&(t.zoomToClientCoordinates(C,k,M),A=!0),s.canRotate&&(t.rotateByAngle(I,0),A=!0),s.canIncline){let U=_.y-_.lastY+P.y-P.lastY;t.rotateByAbsoluteOffset(0,U),A=!0}v.preventDefault(),v.stopPropagation()}let z=x-f,T=s.canIncline||z<300||v.touches.length>1&&s.isUnknown();(S!==0||y!==0)&&!T&&(t.panByAbsoluteOffset(S,y),A=!0),A&&t.redraw()}function E(v){let x=Date.now(),S=x-f;f=x;let y=v.changedTouches;for(let C=0;C<y.length;++C){let k=y[C];r.delete(k.identifier)}if(v.touches.length<2&&(s.reset(),a.stop(),l.stop()),v.touches.length===0&&r.clear(),r.size===0&&v.changedTouches.length===1){if(n=!1,h(),l.stop(),S<350&&x-c>350){let C=v.changedTouches[0],k=Math.abs(C.clientX-u.clientX),P=Math.abs(C.clientY-u.clientY);Math.hypot(k,P)<30&&t.zoomToClientCoordinates(u.clientX,u.clientY,.5,!0)}u=v.changedTouches[0]}}function m(){document.addEventListener("touchmove",w,{passive:!1}),document.addEventListener("touchend",E,{passive:!1}),document.addEventListener("touchcancel ",E,{passive:!1})}function h(){document.removeEventListener("touchmove",w),document.removeEventListener("touchend",E),document.removeEventListener("touchcancel ",E)}}function Yf(e,t,n){let r=e*Math.cos(t),i=e*Math.sin(t)*Math.cos(n),o=e*Math.sin(t)*Math.sin(n);return[i,o,r]}function Je(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function qt(e,t){return e===void 0?t:e}function St(e,t,n){return Math.abs(e)<t?n:e}function pg(e,t){let n=0,r=0,i=0,o=0,l=0,a=0,s=0,u=0,f=0,c=0,d=0,p=0,g=0;return w(),{dispose:E};function w(){e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),e.addEventListener("keydown",v),e.addEventListener("keyup",x)}function E(){e.removeEventListener("keydown",v),e.removeEventListener("keyup",x),cancelAnimationFrame(n)}function m(){n=0;let y=.9,C=!1;if(l=St(l*y+r,.5,0),a=St(a*y+i,.5,0),s=St(s*y+o,.5,0),(l||a)&&(t.panByAbsoluteOffset(l,a),C=!0),s&&(t.slideCenterUpDown(s),C=!0),u=St(u*y+f/2,Math.PI/360,0),p=St(p*y+g/6,Math.PI/360,0),(u||p)&&(t.rotateByAbsoluteOffset(u,p),C=!0),c=St(c*.7+d,.5,0),c){let k=Math.sign(c)*.025;t.zoomCenterByScaleFactor(k,0,0),C=!0}C&&(t.redraw(),h())}function h(){n||(n=requestAnimationFrame(m))}function v(y){S(y,1)}function x(y){S(y,0)}function S(y,C){if(!vg(y)){switch(y.which){case 81:f=-C;break;case 69:f=C;break;case 187:d=C;break;case 189:d=-C;break;case 82:g=C;break;case 70:g=-C;break;case 37:case 65:r=C;break;case 39:case 68:r=-C;break;case 38:case 87:i=C;break;case 40:case 83:i=-C;break;case 71:o=-C;break;case 84:o=C;break}h()}}}function vg(e){return e.altKey||e.ctrlKey||e.metaKey}function mg(e,t){let n,r,i,{allowRotation:o,panAnimation:l,rotateAnimation:a}=t;return e.addEventListener("wheel",p,{passive:!1}),e.addEventListener("mousedown",u,{passive:!1}),e.addEventListener("dblclick",d,{passive:!1}),{dispose:s};function s(){e.removeEventListener("wheel",p,{passive:!1}),e.removeEventListener("mousedown",u,{passive:!1}),e.removeEventListener("dblclick",d,{passive:!1}),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",c)}function u(w){(w.button===1&&window.event!==null||w.button===0)&&(document.addEventListener("mousemove",f),document.addEventListener("mouseup",c),n=w.clientX,r=w.clientY,i=w.altKey&&o,l.cancel(),a.cancel(),i?a.start():l.start())}function f(w){let E=w.clientY-r,m=w.clientX-n;i?t.rotateByAbsoluteOffset(m,E):t.panByAbsoluteOffset(m,E),n=w.clientX,r=w.clientY,t.redraw()}function c(){document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",c),i?a.stop():l.stop()}function d(w){t.zoomToClientCoordinates(w.clientX,w.clientY,.5,!0),w.preventDefault(),w.stopPropagation()}function p(w){let E=w.deltaMode>0?100:1,m=g(-w.deltaY*E);t.zoomToClientCoordinates(w.clientX,w.clientY,m),w.preventDefault()}function g(w){return Math.sign(w)*Math.min(.25,Math.abs(w/128))}}function uu(e,t){if(typeof e=="string"){let n=document.querySelector(e);if(!n)throw new Error("Cannot resolve input target element: "+e);return n}return e||t}class Xh{constructor(t){N(this,"drawContext");N(this,"updated");this.drawContext=t.getDrawContext(),this.updated=!1}}function qh(e){const t=e.getDrawContext();let n=t.view,r=Math.PI*2,i=Math.PI*1.618,o=new Xh(e),l=e.getOptions()||{},a=l.allowRotation===void 0?!0:!!l.allowRotation,s=l.allowPinchRotation===void 0?a:!!l.allowPinchRotation,u=qt(l.minPhi,-1/0),f=qt(l.maxPhi,1/0),c=Je(-Math.PI/2,u,f),d=qt(l.minTheta,0),p=qt(l.maxTheta,Math.PI),g=Je(0,d,p),w=qt(l.minZoom,-1/0),E=qt(l.maxZoom,1/0),m=Je(1,w,E),h=n.center,v=n.position,x=Gf(I,X),S=Gf(U,W,{minVelocity:1}),y=[0,0,1];const C={dispose:F,setViewBox:D,panByAbsoluteOffset:B,slideCenterUpDown:M,rotateByAngle:T,rotateByAbsoluteOffset:L,zoomCenterByScaleFactor:q,zoomToClientCoordinates:R,redraw:te,allowRotation:a,allowPinchRotation:s,rotateAnimation:S,panAnimation:x},k=uu(l.inputTarget,t.canvas),P=pg(k,C),_=hg(k,C),A=mg(k,C);return te(),C;function D(){return v=n.position,m=Math.hypot(v[2]),h[0]=v[0],h[1]=v[1],h[2]=0,g=Je(0,d,p),c=Je(-Math.PI/2,u,f),te(),C}function F(){S.cancel(),x.cancel(),_.dispose(),P.dispose(),A.dispose()}function z(Q,ie){let se=e.getSceneCoordinate(Q,ie),ce=Wr(se,se,v);fl(ce,ce);let We=Ka(y,ce);if(Math.abs(We)>1e-7){let st=Ka(Wr([0,0,0],h,v),y)/We;return su([0,0,0],v,ce,st)}}function T(Q,ie){c=Je(c+Q,u,f),g=Je(g+ie,d,p)}function L(Q,ie){if(!a)return;let se=t.width/t.height;c-=r*Q/t.width,g-=i*ie/t.height*se,g=Je(g,d,p),c=Je(c,u,f)}function B(Q,ie){let se=t.width/t.height,ce=2*m*Math.tan(t.fov/2),We=se*ce*Q/(t.width/t.pixelRatio),st=ce*ie/(t.height/t.pixelRatio);b(We,-st)}function R(Q,ie,se,ce){let We=z(Q,ie);if(!We)return;let st=We[0]-h[0],yn=We[1]-h[1];if(ce){let G={r:m,x:h[0],y:h[1]},oe={r:Je(m*(1-se),w,E),x:G.x+st*se,y:G.y+yn*se};cl.exports(G,oe,{step(Fe){m=Fe.r,h[0]=Fe.x,h[1]=Fe.y,te()}})}else q(se,st,yn),te()}function b(Q,ie){let se=Math.cos(c),ce=Math.sin(c);h[0]+=se*ie+ce*Q,h[1]+=ce*ie-se*Q}function M(Q){h[2]+=Q*m*.001}function I(){return{x:h[0],y:h[1],z:h[2]}}function U(){return{x:c,y:g,z:0}}function W(Q,ie){g=Je(ie,d,p),c=Je(Q,u,f),te()}function X(Q,ie,se){Bo(h,Q,ie,se),te()}function q(Q,ie,se){let ce=Je(m*(1-Q),w,E);ce!==m&&(m=ce,h[0]+=ie*Q,h[1]+=se*Q)}function te(){let Q=Yf(m,g,c),ie=Math.hypot(m,1),se=g-Math.acos(m/ie),ce=Yf(ie,se,c);if(Wr(ce,ce,Q),Bo(v,Q[0],Q[1],Q[2]),R1(v,v,h),au(n.cameraWorld,v,h,ce),lu(n.orientation,n.cameraWorld),n.update(),o.updated=!1,e.fire("transform",o),o.updated){te();return}e.getRoot().scheduleMVPUpdate(),e.renderFrame()}}p1(Float64Array);function Ja(e,t={}){let n,r,i=t.devicePixelRatio||window.devicePixelRatio,o=t.wglContextOptions,l=e.getContext(t.version===2?"webgl2":"webgl",o)||e.getContext("experimental-webgl",o);l.enable(l.BLEND),l.blendFuncSeparate(l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA),l.clearColor(0,0,0,1),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT);let a=0,s=new gn,u=!1,f=!1,c=uu(t.inputTarget,e),d,p=new G1,g=bt(),w=bt(),E=t.fov===void 0?Math.PI*45/180:t.fov,m=t.near===void 0?.01:t.near,h=t.far===void 0?1/0:t.far;const v={width:window.innerWidth,height:window.innerHeight,pixelRatio:i,canvas:e,projection:g,inverseProjection:w,view:p,fov:E};U();let x=ul({appendChild:We,getSceneCoordinate:q,getClientCoordinate:te,getTransform:L,getRoot:F,getGL:D,removeChild:st,setViewBox:Q,setClearColor:B,getClearColor:R,clear:ce,dispose:M,renderFrame:ie,getPixelRatio:k,setPixelRatio:A,updateCanvasSize:U,getCameraController:T,setCameraController:z,getDrawContext:P,getOptions:_}),S=x.on;x.on=yn,s.bindScene(x);let y=(t.controls||qh)(x),C;return b(),ie(),x;function k(){return i}function P(){return v}function _(){return t}function A(G){i=G,v.pixelRatio=i,U()}function D(){return l}function F(){return s}function z(G){return y&&y.dispose(),y=G(x,v),y}function T(){return y}function L(){return s.model}function B(G,oe,Fe,Ze){l.clearColor(G,oe,Fe,Ze)}function R(){return l.getParameter(l.COLOR_CLEAR_VALUE)}function b(){c.addEventListener("mousemove",X),C=U1(c,W),window.addEventListener("resize",I,!0)}function M(){c.removeEventListener("mousemove",X),C&&C(),window.removeEventListener("resize",I,!0),y.dispose(),s.dispose(),a&&(cancelAnimationFrame(a),a=0)}function I(){U()}function U(){t.size?(n=e.width=t.size.width,r=e.height=t.size.height):(n=e.width=e.offsetWidth*i,r=e.height=e.offsetHeight*i),d=e.getBoundingClientRect(),l.viewport(0,0,n,r),v.width=n,v.height=r,s.worldTransformNeedsUpdate=!0,P1(g,E,n/r,m,h),Hr(w,g),ie()}function W(G){if(u){var oe=q(G.clientX,G.clientY);oe&&x.fire("click",{originalEvent:G,x:oe[0],y:oe[1],z:oe[2]})}}function X(G){if(f){var oe=q(G.clientX,G.clientY);oe&&x.fire("mousemove",{originalEvent:G,x:oe[0],y:oe[1],z:oe[2]})}}function q(G,oe){G-=d.left,oe-=d.top;var Fe=x.getPixelRatio();let Ze=Fe*G/n*2-1,Pt=(1-Fe*oe/r)*2-1,Oe=pr([0,0,0],[Ze,Pt,0],w);pr(Oe,Oe,p.cameraWorld),Wr(Oe,Oe,p.position),fl(Oe,Oe);var On=0,pl=(On-p.position[2])/Oe[2];return Oe[2]>0,su(Oe,p.position,Oe,pl),Oe}function te(G,oe,Fe=0){var Ze=cn(bt(),g,p.matrix);cn(Ze,Ze,s.model);var Pt=bh([0,0,0,0],[G,oe,Fe,1],Ze),Fn=x.getPixelRatio(),Oe=n*(Pt[0]/Pt[3]+1)*.5/Fn,On=r*(1-(Pt[1]/Pt[3]+1)*.5)/Fn;return{x:Oe,y:On}}function Q(G){const Fe=v.pixelRatio*Math.max((G.top-G.bottom)/2,(G.right-G.left)/2),{position:Ze,orientation:Pt}=v.view;Ze[0]=(G.left+G.right)/2,Ze[1]=(G.top+G.bottom)/2,Ze[2]=Fe/Math.tan(v.fov/2),Uh(Pt,0,0,0,1),v.view.update(),y.setViewBox&&y.setViewBox(G)}function ie(G=!1){if(G)return se();a||(a=requestAnimationFrame(se))}function se(){l.clear(l.COLOR_BUFFER_BIT),s.updateWorldTransform(),s.draw(l,v),a=0}function ce(){l.clear(l.COLOR_BUFFER_BIT)}function We(G,oe=!1){s.appendChild(G,oe),x.fire("append-child",G)}function st(G){s.removeChild(G),x.fire("remove-child",G)}function yn(G,oe,Fe){return G==="click"&&(u=!0),G==="mousemove"&&(f=!0),S(G,oe,Fe)}}const Re={compile:gg,link:yg,getLocations:wg,getAttributes:Qh,getUniforms:Kh,initBuffer:xg};function gg(e,t,n){const r=e.createShader(t);if(!r)throw new Error("Failed to create a shared "+n);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(r)||"Failed to compile shader "+n);return r}function yg(e,t,n){const r=e.createProgram();if(!r)throw new Error("Failed to link a program");if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw new Error(e.getProgramInfoLog(r)||"Failed to link a program");return r}function wg(e,t){return{attributes:Qh(e,t),uniforms:Kh(e,t)}}function Qh(e,t){for(var n=Object.create(null),r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;++i){var o=e.getActiveAttrib(t,i);if(o){let l=o.name;n[l]=e.getAttribLocation(t,l)}}return n}function Kh(e,t){for(var n=Object.create(null),r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=e.getActiveUniform(t,i);if(o){let l=o.name;n[l]=e.getUniformLocation(t,l)}}return n}function xg(e,t,n,r){var i=e.createBuffer();if(!i)throw new Error("Failed to create a buffer");e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.vertexAttribPointer(r,n,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r)}function dl(){let e=new Map;return{get:t,set:n,remove:r};function t(i){if(!i)return;let o=e,l;for(let a=0;a<i.length;++a){let s=i[a];if(l=o.get(s),!l)return;o=l}return l}function n(i,o){let l=e;for(let a=0;a<i.length-1;++a){let s=i[a],u=l.get(s);u||(u=new Map,l.set(s,u)),l=u}l.set(i[i.length-1],o)}function r(i){let o=e;for(let l=0;l<i.length-1;++l){let a=i[l],s=o.get(a);if(!s)return;o=s}o.delete(i[i.length-1])}}let Wl=dl();function Eg(e,t){let n=!!t.allowColors,r=[n,e],i=Wl.get(r);if(!i){const{fragmentShaderCode:m,vertexShaderCode:h}=Sg(n);let v=Re.compile(e,e.VERTEX_SHADER,h),x=Re.compile(e,e.FRAGMENT_SHADER,m);i=Re.link(e,v,x),Wl.set(r,i)}let o=Re.getLocations(e,i),l=e.getExtension("ANGLE_instanced_arrays");if(!l)throw new Error("PointCollection requires instancing. Please ping @anvaka so that we can add fallback");let a=e.createBuffer();if(!a)throw new Error("failed to create a nodesBuffer");const s=e.createBuffer(),u=new Float32Array([-.5,-.5,-.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5]);let f=t.is3D?3:2,c=f*4,d=(f+1)*4,p=(f+2)*4,g=(f+1)*4;return{draw:E,dispose:w};function w(){e.deleteProgram(i),Wl.remove(r)}function E(m){if(t.count){if(e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.useProgram(i),e.uniformMatrix4fv(o.uniforms.uModel,!1,t.worldModel),e.uniformMatrix4fv(o.uniforms.projectionMatrix,!1,m.projection),e.uniformMatrix4fv(o.uniforms.uView,!1,m.view.matrix),e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,u,e.STATIC_DRAW),e.enableVertexAttribArray(o.attributes.aPoint),e.vertexAttribPointer(o.attributes.aPoint,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,t.buffer,e.DYNAMIC_DRAW),n)e.enableVertexAttribArray(o.attributes.aPosition),e.vertexAttribPointer(o.attributes.aPosition,f,e.FLOAT,!1,p,0),e.enableVertexAttribArray(o.attributes.aPointSize),e.vertexAttribPointer(o.attributes.aPointSize,1,e.FLOAT,!1,p,c),e.enableVertexAttribArray(o.attributes.aColor),e.vertexAttribPointer(o.attributes.aColor,4,e.UNSIGNED_BYTE,!0,p,d);else{e.enableVertexAttribArray(o.attributes.aPosition),e.vertexAttribPointer(o.attributes.aPosition,f,e.FLOAT,!1,g,0),e.enableVertexAttribArray(o.attributes.aPointSize),e.vertexAttribPointer(o.attributes.aPointSize,1,e.FLOAT,!1,g,c);let h=t.color;e.uniform4f(o.uniforms.uColor,h.r,h.g,h.b,h.a)}l.vertexAttribDivisorANGLE(o.attributes.aPoint,0),l.vertexAttribDivisorANGLE(o.attributes.aPosition,1),l.vertexAttribDivisorANGLE(o.attributes.aPointSize,1),l.vertexAttribDivisorANGLE(o.attributes.aColor,1),l.drawArraysInstancedANGLE(e.TRIANGLES,0,6,t.count),l.vertexAttribDivisorANGLE(o.attributes.aPosition,0),l.vertexAttribDivisorANGLE(o.attributes.aPoint,0),l.vertexAttribDivisorANGLE(o.attributes.aPointSize,0),l.vertexAttribDivisorANGLE(o.attributes.aColor,0),e.disable(e.DEPTH_TEST)}}}function Sg(e){return{fragmentShaderCode:`
  precision highp float;
  varying vec4 vColor;
  varying vec3 vPosition;

  void main() {
    float dist = length(vPosition);

    if (dist >= 0.5) {discard;}
    gl_FragColor = vColor;
  }
  `,vertexShaderCode:`
  uniform vec4 uColor;
  uniform mat4 projectionMatrix;
  uniform mat4 uModel;
  uniform mat4 uView;

  attribute float aPointSize;
  attribute vec3 aPosition;
  attribute vec3 aPoint;
  ${e?"attribute vec4 aColor;":""}

  varying vec4 vColor;
  varying vec3 vPosition;

  void main() {
    vPosition = aPoint;
    gl_Position = projectionMatrix * uView * uModel * vec4( aPosition + aPoint * aPointSize, 1.0 );
    vColor = ${e?"aColor.abgr":"uColor"};
  }
`}}class fu{constructor(t,n,r,i=1){N(this,"r");N(this,"g");N(this,"b");N(this,"a");this.r=t,this.g=n,this.b=r,this.a=i===void 0?1:i}}class Cg{constructor(t,n,r){N(this,"offset");N(this,"data");N(this,"_points");this.offset=n,this._points=t,r!==void 0&&(this.data=r)}update(t){let n=this.offset,r=this._points.positions,i=this._points.is3D;r[n]=t.x,n++,r[n]=t.y,n++,i&&(r[n]=t.z||0,n++);let o=t.size||this._points.size||1;o!==void 0&&(r[n]=o),this.setColor(t.color)}setColor(t){if(!(!this._points.colors||t===void 0)){var n=this.offset+(this._points.is3D?4:3);this._points.colors[n]=t}}}class kg extends gn{constructor(n,r){if(n===void 0)throw new Error("Point capacity should be defined");super();N(this,"is3D");N(this,"allowColors");N(this,"capacity");N(this,"count");N(this,"color");N(this,"buffer");N(this,"positions");N(this,"colors");N(this,"size");N(this,"itemsPerPoint");N(this,"_program");this.is3D=!r||r.is3D===void 0||r.is3D,this.allowColors=!r||r.allowColors===void 0||r.allowColors,this.itemsPerPoint=3,this.is3D&&(this.itemsPerPoint+=1),this.allowColors&&(this.itemsPerPoint+=1),this.capacity=n,this.count=0,this.color=new fu(1,1,1,1),this._program=null,this.buffer=new ArrayBuffer(n*this.itemsPerPoint*4),this.positions=new Float32Array(this.buffer),this.colors=this.allowColors?new Uint32Array(this.buffer):null}draw(n,r){this._program||(this._program=Eg(n,this)),this._program.draw(r)}dispose(){this._program&&(this._program=null)}add(n,r){if(!n)throw new Error("Point is required");this.count>=this.capacity&&this._extendArray();var i=this.count*this.itemsPerPoint;let o=new Cg(this,i,r);return o.update(n),this.count+=1,o}_extendArray(){var n=new ArrayBuffer(this.buffer.byteLength*2),r=new Float32Array(n);this.positions&&r.set(this.positions),this.buffer=n,this.positions=r,this.allowColors&&(this.colors=new Uint32Array(n)),this.capacity*=2}}let Gl=dl();function es(e,t){let n=!!t.allowColors,r=[n,e],i=Gl.get(r);if(!i){const{frag:w,vert:E}=_g(n);var o=Re.compile(e,e.VERTEX_SHADER,E),l=Re.compile(e,e.FRAGMENT_SHADER,w);i=Re.link(e,o,l),Gl.set(r,i)}let a=Re.getLocations(e,i),s=e.createBuffer(),u=t.is3D?3:2,f=(u+1)*4,c=u*4;var d={draw:g,dispose:p};return d;function p(){e.deleteBuffer(s),e.deleteProgram(i),Gl.remove(r)}function g(w){if(t.count===0)return;let E=t.buffer;e.useProgram(i),e.uniformMatrix4fv(a.uniforms.uModel,!1,t.worldModel),e.uniformMatrix4fv(a.uniforms.projectionMatrix,!1,w.projection),e.uniformMatrix4fv(a.uniforms.uView,!1,w.view.matrix);var m=t.color;e.uniform4f(a.uniforms.uColor,m.r,m.g,m.b,m.a),e.bindBuffer(e.ARRAY_BUFFER,s),t.isDirtyBuffer&&(e.bufferData(e.ARRAY_BUFFER,E,e.STATIC_DRAW),t.isDirtyBuffer=!1),e.enableVertexAttribArray(a.attributes.aPosition),n?(e.vertexAttribPointer(a.attributes.aPosition,u,e.FLOAT,!1,f,0),e.enableVertexAttribArray(a.attributes.aColor),e.vertexAttribPointer(a.attributes.aColor,4,e.UNSIGNED_BYTE,!0,f,c)):e.vertexAttribPointer(a.attributes.aPosition,u,e.FLOAT,!1,4*u,0),e.drawArrays(e.LINES,0,t.count*2)}}function _g(e){return{vert:`attribute vec3 aPosition;
  varying vec4 vColor;
  ${e?"attribute vec4 aColor;":""}
  uniform vec4 uColor;
  uniform mat4 projectionMatrix;
  uniform mat4 uModel;
  uniform mat4 uView;

void main() {
  gl_Position = projectionMatrix * uView * uModel * vec4(aPosition, 1.0);
  vColor = ${e?"aColor.abgr":"uColor"};
}`,frag:`precision mediump float;
    varying vec4 vColor;
    void main() {
      gl_FragColor = vColor;
    }`}}let Yl=dl();function Tg(e,t){let n=Number.isFinite(t.width)&&t.width>0&&t.width!==1,r;if(n){if(r=e.getExtension("ANGLE_instanced_arrays"),!r)return console.error("ANGLE_instanced_arrays is not supported, thick lines are not possible"),es(e,t)}else return es(e,t);let i=!!t.allowColors,o=[i,e],l=Yl.get(o);if(!l){const{frag:h,vert:v}=Pg(i);var a=Re.compile(e,e.VERTEX_SHADER,v),s=Re.compile(e,e.FRAGMENT_SHADER,h);l=Re.link(e,a,s),Yl.set(o,l)}let u=Re.getLocations(e,l),f=e.createBuffer(),c=t.is3D?3:2,d=i?2*(c+1)*4:2*c*4;const p=e.createBuffer(),g=new Float32Array([-.5,0,-.5,1,.5,1,-.5,0,.5,1,.5,0]);var w={isThickWire:!0,draw:m,dispose:E};return w;function E(){f&&e.deleteBuffer(f),p&&e.deleteBuffer(p),u&&(e.disableVertexAttribArray(u.attributes.aFrom),e.disableVertexAttribArray(u.attributes.aFromColor),e.disableVertexAttribArray(u.attributes.aTo),e.disableVertexAttribArray(u.attributes.aToColor),e.disableVertexAttribArray(u.attributes.aPosition)),e.deleteProgram(l),Yl.remove(o)}function m(h){if(t.count===0)return;let v=t.buffer;e.useProgram(l),e.uniformMatrix4fv(u.uniforms.uModel,!1,t.worldModel),e.uniformMatrix4fv(u.uniforms.projectionMatrix,!1,h.projection),e.uniformMatrix4fv(u.uniforms.uView,!1,h.view.matrix),e.uniform3fv(u.uniforms.uOrigin,h.view.position),e.uniform1f(u.uniforms.uWidth,t.width),e.uniform2f(u.uniforms.uResolution,h.width,h.height);var x=t.color;e.uniform4f(u.uniforms.uColor,x.r,x.g,x.b,x.a),e.bindBuffer(e.ARRAY_BUFFER,p),e.bufferData(e.ARRAY_BUFFER,g,e.STATIC_DRAW),e.enableVertexAttribArray(u.attributes.aPosition),e.vertexAttribPointer(u.attributes.aPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,f),e.bufferData(e.ARRAY_BUFFER,v,e.DYNAMIC_DRAW),e.enableVertexAttribArray(u.attributes.aFrom),e.vertexAttribPointer(u.attributes.aFrom,c,e.FLOAT,!1,d,0),i?(e.enableVertexAttribArray(u.attributes.aFromColor),e.vertexAttribPointer(u.attributes.aFromColor,4,e.UNSIGNED_BYTE,!0,d,c*4),e.enableVertexAttribArray(u.attributes.aTo),e.vertexAttribPointer(u.attributes.aTo,c,e.FLOAT,!1,d,(c+1)*4),e.enableVertexAttribArray(u.attributes.aToColor),e.vertexAttribPointer(u.attributes.aToColor,4,e.UNSIGNED_BYTE,!0,d,(2*c+1)*4)):(e.enableVertexAttribArray(u.attributes.aTo),e.vertexAttribPointer(u.attributes.aTo,c,e.FLOAT,!1,d,c*4)),r.vertexAttribDivisorANGLE(u.attributes.aPosition,0),r.vertexAttribDivisorANGLE(u.attributes.aTo,1),r.vertexAttribDivisorANGLE(u.attributes.aFrom,1),r.vertexAttribDivisorANGLE(u.attributes.aFromColor,1),r.vertexAttribDivisorANGLE(u.attributes.aToColor,1),r.drawArraysInstancedANGLE(e.TRIANGLES,0,6,t.count),r.vertexAttribDivisorANGLE(u.attributes.aFrom,0),r.vertexAttribDivisorANGLE(u.attributes.aTo,0),r.vertexAttribDivisorANGLE(u.attributes.aFromColor,0),r.vertexAttribDivisorANGLE(u.attributes.aToColor,0)}}function Pg(e){return{vert:`attribute vec3 aPosition, aFrom, aTo;
    varying vec4 vColor;
    ${e?"attribute vec4 aFromColor, aToColor;":""}
    uniform vec4 uColor;
    uniform mat4 projectionMatrix;
    uniform mat4 uModel;
    uniform mat4 uView;
    uniform float uWidth;
    uniform vec2 uResolution;
  
  void main() {
    // let's get the model point to clip space:
    vec4 clip0 = projectionMatrix * uView * uModel * vec4(aFrom, 1.0);
    vec4 clip1 = projectionMatrix * uView * uModel * vec4(aTo, 1.0);

    // And from the clip space move to the screen pixels 
    // (as we set width of the lines in pixels)
    vec2 screen0 = uResolution * (0.5 * clip0.xy/clip0.w + 0.5);
    vec2 screen1 = uResolution * (0.5 * clip1.xy/clip1.w + 0.5);

    // this is direction along the x axis
    vec2 xBasis = normalize(screen1 - screen0);
    // But since we set the width, we get the direction along the Y:
    vec2 yBasis = vec2(-xBasis.y, xBasis.x);

    // Offset the original points:
    vec2 pt0 = screen0 + uWidth * aPosition.x * yBasis;
    vec2 pt1 = screen1 + uWidth * aPosition.x * yBasis;

    // and interpolate along the Y of the instanced geometry 
    // (remember, Y changes from 0 to 1):
    vec2 pt = mix(pt0, pt1, aPosition.y);
    vec4 clip = mix(clip0, clip1, aPosition.y);

    // Finally move back to the clip space:
    gl_Position = vec4(clip.w * (2.0 * pt/uResolution - 1.0), clip.z, clip.w);
    vColor = ${e?"mix(aFromColor.abgr, aToColor.abgr, aPosition.y)":"uColor"};
  }`,frag:`precision mediump float;
    varying vec4 vColor;
    void main() {
      gl_FragColor = vColor;
    }`}}class Ag{constructor(t,n){N(this,"offset");N(this,"_wire");N(this,"update");this.offset=n,this._wire=t,this.update=t.is3D?this.update3D:this.update2D}update2D(t,n){this._wire.isDirtyBuffer=!0;var r=this._wire.positions,i=this.offset;r[i+0]=t.x,r[i+1]=t.y,i+=2;var o=this._wire.allowColors;o&&(t.color!==void 0&&(this._wire.colors[i]=t.color),i+=1),r[i+0]=n.x,r[i+1]=n.y,o&&n.color!==void 0&&(this._wire.colors[i+2]=n.color)}update3D(t,n){this._wire.isDirtyBuffer=!0;var r=this._wire.positions,i=this.offset;r[i+0]=t.x,r[i+1]=t.y,r[i+2]=t.z||0,i+=3;var o=this._wire.allowColors;o&&(t.color!==void 0?this._wire.colors[i]=t.color:this._wire.colors[i]=Xf(this._wire.color),i+=1),r[i+0]=n.x,r[i+1]=n.y,r[i+2]=n.z||0,o&&(n.color!==void 0?this._wire.colors[i+3]=n.color:this._wire.colors[i+3]=Xf(this._wire.color))}}function Xf(e){let t=Math.round(e.r*255),n=Math.round(e.g*255),r=Math.round(e.b*255),i=Math.round(e.a*255);return t<<24|n<<16|r<<8|i}function Mg(e,t,n=.5){let r=qf(e),i=qf(t);return[r[0]*n+(1-n)*i[0],r[1]*n+(1-n)*i[1],r[2]*n+(1-n)*i[2],r[3]*n+(1-n)*i[3]]}function qf(e){return[e>>24&255/255,e>>16&255/255,e>>8&255/255,e&255/255]}function ts(e){let t=Xl(e[0]),n=Xl(e[1]),r=Xl(e[2]);return`#${t}${n}${r}`}function Xl(e){let t=Math.floor(e*255).toString(16);return t.length===1?"0"+t:t}class Gr extends gn{constructor(n,r){super();N(this,"allowColors");N(this,"is3D");N(this,"itemsPerLine");N(this,"capacity");N(this,"count");N(this,"color");N(this,"width");N(this,"buffer");N(this,"positions");N(this,"colors");N(this,"isDirtyBuffer");N(this,"_program");let i=4;this.allowColors=!r||r.allowColors===void 0||r.allowColors,this.is3D=!r||r.is3D===void 0||r.is3D,this.itemsPerLine=4,this.is3D&&(this.itemsPerLine+=2),this.allowColors&&(this.itemsPerLine+=2),this.capacity=n,this.count=0,this.color=new fu(1,1,1,1),this.type="WireCollection",this._program=null,this.buffer=new ArrayBuffer(n*this.itemsPerLine*i),this.positions=new Float32Array(this.buffer),this.width=r&&r.width||1,this.allowColors?this.colors=new Uint32Array(this.buffer):this.colors=null,this.isDirtyBuffer=!0}draw(n,r){this._program||(this._program=Qf(this.width)?Tg(n,this):es(n,this)),this._program.draw(r)}setLineWidth(n){if(n===this.width)return;let r=Qf(n);if(this.width=n,!(!this._program||!this.scene)){if(r&&this._program.isThickWire){this.scene.renderFrame();return}if(this.parent){let i=this.parent;i.removeChild(this),this.dispose(),i.appendChild(this)}}}add(n){if(!n)throw new Error("Line is required");this.count>=this.capacity&&this._extendArray();var r=this.count*this.itemsPerLine;let i=new Ag(this,r);return i.update(n.from,n.to),this.count+=1,i}getLineColor(n,r){return this.allowColors&&n&&n.color&&r&&r.color?Mg(n.color,r.color):[this.color.r,this.color.g,this.color.b,this.color.a]}forEachLine(n){const{positions:r,count:i,itemsPerLine:o}=this;let l=i*o;if(this.is3D)for(let a=0;a<l;a+=o){let s={x:r[a],y:r[a+1],z:r[a+2]},u=a+3;this.colors&&(s.color=this.colors[a+3],u+=1);let f={x:r[u],y:r[u+1],z:r[u+2]};this.colors&&(f.color=this.colors[u+3]),n(s,f)}else for(let a=0;a<l;a+=o){let s={x:r[a],y:r[a+1],z:0},u=a+2;this.colors&&(s.color=this.colors[a+2],u+=1);let f={x:r[u],y:r[u+1],z:0};this.colors&&(f.color=this.colors[u+2]),n(s,f)}}dispose(){this._program&&(this._program=null)}_extendArray(){var n=new ArrayBuffer(this.buffer.byteLength*2),r=new Float32Array(n);this.positions&&r.set(this.positions),this.buffer=n,this.positions=r,this.allowColors&&(this.colors=new Uint32Array(n)),this.capacity*=2}}function Qf(e){return e!==void 0&&e!==1&&e>0}let ql=dl();function Lg(e,t){let{allowColors:n,is3D:r}=t;n=!!n;const i=[n,e];let o=ql.get(i);const l=2+(n?1:0)+(r?1:0);let a=t.buffer;if(!o){const{lineFSSrc:h,lineVSSrc:v}=Rg(n);var s=Re.compile(e,e.VERTEX_SHADER,v),u=Re.compile(e,e.FRAGMENT_SHADER,h);o=Re.link(e,s,u),ql.set(i,o)}var f=Re.getLocations(e,o);let c=r?3:2,d=(c+1)*4,p=c*4;var g=e.createBuffer(),w={draw:m,dispose:E};return w;function E(){e.deleteBuffer(g),e.deleteProgram(o),ql.remove(i)}function m(h,v){if(a.length===0)return;e.useProgram(o),e.uniformMatrix4fv(f.uniforms.uModel,!1,h.worldModel),e.uniformMatrix4fv(f.uniforms.projectionMatrix,!1,v.projection),e.uniformMatrix4fv(f.uniforms.uView,!1,v.view.matrix),e.uniform3fv(f.uniforms.uOrigin,v.view.position);let{color:x,nextElementIndex:S,madeFullCircle:y}=h;if(e.uniform4f(f.uniforms.uColor,x.r,x.g,x.b,x.a),e.bindBuffer(e.ARRAY_BUFFER,g),e.enableVertexAttribArray(f.attributes.aPosition),e.bufferData(e.ARRAY_BUFFER,a,e.DYNAMIC_DRAW),n?(e.vertexAttribPointer(f.attributes.aPosition,c,e.FLOAT,!1,d,0),e.enableVertexAttribArray(f.attributes.aColor),e.vertexAttribPointer(f.attributes.aColor,4,e.UNSIGNED_BYTE,!0,d,p)):e.vertexAttribPointer(f.attributes.aPosition,c,e.FLOAT,!1,0,0),y){let C=a.byteLength/4/l-S;e.drawArrays(e.LINE_STRIP,S,C),S>1&&e.drawArrays(e.LINE_STRIP,0,S-1)}else e.drawArrays(e.LINE_STRIP,1,S-1)}}function Rg(e){return{lineVSSrc:`attribute vec3 aPosition;
  varying vec4 vColor;
  ${e?"attribute vec4 aColor;":""}
  uniform vec4 uColor;
  uniform mat4 projectionMatrix;
  uniform mat4 uModel;
  uniform mat4 uView;
  void main() {
    gl_Position = projectionMatrix * uView * uModel * vec4(aPosition, 1.0);
    vColor = ${e?"aColor.abgr":"uColor"};
  }`,lineFSSrc:`precision mediump float;
varying vec4 vColor;
void main() {
  gl_FragColor = vColor;
}
`}}class Ng extends gn{constructor(n,r){super();N(this,"drawCount");N(this,"madeFullCircle");N(this,"allowColors");N(this,"is3D");N(this,"itemsPerLine");N(this,"capacity");N(this,"nextElementIndex");N(this,"color");N(this,"buffer");N(this,"positions");N(this,"colors");N(this,"_program");let i=4;this.drawCount=0,this.madeFullCircle=!1,this.allowColors=!r||r.allowColors===void 0||r.allowColors,this.is3D=!r||r.is3D===void 0||r.is3D,this.itemsPerLine=2,this.allowColors&&(this.itemsPerLine+=1),this.is3D&&(this.itemsPerLine+=1),this.capacity=n,this.nextElementIndex=1,this._program=null,this.color=new fu(1,1,1,1),this.buffer=new ArrayBuffer((n+1)*this.itemsPerLine*i),this.positions=new Float32Array(this.buffer),this.allowColors?this.colors=new Uint32Array(this.buffer):this.colors=null}draw(n,r){this._program||(this._program=Lg(n,this)),this._program.draw(this,r)}add(n){let r=this.nextElementIndex*this.itemsPerLine,i=this.positions;if(i[r]=n.x,r+=1,i[r]=n.y,r+=1,this.is3D&&(i[r]=n.z||0,r+=1),this.colors&&(this.colors[r]=n.color===void 0?4294967295:n.color),this.nextElementIndex+=1,this.drawCount+=1,this.nextElementIndex>this.capacity){this.nextElementIndex=1;let o=0;i[o]=n.x,o+=1,i[o]=n.y,o+=1,this.is3D&&(i[o]=n.z||0,o+=1),this.colors&&(this.colors[o]=this.colors[r]),this.madeFullCircle=!0}}dispose(){this._program&&(this._program.dispose(),this._program=null)}}function Ig(e){try{return window.WebGLRenderingContext?(e||(e=document.createElement("canvas")),!!(e.getContext("webgl")||e.getContext("experimental-webgl"))):!1}catch{return!1}}var Kf=Fg,Dg=ul;function Fg(e){if(e=e||{},"uniqueLinkId"in e&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),e.multigraph=e.uniqueLinkId),e.multigraph===void 0&&(e.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t=new Map,n=new Map,r={},i=0,o=e.multigraph?x:v,l=[],a=L,s=L,u=L,f=L,c={version:20,addNode:w,addLink:h,removeLink:k,removeNode:m,getNode:E,getNodeCount:S,getLinkCount:y,getEdgeCount:y,getLinksCount:y,getNodesCount:S,getLinks:C,forEachNode:b,forEachLinkedNode:F,forEachLink:D,beginUpdate:u,endUpdate:f,clear:A,hasLink:_,hasNode:E,getLink:_};return Dg(c),d(),c;function d(){var M=c.on;c.on=I;function I(){return c.beginUpdate=u=B,c.endUpdate=f=R,a=p,s=g,c.on=M,M.apply(c,arguments)}}function p(M,I){l.push({link:M,changeType:I})}function g(M,I){l.push({node:M,changeType:I})}function w(M,I){if(M===void 0)throw new Error("Invalid node identifier");u();var U=E(M);return U?(U.data=I,s(U,"update")):(U=new Og(M,I),s(U,"add")),t.set(M,U),f(),U}function E(M){return t.get(M)}function m(M){var I=E(M);if(!I)return!1;u();var U=I.links;return U&&(U.forEach(P),I.links=null),t.delete(M),s(I,"remove"),f(),!0}function h(M,I,U){u();var W=E(M)||w(M),X=E(I)||w(I),q=o(M,I,U),te=n.has(q.id);return n.set(q.id,q),Zf(W,q),M!==I&&Zf(X,q),a(q,te?"update":"add"),f(),q}function v(M,I,U){var W=Wi(M,I),X=n.get(W);return X?(X.data=U,X):new Jf(M,I,U,W)}function x(M,I,U){var W=Wi(M,I),X=r.hasOwnProperty(W);if(X||_(M,I)){X||(r[W]=0);var q="@"+ ++r[W];W=Wi(M+q,I+q)}return new Jf(M,I,U,W)}function S(){return t.size}function y(){return n.size}function C(M){var I=E(M);return I?I.links:null}function k(M,I){return I!==void 0&&(M=_(M,I)),P(M)}function P(M){if(!M||!n.get(M.id))return!1;u(),n.delete(M.id);var I=E(M.fromId),U=E(M.toId);return I&&I.links.delete(M),U&&U.links.delete(M),a(M,"remove"),f(),!0}function _(M,I){if(!(M===void 0||I===void 0))return n.get(Wi(M,I))}function A(){u(),b(function(M){m(M.id)}),f()}function D(M){if(typeof M=="function")for(var I=n.values(),U=I.next();!U.done;){if(M(U.value))return!0;U=I.next()}}function F(M,I,U){var W=E(M);if(W&&W.links&&typeof I=="function")return U?T(W.links,M,I):z(W.links,M,I)}function z(M,I,U){for(var W,X=M.values(),q=X.next();!q.done;){var te=q.value,Q=te.fromId===I?te.toId:te.fromId;if(W=U(t.get(Q),te),W)return!0;q=X.next()}}function T(M,I,U){for(var W,X=M.values(),q=X.next();!q.done;){var te=q.value;if(te.fromId===I&&(W=U(t.get(te.toId),te),W))return!0;q=X.next()}}function L(){}function B(){i+=1}function R(){i-=1,i===0&&l.length>0&&(c.fire("changed",l),l.length=0)}function b(M){if(typeof M!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+M);for(var I=t.values(),U=I.next();!U.done;){if(M(U.value))return!0;U=I.next()}}}function Og(e,t){this.id=e,this.links=null,this.data=t}function Zf(e,t){e.links?e.links.add(t):e.links=new Set([t])}function Jf(e,t,n,r){this.fromId=e,this.toId=t,this.data=n,this.id=r}function Wi(e,t){return e.toString()+" "+t.toString()}function Zh(e,t={}){const n=e.getRoot();n.updateWorldTransform();let r=[],i=Object.assign({background:ts(e.getClearColor()),write:o,scene:e},e.getDrawContext());return Bg(i,t),l(n.children),bg(i,t),r.join(`
`);function o(a){r.push(a)}function l(a){let s={beforeWrite:t.beforeWrite||$g,round:t.round===void 0?void 0:t.round};for(var u=0;u<a.length;++u){const f=a[u],c=zg(f);c&&Ug(c,i,s),l(f.children)}}}function zg(e){if(!(!e||e.svgInvisible)&&e.forEachLine)return e}function $g(){return!0}function Bg(e,t){const n=`0 0 ${e.width} ${e.height}`;e.write('<?xml version="1.0" encoding="utf-8"?>'),t.open&&e.write(t.open()),e.write(`<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
    viewBox="${n}">
<style>
  path {
   vector-effect: non-scaling-stroke;
  }
</style>
`),e.background&&e.write(`<rect id="background" fill="${e.background}" x="0" y="0" width="${e.width}" height="${e.height}"></rect>`)}function bg(e,t){t.close&&e.write(t.close()),e.write("</svg>")}function Ug(e,t,n){if(!e.scene)return;let{beforeWrite:r,round:i}=n,o=Kf(),l=new Map,{multiColorSegment:a}=e,s=Vg(e,t,i);e.forEachLine((f,c)=>{let d=s(f.x,f.y,f.z),p=s(c.x,c.y,c.z);if(!(d.isBehind||p.isBehind)&&Gg(d,p,t.width,t.height)){let g=ts(e.getLineColor(f,c)),w=`${d.x}|${d.y}`,E=`${p.x}|${p.y}`,m=o;a&&(m=l.get(g),m||(m=Kf(),l.set(g,m))),m.getNode(w)||m.addNode(w,d),m.getNode(E)||m.addNode(E,p),m.hasLink(w,E)||m.addLink(w,E,{stroke:g})}});let u=[];a?l.forEach((f,c)=>{u.push([f,c])}):u.push([o,ts(e.getLineColor())]),u.forEach(([f,c])=>{if(f.getLinksCount()===0)return;let g=`fill="none" stroke-width="${(e.width===void 0?1:e.width)/e.scene.getPixelRatio()}" stroke="${c}"`,w=e.id?`<g id="${e.id}" ${g}>`:`<g ${g}>`;t.write(w);let E=jg(f),m=null,h=null;E.forEach(x=>{let{from:S,to:y}=x;if(S!==m)if(y===m){let C=S;S=y,y=C}else v(),h=[];h&&h.push(S,y),m=y}),v(),t.write("</g>");function v(){if(!h)return;let x=h.map(y=>{let C=f.getNode(y);if(C)return C.data;throw new Error("Node is found in the path construction, but missing in the graph")});if(r&&!r(x))return;let S=`M${x[0].x} ${x[0].y} L`+x.slice(1).map(y=>`${y.x} ${y.y}`).join(",");t.write(`<path d="${S}"/>`)}})}function jg(e){let t=new Set,n=[],r=[];return e.forEachNode(o=>{t.has(o.id)||(r.push({to:o.id}),i())}),n;function i(){for(;r.length;){let o=r.pop();o.to&&o.from&&n.push({from:o.from,to:o.to}),!t.has(o.to)&&(t.add(o.to),e.forEachLinkedNode(o.to,function(l){t.has(l.id)||r.push({from:o.to,to:l.id})},!1))}}}function Vg(e,t,n){const{width:r,height:i,projection:o,view:l}=t,a=cn(bt(),o,l.matrix);cn(a,a,e.worldModel);const s=Wg(n);return function(u,f,c){const d=bh([0,0,0,0],[u,f,c||0,1],a);var p=s(r*(d[0]/d[3]+1)*.5),g=s(i*(1-(d[1]/d[3]+1)*.5));return{x:p,y:g,isBehind:d[3]<=0}}}function Hg(e){return e}function Wg(e){return e===void 0?Hg:e===!0||e===0?Math.round:function(t){return Math.round(t*e)/e}}function Gg(e,t,n,r){return Gi(e,t,{x:0,y:0},{x:0,y:1})&&Gi(e,t,{x:0,y:0},{x:1,y:0})&&Gi(e,t,{x:0,y:r},{x:0,y:-1})&&Gi(e,t,{x:n,y:0},{x:-1,y:0})}function Gi(e,t,n,r){let i=ec(e,n,r),o=ec(t,n,r);if(i<=0&&o<=0)return!1;if(i>0&&o>0)return!0;let l=i/(i-o),a=e.x+l*(t.x-e.x),s=e.y+l*(t.y-e.y);return i<=0?(e.x=a,e.y=s):(t.x=a,t.y=s),!0}function ec(e,t,n){return(e.x-t.x)*n.x+(e.y-t.y)*n.y}const Yi=.5*Math.PI/180,tc=[0,0,-1];function Yg(e,t,n,r){n||(n=Function.prototype),e.addEventListener("touchstart",E),e.addEventListener("touchend",m);let i="deviceorientationabsolute";window.addEventListener("orientationchange",p);let o=!0;const l=[0,0,0,1],a=[0,0,0,1],s=[0,0,0,1];p();let u={isEnabled:!1,isAbsolute:!0,useCurrentOrientation:c,dispose:w,enable:f};return u;function f(h){u.isEnabled=h,u.isEnabled?window.DeviceOrientationEvent!==void 0&&window.DeviceOrientationEvent.requestPermission!==void 0?DeviceOrientationEvent.requestPermission().then(v=>{v==="granted"?(i="deviceorientation",window.addEventListener(i,d)):u.isEnabled=!1,r&&r.fire("device-orientation",u.isEnabled)}).catch(v=>{u.isEnabled=!1,r&&r.fire("device-orientation",u.isEnabled)}):window.addEventListener(i,d):(E(),r&&r.fire("device-orientation",u.isEnabled))}function c(){o=!0}function d(h){const{alpha:v,beta:x,gamma:S}=h;if(h.absolute&&v===null&&x===null&&S===null){window.removeEventListener("deviceorientationabsolute",d),window.addEventListener("deviceorientation",d),i="deviceorientation",u.isAbsolute=!1;return}if(g(v,x,S),o){o=!1;let y=bo([0,0,0],tc,a),C=bo([0,0,0],tc,t),k=y[0]*C[0]+y[1]*C[1],P=Math.sqrt(y[0]*y[0]+y[1]*y[1]),_=Math.sqrt(C[0]*C[0]+C[1]*C[1]),A=Math.acos(k/(P*_))/2,D=Math.sign(y[0]*C[1]-y[1]*C[0]);l[2]=D*Math.sin(A),l[3]=Math.cos(A)}Uo(a,a,s),Uo(t,l,a),n()}function p(){let v=-(window.orientation||0)*Yi;s[2]=Math.sin(v),s[3]=Math.cos(v)}function g(h,v,x){var S=v?v*Yi:0,y=x?x*Yi:0,C=h?h*Yi:0,k=Math.cos(S),P=Math.cos(y),_=Math.cos(C),A=Math.sin(S),D=Math.sin(y),F=Math.sin(C);a[0]=A*P*_-k*D*F,a[1]=k*D*_+A*P*F,a[2]=k*P*F+A*D*_,a[3]=k*P*_-A*D*F}function w(){e.removeEventListener("touchstart",E),e.removeEventListener("touchend",m),window.removeEventListener("deviceorientationabsolute",d),window.removeEventListener("deviceorientation",d),window.removeEventListener("orientationchange",p)}function E(h){o||(o=!0,h&&h.preventDefault(),window.removeEventListener(i,d))}function m(h){h.touches.length||(o=!0,u.isEnabled&&(window.removeEventListener(i,d),window.addEventListener(i,d)))}}const nc=[0,0,-1],Y={MOVE_FORWARD:1,MOVE_BACKWARD:2,MOVE_LEFT:3,MOVE_RIGHT:4,MOVE_UP:5,MOVE_DOWN:6,TURN_LEFT:7,TURN_RIGHT:8,TURN_UP:9,TURN_DOWN:10};function Xg(e){const t=e.getDrawContext();let{view:n}=t,r=n.position,i=n.center,o=e.getOptions()||{};const l=[0,0,1];let a=Math.PI,s=Math.PI*1.618,u=qt(o.captureMouse,!1),f,c,d=[0,0,0,1],p=0,g=[0,0,0,1],w=[0,0,0,1],E=[0,0,0],m=0,h=0,v=0;const x=uu(o.inputTarget,t.canvas);x.style.outline="none",x.getAttribute("tabindex")||x.setAttribute("tabindex","0"),x.addEventListener("keydown",X),x.addEventListener("keyup",q),x.addEventListener("mousedown",te),x.addEventListener("touchmove",ce),x.addEventListener("touchstart",Q),x.addEventListener("wheel",ie),document.addEventListener("pointerlockchange",yn,!1);let S=new Xh(e),y=0,C=0,k=0,P=0,_=0,A=0,D=0,F=0,z=0,T=0,L=0,B={[Y.MOVE_FORWARD]:!1,[Y.MOVE_BACKWARD]:!1,[Y.MOVE_LEFT]:!1,[Y.MOVE_RIGHT]:!1,[Y.MOVE_UP]:!1,[Y.MOVE_DOWN]:!1,[Y.TURN_LEFT]:!1,[Y.TURN_RIGHT]:!1,[Y.TURN_UP]:!1,[Y.TURN_DOWN]:!1},R=.01,b=3,M=.01;const I={dispose:hp,handleCommand:Oe,setViewBox:pl,getUpVector:cp,lookAt:wi,enableMouseCapture:Fe,enableDeviceOrientation:Ze,isDeviceOrientationEnabled:Pt,setRotationSpeed($){return a=$,I},setMoveSpeed($){return R=$,I},setScrollSpeed($){return b=$,I},setFlySpeed($){return M=$,I},setSpeed($){return R=$,M=$,I},getRotationSpeed(){return a},getMoveSpeed(){return R},getScrollSpeed(){return b},getFlySpeed(){return M},getKeymap(){return U},getMouseCapture(){return u}},U={87:Y.MOVE_FORWARD,65:Y.MOVE_LEFT,83:Y.MOVE_BACKWARD,68:Y.MOVE_RIGHT,81:Y.TURN_LEFT,37:Y.TURN_LEFT,69:Y.TURN_RIGHT,39:Y.TURN_RIGHT,38:Y.TURN_UP,40:Y.TURN_DOWN,16:Y.MOVE_DOWN,32:Y.MOVE_UP};ul(I);const W=Yg(x,n.orientation,zn,I);return qt(o.useDeviceOrientation,!0)&&W.enable(!0),I;function X($){Fn($,1)}function q($){Fn($,0)}function te($){$.which===1&&(document.pointerLockElement?document.exitPointerLock():u?x.requestPointerLock():(x.focus(),document.addEventListener("mousemove",We),document.addEventListener("mouseup",st),f=$.clientX,c=$.clientY,$.preventDefault()))}function Q($){$.touches.length===1&&(f=$.touches[0].clientX,c=$.touches[0].clientY)}function ie($){$.preventDefault();let Z=$.deltaMode>0?100:1,Me=b*se(-$.deltaY*Z),wn=+new Date,xn=$.clientX,$n=$.clientY;if(document.pointerLockElement&&(xn=t.width/(t.pixelRatio*2),$n=t.height/(t.pixelRatio*2)),document.pointerLockElement||wn-m>200||Math.hypot(xn-h,$n-v)>20){let Bn=[0,0,-1];Bn[0]=(xn*t.pixelRatio/t.width-.5)*2,Bn[1]=(1-$n*t.pixelRatio/t.height-.5)*2,pr(Bn,Bn,A1([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t.view.cameraWorld,t.inverseProjection)),E=Wr([0,0,0],Bn,n.position),fl(E,E);let pp=M1(i);g=jf(n.orientation),wi(r,Bn),w=jf(n.orientation),wi(r,pp),h=xn,v=$n,p=0,m=wn}p<1&&(ao(d,g,w,p),Uh(n.orientation,d[0],d[1],d[2],d[3]),p+=.01),r[0]+=R*Me*E[0],r[1]+=R*Me*E[1],r[2]+=R*Me*E[2],zn(),$.preventDefault()}function se($){return Math.sign($)*Math.min(.25,Math.abs($/128))}function ce($){if($.touches.length!==1)return;let Z=$.touches[0].clientY-c,Me=$.touches[0].clientX-f;oe(-Me,Z),f=$.touches[0].clientX,c=$.touches[0].clientY,$.preventDefault()}function We($){let Z=$.clientY-c,Me=$.clientX-f;oe(-Me,Z),f=$.clientX,c=$.clientY,$.preventDefault()}function st($){document.removeEventListener("mousemove",We),document.removeEventListener("mouseup",st)}function yn($){document.pointerLockElement?document.addEventListener("mousemove",G,!1):(document.removeEventListener("mousemove",G,!1),F=0,T=0),I.fire("pointer-locked",document.pointerLockElement)}function G($){oe($.movementX,-$.movementY)}function oe($,Z){let Me=a*$/t.width,wn=s*Z/t.height;du(Me,wn),zn()}function Fe($){return u=$,I.fire("mouse-capture",$),I}function Ze($){W.enable($)}function Pt(){return W.isEnabled}function Fn($,Z){if(qg($)){P=0;return}let Me=U[$.which];Me&&Oe(Me,Z)}function Oe($,Z){switch($){case Y.MOVE_FORWARD:k=Z;break;case Y.MOVE_BACKWARD:k=-Z;break;case Y.MOVE_LEFT:C=Z;break;case Y.MOVE_RIGHT:C=-Z;break;case Y.MOVE_UP:P=Z;break;case Y.MOVE_DOWN:P=-Z;break;case Y.TURN_LEFT:z=-Z;break;case Y.TURN_RIGHT:z=Z;break;case Y.TURN_UP:L=Z;break;case Y.TURN_DOWN:L=-Z;break;default:throw new Error("Unknown command "+$)}On()}function On(){y||(y=requestAnimationFrame(fp))}function pl($){const Me=e.getPixelRatio()*Math.max(($.top-$.bottom)/2,($.right-$.left)/2);let wn=($.left+$.right)/2,xn=($.top+$.bottom)/2,$n=Me/Math.tan(t.fov/2);return wi([wn,xn,$n],[wn,xn,0]),I}function fp(){y=0;let $=.9,Z=!1;_=St(_*$+C,.5,0),A=St(A*$+k,.5,0),D=St(D*$+P,.5,0),F=St(F*$+z/2,Math.PI/360,0),T=St(T*$+L/6,Math.PI/360,0),(_||A)&&(dp(_*R,A*R),Z=!0),D&&(r[2]+=D*M,Z=!0),(T||F)&&(du(F*.01,T*.01),Z=!0),Z&&(zn(),On()),B[Y.MOVE_LEFT]=_>0,B[Y.MOVE_RIGHT]=_<0,B[Y.MOVE_FORWARD]=A>0,B[Y.MOVE_BACKWARD]=A<0,B[Y.MOVE_UP]=D>0,B[Y.MOVE_DOWN]=D<0,B[Y.TURN_LEFT]=F<0,B[Y.TURN_RIGHT]=F>0,I.fire("move",B)}function wi($,Z){return Bo(r,$[0],$[1],$[2]),Bo(i,Z[0],Z[1],Z[2]),au(n.cameraWorld,r,i,l),lu(n.orientation,n.cameraWorld),Hr(n.matrix,n.cameraWorld),zn(),I}function cp(){return l}function zn(){if(n.update(),pr(i,nc,n.cameraWorld),S.updated=!1,e.fire("transform",S),S.updated){zn();return}e.getRoot().scheduleMVPUpdate(),e.renderFrame()}function du($,Z){$&&(Uo(n.orientation,Za([0,0,0,0],nc,$),n.orientation),W.useCurrentOrientation()),Z&&Uo(n.orientation,n.orientation,Za([0,0,0,0],[1,0,0],Z))}function dp($,Z){let Me=bo([0,0,0],[-$,0,-Z],n.orientation);r[0]+=Me[0],r[1]+=Me[1]}function hp(){cancelAnimationFrame(y),y=0,x.removeEventListener("keydown",X),x.removeEventListener("keyup",q),x.removeEventListener("mousedown",te),x.removeEventListener("touchmove",ce),x.removeEventListener("touchstart",Q),x.removeEventListener("wheel",ie),document.removeEventListener("mousemove",G,!1),document.removeEventListener("pointerlockchange",yn,!1),document.removeEventListener("mousemove",We),document.removeEventListener("mouseup",st),W.dispose()}}function qg(e){return e.altKey||e.ctrlKey||e.metaKey}function Qg(e,t){const n="navigation-controls";let r=document.createElement("div");r.classList.add(n),r.innerHTML=Kg();let i=document.createElement("style");i.appendChild(document.createTextNode(Jg(n))),document.querySelector("head").appendChild(i),e.appendChild(r);let o=Array.from(r.querySelectorAll("a.navigation-btn")),l=o.map(f),a=r.querySelector("#capture-mouse");t.getMouseCapture()&&(a.checked=!0),a.addEventListener("change",c);let s=r.querySelector("#device-orientation");return s&&(s.checked=t.isDeviceOrientationEnabled(),s.addEventListener("change",p)),t.on("move",w),t.on("mouse-capture",d),t.on("device-orientation",g),t.on("pointer-locked",u),{dispose:m};function u(h){let v=r.querySelector(".cross");v&&(v.style.display=h?"block":"none")}function f(h){let v=E(h);return ey(h,x=>{t.handleCommand(v,x?1:0)})}function c(h){t.enableMouseCapture(a.checked)}function d(h){a.checked=h}function p(){t.enableDeviceOrientation(s.checked)}function g(h){s&&(s.checked=h)}function w(h){o.forEach(v=>{h[E(v)]?v.classList.add("down"):v.classList.remove("down")})}function E(h){return Number.parseInt(h.getAttribute("data-command"),10)}function m(){t.off("move",w),t.off("mouse-capture",d),t.off("device-orientation",g),t.off("pointer-locked",u),l.forEach(h=>h()),r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i)}}function Kg(){return`
  <div class='navigation-row padded'>
    <div class='item'>
      <a href="#" class='navigation-btn secondary' data-command='${Y.TURN_LEFT}'>
        <svg viewBox="0 0 1024 1024">
        <path d="m884.6 622.6v192c0 11.333-3.834 20.833-11.5 28.5-7.667 7.666-17 11.5-28 11.5s-20.5-3.834-28.5-11.5c-8-7.667-12-17.167-12-28.5v-192c0-61.334-21.667-113.67-65-157-43.334-43.334-95.667-65-157-65h-340l113 112c7.333 8 11 17.5 11 28.5s-3.834 20.333-11.5 28c-7.667 7.666-17 11.5-28 11.5s-20.5-4-28.5-12l-178-178c-8-8-12-17.5-12-28.5s4-20.5 12-28.5l183-183c8-8 17.5-12 28.5-12s20.5 3.833 28.5 11.5c8 7.666 12 17 12 28s-4 20.5-12 28.5l-114 114h336c83.333 0 154.5 29.5 213.5 88.5s88.5 130.17 88.5 213.5z"/>
        </svg>
        <div class='nav-key-legend'>Q</div>
      </a>
    </div>
    <a href='#' class='item navigation-btn' data-command='${Y.MOVE_FORWARD}'>
      <svg viewBox="0 0 100 100"><path d="M10,80 50,30 90,80z"></path></svg>
      <div class='nav-key-legend'>W</div>
    </a>
    <a href="#" class='item navigation-btn secondary' data-command='${Y.TURN_RIGHT}'>
      <svg viewBox="0 0 1024 1024">
        <path d="m108.6 622.6v192c0 11.333 3.833 20.833 11.5 28.5 7.666 7.666 17 11.5 28 11.5s20.5-3.834 28.5-11.5c8-7.667 12-17.167 12-28.5v-192c0-61.334 21.666-113.67 65-157 43.333-43.334 95.666-65 157-65h340l-113 112c-7.334 8-11 17.5-11 28.5s3.833 20.333 11.5 28c7.666 7.666 17 11.5 28 11.5s20.5-4 28.5-12l178-178c8-8 12-17.5 12-28.5s-4-20.5-12-28.5l-183-183c-8-8-17.5-12-28.5-12s-20.5 3.833-28.5 11.5c-8 7.666-12 17-12 28s4 20.5 12 28.5l114 114h-336c-83.334 0-154.5 29.5-213.5 88.5s-88.5 130.17-88.5 213.5z"/>
      </svg>
      <div class='nav-key-legend'>E</div>
    </a>
  </div>
  <div class='navigation-row padded'>
    <a href='#' class='item navigation-btn' data-command='${Y.MOVE_LEFT}'>
      <svg viewBox="0 0 100 100" ><path d="M80,10 80,90 30,50z"></path></svg>
      <div class='nav-key-legend'>A</div>
    </a>
    <a href='#' class='item navigation-btn' data-command='${Y.MOVE_BACKWARD}'>
      <svg viewBox="0 0 100 100"><path d="M10,30 50,80 90,30z"></path></svg>
      <div class='nav-key-legend'>S</div>
    </a>
    <a href='#' class='item navigation-btn' data-command='${Y.MOVE_RIGHT}'>
      <svg viewBox="0 0 100 100" ><path d="M30,10 30,90 80,50z"></path></svg>
      <div class='nav-key-legend'>D</div>
    </a>
  </div>
  <div class='navigation-row'>
    <a href='#'  class='item navigation-btn wide' data-command='${Y.MOVE_DOWN}'>
      <svg width="100%" height="100%" viewBox="0 0 1024 1024">
          <path d="M364,666L522,824C528,830 535.5,833 544.5,833C553.5,833 561,830 567,824L725,666C731.667,659.333 735,651.667 735,643C735,634.333 731.667,626.667 725,620C719,614 711.5,611 702.5,611C693.5,611 686,614 680,620L576,724L576,32C576,23.333 573,15.833 567,9.5C561,3.167 553.333,0 544,0C535.333,0 527.833,3.167 521.5,9.5C515.167,15.833 512,23.333 512,32L512,724L409,620C403,614 395.5,611 386.5,611C377.5,611 370,614 364,620C358,626.667 355,634.333 355,643C355,651.667 358,659.333 364,666ZM1024,992C1024,1000.67 1020.83,1008.17 1014.5,1014.5C1008.17,1020.83 1000.67,1024 992,1024L32,1024C23.333,1024 15.833,1020.83 9.5,1014.5C3.167,1008.17 0,1000.67 0,992C0,983.333 3.167,975.833 9.5,969.5C15.833,963.167 23.333,960 32,960L992,960C1000.67,960 1008.17,963.167 1014.5,969.5C1020.83,975.833 1024,983.333 1024,992Z" style="fill-rule:nonzero;"/>
      </svg>
      <div class='nav-key-legend'>shift</div>
    </a>
    <a href='#' class='item navigation-btn wide' data-command='${Y.MOVE_UP}'>
      <svg viewBox="0 0 1024 1024"><path d="M726 167L568 9q-9-9-22.5-9T523 9L365 167q-10 10-10 23t10 23q9 9 22.5 9t22.5-9l104-104v692q0 13 9 22.5t23 9.5q13 0 22.5-9.5T578 801V109l103 104q9 9 22.5 9t22.5-9q9-10 9-23t-9-23zm298 825q0 13-9.5 22.5T992 1024H32q-13 0-22.5-9.5T0 992t9.5-22.5T32 960h960q13 0 22.5 9.5t9.5 22.5z"></path></svg>
      <div class='nav-key-legend'>space</div>
    </a>
</div>
  <div class='cursor-legend'>
    <input type='checkbox' id='capture-mouse' name="capture-mouse">
    <label for='capture-mouse'>Capture mouse cursor</label>
  </div>
  ${Zg()}
  <div class='cross'>+</div>
</div>`}function Zg(){return window.DeviceOrientationEvent&&"ontouchstart"in window?`<div class='device-orientation-legend'>
    <input type='checkbox' id='device-orientation' name="device-orientation">
    <label for='device-orientation'>Use device orientation</label>
  </div>`:""}function Jg(e){const t=`.${e}`;return`
${t} {
  position: fixed;
  bottom: 8px;
  left: 8px;
  font-family: 'Avenir', Helvetica, Arial, sans-serif
}
${t} * {
  box-sizing: border-box;
}
${t} label {
  color: white;
}
${t} .nav-key-legend {
  text-align: center;
  font-size: 14px;
}
${t} .navigation-row {
  display: flex;
}
${t} .item {
  width: 42px;
  height: 42px;
  margin: 2px;
}
${t} .navigation-btn {
  background: rgba(0,0,0,0.2);
  box-shadow: 0 2px 4px #000, 0 -1px 0 rgb(0 0 0 / 5%);
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  text-decoration: none;
  display: flex;
  width: 42px;
  flex-direction: column;
  color: #cecece;
}
${t} .navigation-btn.down {
  background: rgba(250,250,250,.2);
}
${t} .padded {
  margin-left: 10px;
}
${t} .navigation-btn.secondary {
  width: 42px;
  height: 42px;
  transform: scale(0.70);
}

${t} .navigation-btn.secondary svg {
  padding: 4px;
}
${t} .navigation-btn.secondary .nav-key-legend {
  color: #aaa;
}
${t} .navigation-btn.secondary.left {
  transform-origin: right bottom;
}
${t} .navigation-btn.secondary.right {
  transform-origin: left bottom;
}
${t} .navigation-btn.wide {
  width: 75px;
}
${t} .navigation-btn svg {
  fill: white;
  padding-top: 4px;
}
${t} .cursor-legend {
  margin-top: 8px;
  display: none;
}

${t} .cross {
  position: fixed;
  pointer-events: none;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 68px;
  color: white;
  display: none;
}
@media (pointer: fine) {
  ${t} .cursor-legend {
    display: block;
  }
}`}function ey(e,t,n=15){let r;return e.addEventListener("mousedown",o),e.addEventListener("touchstart",o),e.addEventListener("keydown",s),e.addEventListener("keyup",u),i;function i(){e.removeEventListener("mousedown",o),e.removeEventListener("touchstart",o),e.removeEventListener("keydown",s),e.removeEventListener("keyup",u),document.removeEventListener("mouseup",a),document.removeEventListener("touchend",f),document.removeEventListener("touchcancel",f),clearTimeout(r)}function o(d){d.preventDefault(),document.addEventListener("mouseup",a),document.addEventListener("touchend",f),document.addEventListener("touchcancel",f),l()}function l(){t(1),r=setTimeout(l,n)}function a(){c()}function s(d){d.which===13&&(t(1),d.preventDefault())}function u(d){d.which===13&&(t(0),d.preventDefault())}function f(){c()}function c(){clearTimeout(r),document.removeEventListener("mouseup",a),document.removeEventListener("touchend",f),document.removeEventListener("touchcancel",f),t(0)}}function ty(e,t={}){e.getCameraController();const n={redraw:Function.prototype,dispose:Function.prototype};let r=t.lineColor||196194594,i=t.maxAlpha||255,o=u(r),l=f(t.cursorColor||4294967295);return e.on("transform",s),{dispose:a,update:s};function a(){e.off("transform",s),o.dispose(),l.dispose()}function s(){o.redraw(),l.redraw()}function u(c){if(t.showGrid===!1)return n;let d=32*2,p=new Gr(2*(d+1),{width:2.5,is3D:!0,allowColors:!0});p.svgInvisible=!0;let g=new Gr(2*(d+1),{width:1.5,is3D:!0,allowColors:!0});g.svgInvisible=!0;const w=e.getDrawContext();let E=w.view.center;return v(),e.appendChild(g),e.appendChild(p),{redraw:v,dispose:m};function m(){e.removeChild(g),e.removeChild(p)}function h(S){return 1-(S-Math.floor(S))}function v(){let S=e.getDrawContext().view.position,y=S[0]-E[0],C=S[1]-E[1],k=S[2]-E[2],_=Math.sqrt(y*y+C*C+k*k)*Math.tan(w.fov/2),A=Math.log10(_),D=Math.pow(10,Math.floor(A)),F=h(A),z=Math.round(F*i),T=Math.floor(E[0]/D)*D-Math.floor(d*D/2),L=Math.floor(E[1]/D)*D-Math.floor(d*D/2),B=T+D*d,R=L+D*d;x(g,T,L,B,R,D,z),x(p,T,L,B,R,D*10,i-z)}function x(S,y,C,k,P,_,A){S.model[14]=E[2],S.worldTransformNeedsUpdate=!0,S.count=0;let D=c&4294967040|A,F=Math.ceil(C/_)*_;for(let T=F;T<=P;T+=_)S.add({from:{x:y,y:T,color:D},to:{x:k,y:T,color:D}});let z=Math.ceil(y/_)*_;for(let T=z;T<=k;T+=_)S.add({from:{x:T,y:C,color:D},to:{x:T,y:P,color:D}})}}function f(c){if(t.showCursor===!1)return n;let d=360,p=e.getDrawContext().view.center,g=e.getDrawContext().view.position,w=new Gr(d+1,{width:3,is3D:!0,allowColors:!0});w.svgInvisible=!0;let E,m=[];for(let x=0;x<=d;++x)m.push(w.add({from:{x:0,y:0,color:c},to:{x,y:x,color:c}}));return e.appendChild(w),v(),{redraw:v,dispose:h};function h(){e.removeChild(w)}function v(){let x=g[0]-p[0],S=g[1]-p[1],y=g[2]-p[2],C=Math.sqrt(x*x+S*S+y*y);C*=.025;for(let k=0;k<=d+1;++k){let P=k/d*2*Math.PI;if(k===0){E={x:C*Math.cos(P),y:C*Math.sin(P),color:c};continue}let _={x:C*Math.cos(P),y:C*Math.sin(P),color:c};m[k-1].update(E,_),E=_}w.model[12]=p[0],w.model[13]=p[1],w.model[14]=p[2],w.worldTransformNeedsUpdate=!0}}}const ny={mat4:"uniformMatrix4fv",mat3:"uniformMatrix3fv",mat2:"uniformMatrix2fv",vec4:"uniform4fv",vec3:"uniform3fv",vec2:"uniform2fv",float:"uniform1f",bool:"uniform1i",int:"uniform1i"};class ry{constructor(t,n){N(this,"name");N(this,"functionName");N(this,"location");let r=ny[n];if(!r)throw new Error("Function name for uniform is required");this.name=t,this.functionName=r,this.location=`${this.name}UniformLocation`}getInitBlockForDraw(){return`let ${this.location} = gl.getUniformLocation(program, '${this.name}');`}getDraw(){return this.functionName.indexOf("Matrix")>-1?`gl.${this.functionName}(${this.location}, false, uniforms.${this.name});`:`gl.${this.functionName}(${this.location}, uniforms.${this.name});`}}class ns{constructor(t,n=0){N(this,"name");N(this,"offset");N(this,"variableName");N(this,"ready");N(this,"location");N(this,"isTexture");this.name=t,this.offset=n,this.variableName=`${t}Texture`,this.ready=`${this.variableName}Ready`,this.location=`${this.name}UniformLocation`,this.isTexture=!0}getInitBlockForDraw(){return`
  let ${this.location} = gl.getUniformLocation(program, '${this.name}');
  let ${this.variableName} = gl.createTexture();
  let ${this.ready} = false;
`}getTextureInitCanvasBlock(){return`
  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);
  gl.bindTexture(gl.TEXTURE_2D, ${this.variableName});
  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureCanvas);
  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
  gl.bindTexture(gl.TEXTURE_2D, null);
  ${this.ready} = true`}getDraw(){return`
    gl.activeTexture(gl.TEXTURE${this.offset});
    gl.bindTexture(gl.TEXTURE_2D, ${this.variableName});
    gl.uniform1i(${this.location}, ${this.offset});
`}}class cu{constructor(){N(this,"type");N(this,"debug");N(this,"bufferViewType");N(this,"count");N(this,"name");N(this,"bytePerElement");this.type="gl.FLOAT",this.debug=!1,this.bufferViewType="Float32Array",this.count=1,this.name=void 0,this.bytePerElement=4}setName(t){this.name=t}getInitBlockForBuffer(t){return this.ensureNameIsSet(),`${t?"let ":""}${this.name}Array = new ${this.bufferViewType}(buffer);`}getInitBlockForDraw(){this.ensureNameIsSet();let{name:t}=this;return`let ${t}AttributeLocation = gl.getAttribLocation(program, '${t}');`}getAddBlock(t,n){throw new Error("Concrete types have to implement this")}getMoveBlock(t,n){throw new Error("Concrete type have to implement `getMoveBlock`")}getGetBlock(t){throw new Error("Concrete types have to implement `getGetBlock`")}getDivisor(t){this.ensureNameIsSet();let n=`${this.name}AttributeLocation`;return`if (${n} > -1) gle.vertexAttribDivisorANGLE(${n}, ${t});`}getDraw(t,n){this.ensureNameIsSet();let r=`${this.name}AttributeLocation`;return`
    gl.enableVertexAttribArray(${r});
    gl.vertexAttribPointer(${r}, ${this.count}, ${this.type}, false, ${t}, ${n});`}ensureNameIsSet(){if(!this.name)throw new Error("You have to call setName() before using attributes")}}class so extends cu{constructor(t){super(),this.count=t}getAddBlock(t,n=`
`){let r=this.name,i=`${r}Array`,o=[];this.debug&&o.push(`if (item.${r} === undefined) throw new Error('Attribute "${r}" is missing');
`);for(let l=0;l<this.count;++l){let a=`item.${r}[${l}]`;this.debug&&o.push(`if (${a} === undefined) throw new Error('Attribute "${r}" is missing value at index ${l}');
`),o.push(`${i}[index + ${t+l}] = ${a};`)}return{code:o.join(n),offset:t+this.count}}getMoveBlock(t,n=`
`){let i=`${this.name}Array`,o=[];for(let l=0;l<this.count;++l)o.push(`${i}[to + ${t+l}] = ${i}[from + ${t+l}];`);return o.join(n)}getGetBlock(t){let n=`${this.name}Array`,r=[];for(let i=0;i<this.count;++i)r.push(`${n}[index + ${t+i}]`);return`${this.name}: [${r.join(", ")}]`}}class Jh extends cu{getAddBlock(t){let n=this.name,r=`${n}Array`,i="";return this.debug&&(i=`if (item.${n} === undefined) throw new Error('Attribute "${n}" is missing');`),i+=`${r}[index + ${t}] = item.${n};`,{code:i,offset:t+this.count}}getMoveBlock(t,n=`
`){let i=`${this.name}Array`,o="";return o+=`${i}[to + ${t}] = ${i}[from + ${t}];${n}`,o}getGetBlock(t){return`${this.name}: ${this.name}Array[index + ${t}]`}}const rc={vec4:()=>new so(4),vec3:()=>new so(3),vec2:()=>new so(2),float:()=>new Jh};function iy(e,t){let n=[],r=[],i=oy(e.vertex,e.fragment,t);i.attributes.forEach(u=>{const{name:f,type:c}=u;let d=e.attributes&&e.attributes[f];if(!d&&typeof rc[c]=="function"&&(d=rc[c]()),!d)throw console.error(`Unknown type ${c} for ${f}`),new Error(`Unknown type ${c} for ${f}`);d.debug=e&&e.debug||!1,d.setName(f);let p=e.instanced&&e.instanced[f];p?(p.setTypeDefinition(d),r.push(p)):n.push(d)});let o=[],l=0;i.uniforms.forEach(u=>{const f=u.name;u.type==="sampler2D"?o.push(new ns(f,l++)):o.push(new ry(f,u.type))});let a=0,s=0;if(n.forEach(u=>{s+=u.count,a+=u.count*u.bytePerElement}),e.attributeLayout){let u=new Map;e.attributeLayout.forEach((f,c)=>u.set(f,c)),n.sort((f,c)=>u.get(f.name)-u.get(c.name))}return{bytePerVertex:a,itemPerVertex:s,attributes:n,instanced:r,uniforms:o}}function oy(e,t,n){let r=n?/in\s+(.+);/:/attribute\s+(.+);/,i=/uniform\s+(.+);/,o=[],l=[];return e.split(`
`).forEach(s=>{let u=s.match(r);if(u&&!s.trim().startsWith("//")){a(u[1],o);return}let f=s.match(i);if(f&&!s.trim().startsWith("//")){a(f[1],l);return}}),t.split(`
`).forEach(s=>{let u=s.match(i);u&&a(u[1],l)}),{attributes:o,uniforms:l};function a(s,u){let f=s.replace(/,/g," ").split(" ").filter(d=>d),c=f[0];for(let d=1;d<f.length;++d){let p=f[d];u.find(g=>g.name===p)||u.push({type:c,name:p})}}}class ly{constructor(){N(this,"api");N(this,"init");N(this,"bufferInit");N(this,"implementation");N(this,"attributesDrawBlock");this.api=[],this.init=[],this.implementation=[],this.bufferInit=[]}addToInit(t){t&&this.init.push(t)}addBufferInit(t){t&&this.bufferInit.push(t)}addToAPI(t){t&&this.api.push(t)}addToImplementation(t){t&&this.implementation.push(t)}setAttributesDrawBlock(t){this.attributesDrawBlock=t}link(){let t=[];return this.init.forEach(n),n("  return {"),this.api.forEach(n),n("  };"),this.implementation.forEach(n),t.join(`
`);function n(r){Array.isArray(r)?t.push(r.join(`
    `)):t.push(r)}}}function ep(e){let t=e.gl,n=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext,r=iy(e,n),i=v(e.vertex,e.fragment),o=e.preDrawHook||ic,l=e.postDrawHook||ic,a=f(r),s=a.link(),u=new Function("gl","program",s)(t,i);return e.debug&&(console.log("Compiled code: "),console.log(s)),u.getCode=()=>a,u.dispose=()=>{t.deleteProgram(i)},u;function f(S){let y=new ly;return w(S,y),e.sourceBuffer?c(S,y):(E(S,y),d(S,y)),p(S,y),g(S,y),y}function c(S,y){y.addToInit(["let glBuffer;",""]),y.addToAPI(["setGLBuffer: (newBuffer) => glBuffer = newBuffer,"])}function d(S,y){y.addToInit(["let glBuffer = gl.createBuffer();","if (!glBuffer) throw new Error('failed to create a WebGL buffer');",""]),y.addToAPI(["getGLBuffer: () => glBuffer,"])}function p(S,y){let{uniforms:C}=S,k=[];if(C.forEach(A=>{A instanceof ns&&k.push(A)}),!k.length)return;y.addToAPI("setTextureCanvas: setTextureCanvas,");let P=k.map(A=>`
      case '${A.name}': {
        ${A.getTextureInitCanvasBlock()}
        return;
      }
      `);y.addToImplementation(`
  function setTextureCanvas(textureName, textureCanvas) {
    switch(textureName) {
      ${P.join(`
      `)}
    }
    throw new Error('Unknown texture name: ' + textureName);
  }
`);const _=k.map(A=>`case '${A.name}': return ${A.variableName};`);y.addToAPI("getTextureByName: getTextureByName,"),y.addToImplementation(`
  function getTextureByName(textureName) {
    switch(textureName) {
      ${_.join(`
      `)}
    }
    throw new Error('Unknown texture name: ' + textureName);
  }
`)}function g(S,y){let{attributes:C,instanced:k,uniforms:P,bytePerVertex:_,itemPerVertex:A}=S,D=e.sourceBuffer&&e.sourceBuffer.getCode();D?(y.addToInit(D.bufferInit),y.addBufferInit(D.bufferInit)):C.forEach(L=>{let B="  "+L.getInitBlockForDraw();y.addToInit(B),y.addBufferInit(B)});let F=[];P.forEach(L=>{y.addToInit("  "+L.getInitBlockForDraw()),L instanceof ns&&F.push(L)}),k.length&&(y.addToInit(`  let gle = gl.getExtension('ANGLE_instanced_arrays');
  if (!gle) {
    // Not sure if this is going to be an error, given instancing is widely supported. But
    // If you get this error please ping me so that we can find a fallback solution
    throw new Error('Instanced collection requires instancing support. Please ping @anvaka so that we can add fallback');
  }
`),k.forEach(L=>{y.addToInit("  "+L.getInitBlock())}));let z=[];if(D)z=D.attributesDrawBlock;else{let L=0;C.forEach(B=>{z.push(B.getDraw(_,L)),L+=B.count*B.bytePerElement})}y.setAttributesDrawBlock(z),y.addToImplementation(T()),y.addToAPI(["draw: draw,"]);function T(){let L=P.map(X=>X.getDraw()),B=[],R=[],b=[];k.forEach(X=>{B.push(X.getDraw()),R.push(X.getDivisor(0)),b.push(X.getDivisor(0))});let M=[];return k.length?(C.forEach(X=>{R.push(X.getDivisor(1)),b.push(X.getDivisor(0))}),M.push(R.join(`
    `)),M.push("gle.drawArraysInstancedANGLE(gl.TRIANGLES, 0, 6, count)"),M.push(b.join(`
    `))):M.push("gl.drawArrays(gl.TRIANGLES, 0, count)"),` 
  function draw(uniforms, from, to) {
    ${U()}
    ${W()}
    ${o(S)}

    gl.useProgram(program);
    ${L.join(`
    `)}
    ${B.join(`
    `)}

    gl.bindBuffer(gl.ARRAY_BUFFER, glBuffer);
    ${I()}

    ${z.join(`
    `)}
    ${M.join(`
    `)}

    ${l(S)}
  }`;function I(){return e.sourceBuffer?"":`  if (isDirty) {
          gl.bufferData(gl.ARRAY_BUFFER, buffer, gl.DYNAMIC_DRAW);
          isDirty = false;
        }`}function U(){return"if (count === 0) return;"}function W(){return F.length===0?"":F.map(X=>`if (!${X.ready}) return;`).join(`
    `)}}}function w(S,y){y.addToInit(["  var count = 0;"]),y.addToAPI(["setCount: (newCount) => count = newCount,","getCount: () => count,"])}function E(S,y){let{attributes:C,bytePerVertex:k,itemPerVertex:P}=S;y.addToInit([`var bytePerVertex = ${k};`,`var itemPerVertex = ${P};`,`var capacity = ${(e.capacity||1)*k};`,"var buffer = new ArrayBuffer(capacity);","","var isDirty = true;","var dirtyOffset = 0;"]),C.forEach(A=>{y.addToInit(A.getInitBlockForBuffer(!0))}),y.addToAPI(["add: add,","get: get,","update: update,","remove: remove,","getBuffer: getBuffer,","appendBuffer: appendBuffer,"]),y.addToImplementation(_());function _(){let A=[],D=[],F=[],z=[],T=0;return C.forEach(L),`
  function add(item) {
    if (count * bytePerVertex >= capacity) {
      extend();
    }

    var index = count * itemPerVertex;

    ${A.join("")}

    isDirty = true;
    return count++;
  }

  function update(index, item) {
    ${m()}
    index *= itemPerVertex;
    ${A.join(`
    `)}
    isDirty = true;
  }

  function remove(index) {
    ${h()}
    isDirty = true;
    count -= 1;
    if (count <= 0) {
      count = 0;
      return count; // last element removed
    }
    // move last element to take this element's position
    var from = count * itemPerVertex;
    var to = index * itemPerVertex;
    for (var i = 0; i < itemPerVertex; ++i) {
      ${F.join(`
`)}
    }

    return count;
  }

  function get(index) {
    index *= itemPerVertex; 
    return {
      ${D.join(`,
      `)}
    };
  }

  function extend() {
    var oldBuffer = buffer;
    capacity *= 2;
    buffer = new ArrayBuffer(capacity);
    // Copy old buffer to the new buffer
    new Uint8Array(buffer).set(new Uint8Array(oldBuffer));
    // And re-assign views:
    ${z.join(`
    `)}
  }

  function getBuffer() {
    return buffer.slice(0, count * bytePerVertex);
  }

  function appendBuffer(uint8Collection, byteOffset) {
    var requiredCapacity = byteOffset + uint8Collection.byteLength;
    if (requiredCapacity > capacity) {
      // extend the buffer to fulfill the request:
      let oldBuffer = buffer;
      buffer = new ArrayBuffer(requiredCapacity);
      new Uint8Array(buffer).set(new Uint8Array(oldBuffer));
      capacity = requiredCapacity;
    }

    var view = new Uint8Array(buffer);
    view.set(uint8Collection, byteOffset);
    count = Math.floor(requiredCapacity / bytePerVertex);

    ${z.join(`
    `)}

    isDirty = true;
  }
`;function L(B){let R=B.getInitBlockForBuffer(!1);R&&z.push(R);let b=B.getAddBlock(T,`
    `);A.push(b.code),F.push(B.getMoveBlock(T,`
    `)),D.push(B.getGetBlock(T)),T=b.offset}}}function m(){return e.debug?`
    if (!Number.isFinite(index)) throw new Error('update() requires integer value for "index", got: ' + index);
    if (index < 0 || index >= count) throw new Error('update(' + index + ') is outside of [0..' + count + ') range');
`:""}function h(){return e.debug?`
    if (!Number.isFinite(index)) throw new Error('remove() requires integer value for "index", got: ' + index);
    if (index < 0 || index >= count) throw new Error('remove(' + index + ') is outside of [0..' + count + ') range');
`:""}function v(S,y){const C=x(t.VERTEX_SHADER,S),k=x(t.FRAGMENT_SHADER,y),P=t.createProgram();if(!P)throw new Error("Failed to link a program");if(t.attachShader(P,C),t.attachShader(P,k),t.linkProgram(P),!t.getProgramParameter(P,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(P)||"Failed to link a program");return P}function x(S,y){const C=t.createShader(S);if(!C)throw new Error("Failed to create a shared "+y);if(t.shaderSource(C,y),t.compileShader(C),!t.getShaderParameter(C,t.COMPILE_STATUS))throw console.error(t.getShaderInfoLog(C)),new Error(t.getShaderInfoLog(C)||"Failed to compile shader "+y);return C}}function ic(){return""}class ay extends cu{constructor(){super(),this.type="gl.UNSIGNED_BYTE",this.bufferViewType="Uint32Array"}getAddBlock(t){let n=`${this.name}Array`,r="";return this.debug&&(r=`if (item.${this.name} === undefined) throw new Error('Attribute "${this.name}" is missing');
`),r+=`${n}[index + ${t}] = item.${this.name};`,{code:r,offset:t+this.count}}getMoveBlock(t,n=`
`){let i=`${this.name}Array`,o="";return o+=`${i}[to + ${t}] = ${i}[from + ${t}];${n}`,o}getGetBlock(t){return`${this.name}: ${this.name}Array[index + ${t}]`}getDraw(t,n){let r=`${this.name}AttributeLocation`;return`
    if (${r} > -1) {
      gl.enableVertexAttribArray(${r});
      gl.vertexAttribPointer(${r}, 4, ${this.type}, true, ${t}, ${n});
    }`}}class sy{constructor(t){N(this,"bufferValues");N(this,"typeDef");this.bufferValues=t,this.typeDef=void 0}setTypeDefinition(t){this.typeDef=t}getInitBlock(){let{name:t}=this.typeDef;return`
  const ${t}InstancedBuffer = gl.createBuffer();
  if (!${t}InstancedBuffer) throw new Error('failed to create a WebGL buffer');
  const ${t}InstancedBufferValues = new Float32Array([${this.bufferValues.join(",")}]);
  let ${t}AttributeLocation = gl.getAttribLocation(program, '${t}');
`}getDivisor(t){return this.typeDef.getDivisor(t)}getDraw(){let{typeDef:t}=this,n=t.name;return`
  gl.bindBuffer(gl.ARRAY_BUFFER, ${n}InstancedBuffer);
  gl.bufferData(gl.ARRAY_BUFFER, ${n}InstancedBufferValues, gl.STATIC_DRAW);

  gl.enableVertexAttribArray(${n}AttributeLocation);
  gl.vertexAttribPointer(${n}AttributeLocation, ${t.count}, gl.FLOAT, false, 0, 0);
`}}class tp extends gn{constructor(n){super();N(this,"uniforms");N(this,"program");this.program=n,this.uniforms=void 0}getBuffer(){return this.program.getBuffer()}appendBuffer(n,r){this.program.appendBuffer(n,r),this.scene&&this.scene.renderFrame()}add(n){return this.program.add(n)}update(n,r){this.program.update(n,r)}remove(n){return this.program.remove(n)}get(n){return this.program.get(n)}draw(n,r){this.uniforms||(this.uniforms={projectionMatrix:r.projection,model:this.worldModel,view:r.view.matrix,modelViewProjection:this.modelViewProjection}),this.program.draw(this.uniforms)}dispose(){super.dispose(),this.program&&this.program.dispose()}}function ne(e){return Math.abs(e)<1e-10?0:e}class uy extends tp{constructor(n){let r=ep({gl:n,vertex:`
  uniform mat4 modelViewProjection;
  attribute vec3 point;

  void main() {
    gl_Position = modelViewProjection * vec4(point, 1.0);
  }`,fragment:`
      precision highp float;
      void main() {
        gl_FragColor = vec4(0., 0., 0., 0.);
      }`,preDrawHook(){return`gl.disable(gl.BLEND);
          gl.enable(gl.DEPTH_TEST);
          gl.depthFunc(gl.LEQUAL);`},postDrawHook(){return"gl.enable(gl.BLEND); gl.disable(gl.DEPTH_TEST);"}});super(r);N(this,"domElementToPoints");N(this,"uiIDToUI");this.domElementToPoints=new Map,this.uiIDToUI=new Map}appendFromDomElement(n){let r=Number.parseFloat(n.el.style.width),i=Number.parseFloat(n.el.style.height),o=[[-r/2,-i/2,0],[r/2,-i/2,0],[r/2,i/2,0],[r/2,i/2,0],[-r/2,i/2,0],[-r/2,-i/2,0]];n.updateWorldTransform();const l=o.map(a=>{const s=pr([0,0,0],a,n.worldModel);let u={original:a,point:s,uiId:-1};return u.uiId=this.add(u),this.uiIDToUI.set(u.uiId,u),u});this.domElementToPoints.set(n,l),n.on("update-transform",this.updateDOMElementTransform,this),n.on("disposed",this.disposeDomElement,this)}disposeDomElement(n){let r=this.domElementToPoints.get(n);if(!r)throw new Error("Unknown dom element requested to be disposed");r.forEach(i=>{let o=i.uiId,l=this.remove(o),a=this.uiIDToUI.get(l);if(!a)throw new Error("Cannot find moved vertex ui");this.uiIDToUI.delete(l),l!==o&&(a.uiId=o,this.uiIDToUI.set(o,a))}),n.off("update-transform",this.updateDOMElementTransform),n.off("disposed",this.disposeDomElement),this.domElementToPoints.delete(n)}updateDOMElementTransform(n){let r=this.domElementToPoints.get(n);if(!r)throw new Error("Unknown dom element requested transform update");r.forEach(i=>{pr(i.point,i.original,n.worldModel),this.update(i.uiId,i)})}clear(){this.program.setCount(0)}}class np extends gn{constructor(n){super();N(this,"container");N(this,"camera");N(this,"bound");N(this,"seeThrough");N(this,"lastCameraTransform");N(this,"seeThroughQuads");this.container=document.createElement("div"),this.container.style.overflow="hidden",this.camera=document.createElement("div"),this.camera.style.transformStyle="preserve-3d",this.camera.style.pointerEvents="none",this.camera.style.position="relative",this.container.appendChild(this.camera),this.container.style.pointerEvents="none",this.bound=!1,this.lastCameraTransform="",this.seeThrough=n&&typeof n.seeThrough<"u"?n.seeThrough:!1}bindScene(n){if(n){let r=n.getDrawContext(),i=r.canvas.parentElement;if(!i)throw new Error("Scene does not have a parent element");this.seeThrough?i.insertBefore(this.container,r.canvas):i.append(this.container),this.bound=!0}else this.container.parentElement&&this.container.parentElement.removeChild(this.container),this.bound=!1,this.seeThroughQuads&&this.seeThroughQuads.parent&&this.seeThroughQuads.parent.removeChild(this.seeThroughQuads);super.bindScene(n)}acceptDomChild(n){if(this.camera.appendChild(n.el),!!this.seeThrough){if(!this.scene)throw new Error("Scene should be available at this point!");this.seeThroughQuads||(this.seeThroughQuads=new uy(this.scene.getGL()),this.scene.appendChild(this.seeThroughQuads)),this.seeThroughQuads.appendFromDomElement(n)}}draw(n,r){this.bound&&(this._updateCameraTransforms(r),super.draw(n,r))}_updateCameraTransforms(n){let r=n.projection[5]*n.height/(2*n.pixelRatio),i=n.width/n.pixelRatio,o=n.height/n.pixelRatio,l="translateZ("+r+"px)"+fy(n.view.matrix)+"translate("+i/2+"px,"+o/2+"px)";this.lastCameraTransform!=l&&(this.lastCameraTransform=l,this.camera.style.transform=this.lastCameraTransform,this.camera.style.width=i+"px",this.camera.style.height=o+"px",this.container.style.width=i+"px",this.container.style.height=o+"px",this.container.style.perspective=r+"px")}}function fy(e){return"matrix3d("+ne(e[0])+","+ne(-e[1])+","+ne(e[2])+","+ne(e[3])+","+ne(e[4])+","+ne(-e[5])+","+ne(e[6])+","+ne(e[7])+","+ne(e[8])+","+ne(-e[9])+","+ne(e[10])+","+ne(e[11])+","+ne(e[12])+","+ne(-e[13])+","+ne(e[14])+","+ne(e[15])+")"}class cy extends gn{constructor(n){super();N(this,"el");N(this,"lastTransform");this.lastTransform="",this.el=document.createElement("div");let r=this.el.style;if(r.position="absolute",r.pointerEvents="initial",n){let i=this.el.style;Object.keys(n).forEach(o=>{i[o]=n[o]})}ul(this)}updateWorldTransform(n){let r=super.updateWorldTransform(n);return r&&this.fire("update-transform",this),r}bindScene(n){if(n){let r=rp(this);if(!r)throw new Error("DomElement should be part of DomContainer hierarchy");r.acceptDomChild(this)}else this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.fire("disposed",this));super.bindScene(n)}draw(){let n=dy(this.worldModel);n!==this.lastTransform&&(this.el.style.transform=n,this.lastTransform=n)}dispose(){this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}function dy(e){return"translate(-50%,-50%)"+("matrix3d("+ne(e[0])+","+ne(e[1])+","+ne(e[2])+","+ne(e[3])+","+ne(-e[4])+","+ne(-e[5])+","+ne(-e[6])+","+ne(-e[7])+","+ne(e[8])+","+ne(e[9])+","+ne(e[10])+","+ne(e[11])+","+ne(e[12])+","+ne(e[13])+","+ne(e[14])+","+ne(e[15])+")")}function rp(e){return e instanceof np?e:e.parent&&rp(e.parent)}const hy=Object.freeze(Object.defineProperty({__proto__:null,ColorAttribute:ay,DomContainer:np,DomElement:cy,Element:gn,FloatAttribute:so,GLCollection:tp,InstancedAttribute:sy,LineStripCollection:Ng,NumberAttribute:Jh,PointCollection:kg,WireCollection:Gr,createFPSControlsUI:Qg,createGuide:ty,createScene:Ja,defineProgram:ep,fpsControls:Xg,isWebGLEnabled:Ig,mapControls:qh,scene:Ja,toSVG:Zh,utils:Re},Symbol.toStringTag,{value:"Module"}));function py(e,t){const n=e.getRenderer(),r={open(){return`<!-- Generator: https://github.com/anvaka/city-roads
Data  OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright
-->`},close(){return o()}};return t.minLength&&(r.beforeWrite=l=>{let a=0;for(let s=1;s<l.length;++s)if(a+=Math.hypot(l[s].x-l[s-1].x,l[s].y-l[s-1].y),a>t.minLength)return!0;return a>t.minLength}),r.round=t.round,Zh(n,r);function o(){let l=n.getPixelRatio();return t.printable.map(a=>{if(a.element instanceof SVGSVGElement){let s=a.bounds,u=a.element;u.setAttribute("x",s.left*l),u.setAttribute("y",s.top*l),u.setAttribute("width",s.width*l),u.setAttribute("height",s.height*l);let f=new XMLSerializer().serializeToString(a.element);return u.removeAttribute("x"),u.removeAttribute("y"),u.removeAttribute("width"),u.removeAttribute("height"),f}else{let s=a;if(!s.text)return;let u=s.text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),f=s.bounds,c=(f.right-s.paddingRight)*l,d=(f.bottom-s.paddingBottom)*l,p=s.fontSize*l,g=s.fontFamily.replace(/"/g,"'");return`<text text-anchor="end" x="${c}" y="${d}" fill="${s.color}" font-family="${g}" font-size="${p}">${u}</text>`}}).filter(a=>a).join(`
`)}}function vy(e,t){t=t||{};let n=py(e,{printable:op(),...t}),r=new Blob([n],{type:"image/svg+xml"}),i=window.URL.createObjectURL(r),o=ip(t.name,".svg");setTimeout(()=>{let l=document.createElement("a");l.href=i,l.download=o,l.click(),lp(i)},30)}function my(e,t){t=t||{},gy(e).then(n=>{let r=ip(t.name,".png");n.toBlob(function(i){let o=window.URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download=r,l.click(),lp(o)},"image/png")})}function gy(e){let t=rs(),n=t.width,r=t.height,i=document.createElement("canvas"),o=i.getContext("2d");return i.width=n,i.height=r,e.render(),o.drawImage(t,0,0,t.width,t.height,0,0,n,r),Promise.all(op().map(l=>wy(l,o))).then(()=>i)}function rs(){return document.querySelector("#canvas")}function ip(e,t){return yy(e||new Date().toISOString())+(t||"")}function yy(e){return e?e.replace(/[#%&{}\\/?*><$!'":@+`|=]/g,"_"):""}function wy(e,t){return e?new Promise((n,r)=>{let i=window.devicePixelRatio||1;if(e.element instanceof SVGSVGElement){let o=e.element,l=e.bounds,a=new Image;a.width=l.width*i,a.height=l.height*i,a.onload=()=>{t.drawImage(a,l.left*i,l.top*i,a.width,a.height),o.removeAttribute("width"),o.removeAttribute("height"),n()},o.setAttribute("width",a.width),o.setAttribute("height",a.height),a.src="data:image/svg+xml;base64,"+btoa(new XMLSerializer().serializeToString(o))}else t.save(),t.font=i*e.fontSize+"px "+e.fontFamily,t.fillStyle=e.color,t.textAlign="end",t.fillText(e.text,(e.bounds.right-e.paddingRight)*i,(e.bounds.bottom-e.paddingBottom)*i),t.restore(),n()}):Promise.resolve()}function op(){return Array.from(document.querySelectorAll(".printable")).map(e=>{let t=window.getComputedStyle(e),n=e.getBoundingClientRect(),r=Number.parseInt(t.fontSize,10),i=Number.parseInt(t.paddingRight,10),o=Number.parseInt(t.paddingBottom,10)*2;return{text:e.innerText,bounds:n,fontSize:r,paddingBottom:o,paddingRight:i,color:t.color,fontFamily:t.fontFamily,fill:t.color,element:e}})}function lp(e){setTimeout(()=>{window.URL.revokeObjectURL(e)},45e3)}const Ql=Js({});function Vo(e){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(e)}var xy=/^\s+/,Ey=/\s+$/;function V(e,t){if(e=e||"",t=t||{},e instanceof V)return e;if(!(this instanceof V))return new V(e,t);var n=Sy(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}V.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,o,l,a;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?l=r/12.92:l=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*l+.0722*a},setAlpha:function(t){return this._a=ap(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=lc(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=lc(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=oc(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=oc(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return ac(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return Ty(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(he(this._r,255)*100)+"%",g:Math.round(he(this._g,255)*100)+"%",b:Math.round(he(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(he(this._r,255)*100)+"%, "+Math.round(he(this._g,255)*100)+"%, "+Math.round(he(this._b,255)*100)+"%)":"rgba("+Math.round(he(this._r,255)*100)+"%, "+Math.round(he(this._g,255)*100)+"%, "+Math.round(he(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:$y[ac(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+sc(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var o=V(t);r="#"+sc(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return o?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return V(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Ly,arguments)},brighten:function(){return this._applyModification(Ry,arguments)},darken:function(){return this._applyModification(Ny,arguments)},desaturate:function(){return this._applyModification(Py,arguments)},saturate:function(){return this._applyModification(Ay,arguments)},greyscale:function(){return this._applyModification(My,arguments)},spin:function(){return this._applyModification(Iy,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Oy,arguments)},complement:function(){return this._applyCombination(Dy,arguments)},monochromatic:function(){return this._applyCombination(zy,arguments)},splitcomplement:function(){return this._applyCombination(Fy,arguments)},triad:function(){return this._applyCombination(uc,[3])},tetrad:function(){return this._applyCombination(uc,[4])}};V.fromRatio=function(e,t){if(Vo(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Dr(e[r]));e=n}return V(e,t)};function Sy(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,l=!1,a=!1;return typeof e=="string"&&(e=jy(e)),Vo(e)=="object"&&(Dt(e.r)&&Dt(e.g)&&Dt(e.b)?(t=Cy(e.r,e.g,e.b),l=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Dt(e.h)&&Dt(e.s)&&Dt(e.v)?(r=Dr(e.s),i=Dr(e.v),t=_y(e.h,r,i),l=!0,a="hsv"):Dt(e.h)&&Dt(e.s)&&Dt(e.l)&&(r=Dr(e.s),o=Dr(e.l),t=ky(e.h,r,o),l=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=ap(n),{ok:l,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function Cy(e,t,n){return{r:he(e,255)*255,g:he(t,255)*255,b:he(n,255)*255}}function oc(e,t,n){e=he(e,255),t=he(t,255),n=he(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,l,a=(r+i)/2;if(r==i)o=l=0;else{var s=r-i;switch(l=a>.5?s/(2-r-i):s/(r+i),r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4;break}o/=6}return{h:o,s:l,l:a}}function ky(e,t,n){var r,i,o;e=he(e,360),t=he(t,100),n=he(n,100);function l(u,f,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?u+(f-u)*6*c:c<1/2?f:c<2/3?u+(f-u)*(2/3-c)*6:u}if(t===0)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=l(s,a,e+1/3),i=l(s,a,e),o=l(s,a,e-1/3)}return{r:r*255,g:i*255,b:o*255}}function lc(e,t,n){e=he(e,255),t=he(t,255),n=he(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,l,a=r,s=r-i;if(l=r===0?0:s/r,r==i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4;break}o/=6}return{h:o,s:l,v:a}}function _y(e,t,n){e=he(e,360)*6,t=he(t,100),n=he(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),l=n*(1-i*t),a=n*(1-(1-i)*t),s=r%6,u=[n,l,o,o,a,n][s],f=[a,n,n,l,o,o][s],c=[o,o,a,n,n,l][s];return{r:u*255,g:f*255,b:c*255}}function ac(e,t,n,r){var i=[Ct(Math.round(e).toString(16)),Ct(Math.round(t).toString(16)),Ct(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Ty(e,t,n,r,i){var o=[Ct(Math.round(e).toString(16)),Ct(Math.round(t).toString(16)),Ct(Math.round(n).toString(16)),Ct(sp(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function sc(e,t,n,r){var i=[Ct(sp(r)),Ct(Math.round(e).toString(16)),Ct(Math.round(t).toString(16)),Ct(Math.round(n).toString(16))];return i.join("")}V.equals=function(e,t){return!e||!t?!1:V(e).toRgbString()==V(t).toRgbString()};V.random=function(){return V.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Py(e,t){t=t===0?0:t||10;var n=V(e).toHsl();return n.s-=t/100,n.s=hl(n.s),V(n)}function Ay(e,t){t=t===0?0:t||10;var n=V(e).toHsl();return n.s+=t/100,n.s=hl(n.s),V(n)}function My(e){return V(e).desaturate(100)}function Ly(e,t){t=t===0?0:t||10;var n=V(e).toHsl();return n.l+=t/100,n.l=hl(n.l),V(n)}function Ry(e,t){t=t===0?0:t||10;var n=V(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),V(n)}function Ny(e,t){t=t===0?0:t||10;var n=V(e).toHsl();return n.l-=t/100,n.l=hl(n.l),V(n)}function Iy(e,t){var n=V(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,V(n)}function Dy(e){var t=V(e).toHsl();return t.h=(t.h+180)%360,V(t)}function uc(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=V(e).toHsl(),r=[V(e)],i=360/t,o=1;o<t;o++)r.push(V({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function Fy(e){var t=V(e).toHsl(),n=t.h;return[V(e),V({h:(n+72)%360,s:t.s,l:t.l}),V({h:(n+216)%360,s:t.s,l:t.l})]}function Oy(e,t,n){t=t||6,n=n||30;var r=V(e).toHsl(),i=360/n,o=[V(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(V(r));return o}function zy(e,t){t=t||6;for(var n=V(e).toHsv(),r=n.h,i=n.s,o=n.v,l=[],a=1/t;t--;)l.push(V({h:r,s:i,v:o})),o=(o+a)%1;return l}V.mix=function(e,t,n){n=n===0?0:n||50;var r=V(e).toRgb(),i=V(t).toRgb(),o=n/100,l={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return V(l)};V.readability=function(e,t){var n=V(e),r=V(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};V.isReadable=function(e,t,n){var r=V.readability(e,t),i,o;switch(o=!1,i=Vy(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};V.mostReadable=function(e,t,n){var r=null,i=0,o,l,a,s;n=n||{},l=n.includeFallbackColors,a=n.level,s=n.size;for(var u=0;u<t.length;u++)o=V.readability(e,t[u]),o>i&&(i=o,r=V(t[u]));return V.isReadable(e,r,{level:a,size:s})||!l?r:(n.includeFallbackColors=!1,V.mostReadable(e,["#fff","#000"],n))};var is=V.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},$y=V.hexNames=By(is);function By(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ap(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function he(e,t){by(e)&&(e="100%");var n=Uy(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function hl(e){return Math.min(1,Math.max(0,e))}function et(e){return parseInt(e,16)}function by(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Uy(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Ct(e){return e.length==1?"0"+e:""+e}function Dr(e){return e<=1&&(e=e*100+"%"),e}function sp(e){return Math.round(parseFloat(e)*255).toString(16)}function fc(e){return et(e)/255}var yt=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Dt(e){return!!yt.CSS_UNIT.exec(e)}function jy(e){e=e.replace(xy,"").replace(Ey,"").toLowerCase();var t=!1;if(is[e])e=is[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=yt.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=yt.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=yt.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=yt.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=yt.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=yt.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=yt.hex8.exec(e))?{r:et(n[1]),g:et(n[2]),b:et(n[3]),a:fc(n[4]),format:t?"name":"hex8"}:(n=yt.hex6.exec(e))?{r:et(n[1]),g:et(n[2]),b:et(n[3]),format:t?"name":"hex"}:(n=yt.hex4.exec(e))?{r:et(n[1]+""+n[1]),g:et(n[2]+""+n[2]),b:et(n[3]+""+n[3]),a:fc(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=yt.hex3.exec(e))?{r:et(n[1]+""+n[1]),g:et(n[2]+""+n[2]),b:et(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function Vy(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const Jt={areaServer:"https://city-roads.s3-us-west-2.amazonaws.com/nov-02-2020",getDefaultLineColor(){return V("rgba(26, 26, 26, 0.8)")},getLabelColor(){return V("#161616")},getBackgroundColor(){return V("#F7F2E8")}};let cc=0;class up{get color(){return this._color}set color(t){let n=V(t);this._color=n,this.lines&&(this.lines.color=dc(n.toRgb())),this.scene&&this.scene.renderFrame()}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,!(!this.lines||!this.scene)&&this.lines.setLineWidth(t)}constructor(){this._color=Jt.getDefaultLineColor(),this.grid=null,this.lines=null,this.scene=null,this.dx=0,this.dy=0,this.scale=1,this.hidden=!1,this.id="paths_"+cc,this._lineWidth=1,cc+=1}getGridProjector(){if(this.grid)return this.grid.projector}getQueryBounds(){const{grid:t}=this;if(t){if(t.queryBounds)return t.queryBounds;if(t.isArea)return{areaId:t.id}}}setGrid(t){this.grid=t,this.scene&&this.bindToScene(this.scene)}getViewBox(){if(!this.grid)return null;let{width:t,height:n}=this.grid.getProjectedRect(),r=Math.max(t,n)/4;return{left:-r,top:r,right:r,bottom:-r}}moveTo(t,n=0){console.warn("Please use moveBy() instead. The moveTo() is under construction")}moveBy(t,n=0){this.dx=t,this.dy=n,this._transferTransform()}buildLinesCollection(){if(this.lines)return this.lines;let t=this.grid,n=new Gr(t.wayPointCount,{width:this._lineWidth,allowColors:!1,is3D:!1});t.forEachWay(function(i,o){n.add({from:i,to:o})});let r=V(this._color).toRgb();n.color=dc(r),n.id=this.id,this.lines=n}destroy(){!this.scene||!this.lines||this.scene.removeChild(this.lines)}bindToScene(t){this.scene&&this.lines&&console.error("You seem to be adding this layer twice..."),this.scene=t,this.grid&&(this.buildLinesCollection(),!this.hidden&&this.scene.appendChild(this.lines))}hide(){this.hidden||(this.hidden=!0,!(!this.scene||!this.grid)&&this.scene.removeChild(this.lines))}show(){if(this.hidden){if(this.hidden=!1,!this.scene||!this.grid){console.log("Layer will be shown when grid is available");return}this.scene.appendChild(this.lines)}}_transferTransform(){this.lines&&(this.lines.translate([this.dx,this.dy,0]),this.lines.updateWorldTransform(!0),this.scene&&this.scene.renderFrame(!0))}}function dc(e){return{r:e.r/255,g:e.g/255,b:e.b/255,a:e.a}}function Hy(e){let t=Ja(e),n=Jt.getDefaultLineColor();t.on("transform",w),t.on("append-child",E),t.on("remove-child",m),t.setClearColor(247/255,242/255,232/255,1);let r=t.getCameraController();r.setMoveSpeed&&(r.setMoveSpeed(200),r.setRotationSpeed(Math.PI/500));let i=t.getGL();i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);let o=!1,l=[],a=Jt.getBackgroundColor();h();let s={render(){t.renderFrame(!0)},clear(){l.forEach(y=>y.destroy()),l=[],t.clear()},queryLayerAll:f,queryLayer:c,getRenderer(){return t},getWGL(){return hy},version(){return"0.0.2"},dispose(){t.clear(),t.dispose(),s.fire("dispose",s),v()},set lineColor(y){l.forEach(C=>{C.color=y}),n=V(y),Ql.fire("line-color",n),s.fire("line-color",n)},get lineColor(){let y=c();return y&&y.color||n},set background(y){a=V(y);let C=a.toRgb();t.setClearColor(C.r/255,C.g/255,C.b/255,C.a),t.renderFrame(),Ql.fire("background-color",a),s.fire("background-color",a)},get background(){return a},add:d,load:u,saveToPNG:p,saveToSVG:g};return Js(s);function u(y,C){let k=al.parse(s,y,C),P=new up;return P.id=k.place,hi.runFromOptions(k).then(_=>{_.setProjector(k.projector),P.setGrid(_)}).catch(_=>{console.error(`Could not execute:
  ${y}
  The error was:`),console.error(_),P.destroy()}),d(P),P}function f(y){return y?l.filter(C=>C.id===y):l}function c(y){let C=f(y);if(C)return C[0]}function d(y){if(!(l.indexOf(y)>-1)&&(y.bindToScene(t),l.push(y),l.length===1)){let C=y.getViewBox();C&&t.setViewBox(C)}}function p(y){return my(s,{name:y})}function g(y,C){return vy(s,Object.assign({},{name:y},C))}function w(){Ql.fire("scene-transform")}function E(y){s.fire("layer-added",y)}function m(y){s.fire("layer-removed",y)}function h(){document.addEventListener("keydown",x,!0),document.addEventListener("keyup",S,!0)}function v(){document.removeEventListener("keydown",x,!0),document.removeEventListener("keyup",S,!0)}function x(y){y.shiftKey&&(o=!0,r.setSpeed&&r.setSpeed(.1))}function S(y){!y.shiftKey&&o&&(r.setSpeed&&r.setSpeed(1),o=!1)}}class Kl{constructor(t,n,r){this.name=t,this.changeColor=r,this.color=n}}const Wy=()=>{const[e,t]=de.useState(!1),[n,r]=de.useState(""),[i,o]=de.useState(null),[l,a]=de.useState(Jt.getBackgroundColor().toRgb()),[s,u]=de.useState(Jt.getLabelColor().toRgb()),[f,c]=de.useState([]),[d,p]=de.useState(!1),g=S=>{S.isArea?(Mt.set("areaId",S.id),Mt.unset("osm_id"),Mt.unset("bbox")):S.bboxString&&(Mt.unset("areaId"),Mt.set("osm_id",S.id),Mt.set("bbox",S.bboxString)),t(!0),r(S.name.split(",")[0]);const y=rs();y.style.visibility="visible";const C=Hy(y);o(C);const k=new up;k.id="lines",k.setGrid(S),C.add(k),window.scene=C};de.useEffect(()=>(i&&(i.on("layer-added",w),i.on("layer-removed",w)),()=>{i&&(i.off("layer-added",w),i.off("layer-removed",w))}),[i]);const w=()=>{const S=[];let y=0;const C=i.getRenderer();C.getRoot().children.forEach(_=>{if(!_.color)return;let A=_.id;A||(y+=1,A="lines"+y);const D=V.fromRatio(_.color);S.push(new Kl(A,D,F=>{_.color=P(F),C.renderFrame(),i.fire("color-change",_)}))}),S.push(new Kl("background",l,a),new Kl("labels",s,_=>u(_))),c(S);function P(_){return{r:_.r/255,g:_.g/255,b:_.b/255,a:_.a}}},E=()=>{p(!d)},m=()=>{i.saveToPNG(n)},h=()=>{i.saveToSVG(n)},v=()=>{Mt.unset("areaId"),Mt.unsetPlace(),Mt.unset("q"),Mt.enableCache(),x(),t(!1),p(!1),a(Jt.getBackgroundColor.toRgb()),u(Jt.getLabelColor().toRgb()),document.body.style.backgroundColor=Jt.getBackgroundColor.toRgbString(),rs().style.visibility="hidden"},x=()=>{i&&(i.dispose(),window.scene=null)};return H.jsxs("div",{children:[!e&&H.jsx(Oh,{onLoaded:g}),e&&H.jsxs("div",{id:"app",children:[H.jsxs("div",{className:"controls",children:[H.jsx("a",{href:"#",className:"print-button",onClick:E,children:"Customize..."}),H.jsx("a",{href:"#",className:"try-another",onClick:v,children:"Try another city"})]}),d&&H.jsxs("div",{className:"print-window",children:[H.jsx("h3",{children:"Export"}),H.jsxs("div",{className:"row",children:[H.jsx("a",{href:"#",onClick:m,className:"col",children:"As an image (.png)"}),H.jsx("span",{className:"col c-2",children:"Save the current screen as a raster image"})]}),H.jsxs("div",{className:"row",children:[H.jsx("a",{href:"#",onClick:h,className:"col",children:"As a vector (.svg)"}),H.jsx("span",{className:"col c-2",children:"Save the current screen as a vector image"})]})]})]})]})};Zl.createRoot(document.getElementById("root")).render(H.jsx(Np.StrictMode,{children:H.jsx(Wy,{})}));
